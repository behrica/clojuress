<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.10">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ClojisR Documentation – 5&nbsp; ClojisR example: Titanic #0</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./clojisr.v1.tutorials.dataset.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta property="og:image" content="https://github.com/scicloj/clojisr/blob/master/resources/ClojisR.svg.png?raw=true">
<meta property="og:title" content="ClojisR Documentation - 5&nbsp; ClojisR example: Titanic #0">
<meta property="og:description" content="">
<link rel="icon" href="data:,">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./clojisr.v1.tutorials.titanic0.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ClojisR example: Titanic #0</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ClojisR Documentation</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clojisr.v1.tutorials.main.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Clojisr tutorial</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clojisr.v1.tutorials.codegen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R code generation from Clojure forms</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clojisr.v1.tutorials.dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dataset transfer from R to Clojure</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clojisr.v1.tutorials.titanic0.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ClojisR example: Titanic #0</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#bringing-the-neecessary-r-functions" id="toc-bringing-the-neecessary-r-functions" class="nav-link active" data-scroll-target="#bringing-the-neecessary-r-functions"><span class="header-section-number">5.1</span> Bringing the neecessary R functions</a></li>
  <li><a href="#introduction-prediction-of-titanic-survival-using-random-forest" id="toc-introduction-prediction-of-titanic-survival-using-random-forest" class="nav-link" data-scroll-target="#introduction-prediction-of-titanic-survival-using-random-forest"><span class="header-section-number">5.2</span> Introduction – Prediction of Titanic Survival using Random Forest</a></li>
  <li><a href="#reading-test-and-train-data" id="toc-reading-test-and-train-data" class="nav-link" data-scroll-target="#reading-test-and-train-data"><span class="header-section-number">5.3</span> Reading test and train data</a></li>
  <li><a href="#combining-test-and-train-data" id="toc-combining-test-and-train-data" class="nav-link" data-scroll-target="#combining-test-and-train-data"><span class="header-section-number">5.4</span> Combining test and train data</a></li>
  <li><a href="#data-check" id="toc-data-check" class="nav-link" data-scroll-target="#data-check"><span class="header-section-number">5.5</span> Data check</a></li>
  <li><a href="#feature-engineering" id="toc-feature-engineering" class="nav-link" data-scroll-target="#feature-engineering"><span class="header-section-number">5.6</span> Feature engineering</a></li>
  <li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values"><span class="header-section-number">5.7</span> Missing values</a></li>
  <li><a href="#first-way" id="toc-first-way" class="nav-link" data-scroll-target="#first-way"><span class="header-section-number">6</span> First way:</a>
  <ul>
  <li><a href="#feature-enginnering-part-2" id="toc-feature-enginnering-part-2" class="nav-link" data-scroll-target="#feature-enginnering-part-2"><span class="header-section-number">6.1</span> Feature Enginnering: Part 2</a></li>
  </ul></li>
  <li><a href="#prediction" id="toc-prediction" class="nav-link" data-scroll-target="#prediction"><span class="header-section-number">7</span> Prediction</a>
  <ul>
  <li><a href="#variable-importance" id="toc-variable-importance" class="nav-link" data-scroll-target="#variable-importance"><span class="header-section-number">7.1</span> Variable Importance</a></li>
  <li><a href="#variable-importance-1" id="toc-variable-importance-1" class="nav-link" data-scroll-target="#variable-importance-1"><span class="header-section-number">7.2</span> Variable importance</a></li>
  <li><a href="#final-prediction" id="toc-final-prediction" class="nav-link" data-scroll-target="#final-prediction"><span class="header-section-number">7.3</span> Final Prediction</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">7.4</span> Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ClojisR example: Titanic #0</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style></style>
<style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style>
<style>.clay-limit-image-width .clay-image {max-width: 100%}
</style>
<script src="clojisr.v1.tutorials.titanic0_files/md-default0.js" type="text/javascript"></script>
<script src="clojisr.v1.tutorials.titanic0_files/md-default1.js" type="text/javascript"></script>
<div class="sourceClojure">
<div class="sourceCode" id="cb1"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">ns</span> clojisr.v1.tutorials.titanic0</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  (<span class="at">:require</span> [scicloj.kindly.v4.kind <span class="at">:as</span> kind]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            [scicloj.kindly.v4.api <span class="at">:as</span> kindly]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This notebook is a variation of Pradeep Tripathi’s Titanic <a href="https://www.kaggle.com/pradeeptripathi/prediction-of-titanic-survival-using-r/code">Kaggle solution</a> in R. Instead of writing it in R as the original, we write it in Clojure, and call R from Clojure.</p>
<p>The goal is to study the Clojure-R interop, and expecially experiment with various ways to define Clojure functions corresponding to R functions.</p>
<p>In this first, naive version, the corresponding Clojure functions are rather simple. They expect a varying number of arguments, and pass those arguments to R function calls by a rather generic way (as defined by Clojisrs)</p>
<p>We do not try to replace the rather imperative style of the original tutorial. Rather, we try to write something that is as close as possible to the original.</p>
<p>We have leanred a lot from this use case. It did expose lots of issues and open questions about the Clojisr API and implementation. Note, however, that the piece of R code that we are mimicing here is not so typical to the current tidyverse trends – there is no heavy use of dplyr, tidy evaluation, etc. It may be a good idea to study other examples that have more of those.</p>
<p>daslu, Jan.&nbsp;2020</p>
<hr>
<section id="bringing-the-neecessary-r-functions" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="bringing-the-neecessary-r-functions"><span class="header-section-number">5.1</span> Bringing the neecessary R functions</h2>
<p>Here are most of the functions that we need, brought by the standard <code>require-r</code> mechanism, inspired by <a href="https://github.com/cnuernber/libpython-clj%5D">libpython-clj</a>’s <code>require-python</code> (though not as sophisticated at the moment). In function names, dots are changed to hyphens.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb2"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">require</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> '[clojisr.v1.r <span class="at">:as</span> r</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">:refer</span> [r r-&gt;clj</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>           r== r!= r&lt; r&gt; r&lt;= r&gt;= r&amp; r&amp;&amp; r| r||</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>           str-md</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>           r+</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>           bra bra&lt;- brabra brabra&lt;- colon</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>           require-r]]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> '[clojisr.v1.applications.plotting <span class="at">:refer</span> [plot-&gt;svg]]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a> '[clojure.string <span class="at">:as</span> string]</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a> '[clojure.java.io <span class="at">:as</span> io])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb3"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(r/set-default-session-type! <span class="at">:rserve</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb4"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:session-type</span> <span class="at">:rserve</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb5"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(r/discard-all-sessions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb6"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>{}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb7"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(require-r</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a> '[base <span class="at">:refer</span> [round names ! set-seed sum which rnorm lapply sapply <span class="va">%</span>in<span class="va">%</span> table list-files c paste colnames row-names cbind gsub &lt;- $ $&lt;- as-data-frame data-frame nlevels factor expression is-na strsplit as-character summary table]]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a> '[stats <span class="at">:refer</span> [median predict]]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a> '[ggplot2 <span class="at">:refer</span> [ggsave qplot ggplot aes facet_grid geom_density geom_text geom_histogram geom_bar scale_x_continuous scale_y_continuous labs coord_flip geom_vline geom_hline geom_boxplot]]</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a> '[ggthemes <span class="at">:refer</span> [theme_few]]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a> '[scales <span class="at">:refer</span> [dollar_format]]</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a> '[graphics <span class="at">:refer</span> [par plot hist dev-off legend]]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a> '[dplyr <span class="at">:refer</span> [mutate bind_rows summarise group_by]]</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a> '[utils <span class="at">:refer</span> [read-csv write-csv head]]</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a> '[mice <span class="at">:refer</span> [mice complete]]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a> '[randomForest <span class="at">:refer</span> [randomForest importance]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb8"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="va">nil</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="introduction-prediction-of-titanic-survival-using-random-forest" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="introduction-prediction-of-titanic-survival-using-random-forest"><span class="header-section-number">5.2</span> Introduction – Prediction of Titanic Survival using Random Forest</h2>
<p>Pradeep Tripathi’s solution will use randomForest to create a model predicting survival on the Titanic.</p>
</section>
<section id="reading-test-and-train-data" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="reading-test-and-train-data"><span class="header-section-number">5.3</span> Reading test and train data</h2>
<p>This step assumes that the <a href="https://www.kaggle.com/c/titanic/data">Titanic data</a> lies under the <code>resources/data/</code> path under your Clojure project.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb9"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> data-path</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> (io/resource <span class="st">"data/titanic"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>      (io/file)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>      (.getAbsolutePath)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">str</span> <span class="st">"/"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code># Original code:
list.files('../input')</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb11"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(list-files data-path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb12"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"test.csv.gz"</span>  <span class="st">"train.csv.gz"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code># Original code:
train &lt;-read.csv('../input/train.csv', stringsAsFactors = F)
test  &lt;-read.csv('../input/test.csv', stringsAsFactors = F)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb14"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> train </span>(read-csv</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>            (<span class="kw">str</span> data-path <span class="st">"train.csv.gz"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">:stringsAsFactors</span> <span class="va">false</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb15"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> test </span>(read-csv</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>            (<span class="kw">str</span> data-path <span class="st">"test.csv.gz"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">:stringsAsFactors</span> <span class="va">false</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combining-test-and-train-data" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="combining-test-and-train-data"><span class="header-section-number">5.4</span> Combining test and train data</h2>
<p>As explained by Thripathi, the Random Forest algorithm will use the Bagging method to create multiple random samples with replacement from the dataset, that will be treated as training data, while the out of bag samples will be treated as test data.</p>
<pre><code># Original code:
titanic&lt;-bind_rows(train,test)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb17"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  (bind_rows train <span class="kw">test</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-check" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="data-check"><span class="header-section-number">5.5</span> Data check</h2>
<pre><code># Original code:
str(titanic)
summary(titanic)
head(titanic)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb19"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>(kind/md</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a> (str-md titanic))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>'data.frame':   1309 obs. of  12 variables:
 $ PassengerId: int  1 2 3 4 5 6 7 8 9 10 ...
 $ Survived   : int  0 1 1 1 0 0 0 0 1 1 ...
 $ Pclass     : int  3 1 3 1 3 3 1 3 3 2 ...
 $ Name       : chr  "Braund, Mr. Owen Harris" "Cumings, Mrs. John Bradley (Florence Briggs Thayer)" "Heikkinen, Miss. Laina" "Futrelle, Mrs. Jacques Heath (Lily May Peel)" ...
 $ Sex        : chr  "male" "female" "female" "female" ...
 $ Age        : num  22 38 26 35 35 NA 54 2 27 14 ...
 $ SibSp      : int  1 1 0 1 0 0 0 3 0 1 ...
 $ Parch      : int  0 0 0 0 0 0 0 1 2 0 ...
 $ Ticket     : chr  "A/5 21171" "PC 17599" "STON/O2. 3101282" "113803" ...
 $ Fare       : num  7.25 71.28 7.92 53.1 8.05 ...
 $ Cabin      : chr  "" "C85" "" "C123" ...
 $ Embarked   : chr  "S" "C" "S" "S" ...</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb21"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(summary titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb22"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>  PassengerId      Survived          Pclass          Name          </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a> Min.   :   <span class="dv">1</span>   Min.   <span class="at">:0.0000</span>   Min.   <span class="at">:1.000</span>   Length<span class="at">:1309</span>       </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>st Qu.: <span class="dv">328</span>   <span class="dv">1</span>st Qu.<span class="at">:0.0000</span>   <span class="dv">1</span>st Qu.<span class="at">:2.000</span>   Class <span class="at">:character</span>  </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a> Median : <span class="dv">655</span>   Median <span class="at">:0.0000</span>   Median <span class="at">:3.000</span>   Mode  <span class="at">:character</span>  </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a> Mean   : <span class="dv">655</span>   Mean   <span class="at">:0.3838</span>   Mean   <span class="at">:2.295</span>                     </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a> <span class="bn">3rd</span> Qu.: <span class="dv">982</span>   <span class="bn">3rd</span> Qu.<span class="at">:1.0000</span>   <span class="bn">3rd</span> Qu.<span class="at">:3.000</span>                     </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a> Max.   <span class="at">:1309</span>   Max.   <span class="at">:1.0000</span>   Max.   <span class="at">:3.000</span>                     </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                NA<span class="at">'s</span>   <span class="at">:418</span>                                        </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>     Sex                 Age            SibSp            Parch      </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        Min.   : <span class="fl">0.17</span>   Min.   <span class="at">:0.0000</span>   Min.   <span class="at">:0.000</span>  </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   <span class="dv">1</span>st Qu.<span class="at">:21.00</span>   <span class="dv">1</span>st Qu.<span class="at">:0.0000</span>   <span class="dv">1</span>st Qu.<span class="at">:0.000</span>  </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   Median <span class="at">:28.00</span>   Median <span class="at">:0.0000</span>   Median <span class="at">:0.000</span>  </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>                    Mean   <span class="at">:29.88</span>   Mean   <span class="at">:0.4989</span>   Mean   <span class="at">:0.385</span>  </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>                    <span class="bn">3rd</span> Qu.<span class="at">:39.00</span>   <span class="bn">3rd</span> Qu.<span class="at">:1.0000</span>   <span class="bn">3rd</span> Qu.<span class="at">:0.000</span>  </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="at">:80.00</span>   Max.   <span class="at">:8.0000</span>   Max.   <span class="at">:9.000</span>  </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>                    NA<span class="at">'s</span>   <span class="at">:263</span>                                     </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    Ticket               Fare            Cabin             Embarked        </span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        Min.   :  <span class="fl">0.000</span>   Length<span class="at">:1309</span>        Length<span class="at">:1309</span>       </span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   <span class="dv">1</span>st Qu.:  <span class="fl">7.896</span>   Class <span class="at">:character</span>   Class <span class="at">:character</span>  </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   Median : <span class="fl">14.454</span>   Mode  <span class="at">:character</span>   Mode  <span class="at">:character</span>  </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>                    Mean   : <span class="fl">33.295</span>                                        </span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>                    <span class="bn">3rd</span> Qu.: <span class="fl">31.275</span>                                        </span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="at">:512.329</span>                                        </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>                    NA<span class="at">'s</span>   <span class="at">:1</span>                                              </span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb23"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(head titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb24"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  PassengerId Survived Pclass</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>           <span class="dv">1</span>        <span class="dv">0</span>      <span class="dv">3</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>           <span class="dv">2</span>        <span class="dv">1</span>      <span class="dv">1</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>           <span class="dv">3</span>        <span class="dv">1</span>      <span class="dv">3</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>           <span class="dv">4</span>        <span class="dv">1</span>      <span class="dv">1</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>           <span class="dv">5</span>        <span class="dv">0</span>      <span class="dv">3</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>           <span class="dv">6</span>        <span class="dv">0</span>      <span class="dv">3</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                                                 Name    Sex Age SibSp Parch</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>                             Braund, Mr. Owen Harris   male  <span class="dv">22</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Cumings, Mrs. John Bradley (Florence Briggs Thayer) female  <span class="dv">38</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                              Heikkinen, Miss. Laina female  <span class="dv">26</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>        Futrelle, Mrs. Jacques Heath (Lily May Peel) female  <span class="dv">35</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>                            Allen, Mr. William Henry   male  <span class="dv">35</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>                                    Moran, Mr. James   male  NA     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>            Ticket    Fare Cabin Embarked</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        A/<span class="dv">5</span> <span class="dv">21171</span>  <span class="fl">7.2500</span>              S</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         PC <span class="dv">17599</span> <span class="fl">71.2833</span>   C85        C</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> STON/O2. <span class="dv">3101282</span>  <span class="fl">7.9250</span>              S</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>           <span class="dv">113803</span> <span class="fl">53.1000</span>  C123        S</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>           <span class="dv">373450</span>  <span class="fl">8.0500</span>              S</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>           <span class="dv">330877</span>  <span class="fl">8.4583</span>              Q</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: We’ve got a sense of our variables, their class type, 3 and the first few observations of each. We know we’re working with 1309 observations of 12 variables.</p>
</section>
<section id="feature-engineering" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="feature-engineering"><span class="header-section-number">5.6</span> Feature engineering</h2>
<p>Thripathi’s explanation: We can break down Passenger name into additional meaningful variables which can feed predictions or be used in the creation of additional new variables. For instance, passenger title is contained within the passenger name variable and we can use surname to represent families.</p>
<pre><code># Original code:
colnames(titanic)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb26"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(colnames titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb27"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"PassengerId"</span> <span class="st">"Survived"</span>    <span class="st">"Pclass"</span>      <span class="st">"Name"</span>        <span class="st">"Sex"</span>        </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">"Age"</span>         <span class="st">"SibSp"</span>       <span class="st">"Parch"</span>       <span class="st">"Ticket"</span>      <span class="st">"Fare"</span>       </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">"Cabin"</span>       <span class="st">"Embarked"</span>   </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Retrieve title from passenger names</p>
<pre><code># Original code:
titanic$title&lt;-gsub('(.*, )|(\..*)', '', titanic$Name)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb29"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'title</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>       (gsub <span class="st">"(.*, )|(</span><span class="sc">\\\\</span><span class="st">..*)"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">""</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>             ($ titanic <span class="at">'Name</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show title counts by sex</p>
<pre><code># Original code:
table(titanic$Sex, titanic$title)</code></pre>
<p>Clojisr can covert an R frequency table to a Clojure data structure:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb31"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> (table ($ titanic <span class="at">'Sex</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>           ($ titanic <span class="at">'title</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    r-&gt;clj)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="clay-dataset">
<p>_unnamed [36 3]:</p>
<table class="table">
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th style="text-align: right;">:$value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>female</td>
<td>Capt</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td>female</td>
<td>Col</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>female</td>
<td>Don</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td>female</td>
<td>Dona</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td>female</td>
<td>Dr</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td>female</td>
<td>Jonkheer</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>female</td>
<td>Lady</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td>female</td>
<td>Major</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td>female</td>
<td>Master</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td>female</td>
<td>Miss</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td style="text-align: right;">…</td>
</tr>
<tr class="even">
<td>male</td>
<td>Major</td>
<td style="text-align: right;">757</td>
</tr>
<tr class="odd">
<td>male</td>
<td>Master</td>
<td style="text-align: right;">197</td>
</tr>
<tr class="even">
<td>male</td>
<td>Miss</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td>male</td>
<td>Mlle</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td>male</td>
<td>Mme</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td>male</td>
<td>Mr</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td>male</td>
<td>Mrs</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td>male</td>
<td>Ms</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td>male</td>
<td>Rev</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>male</td>
<td>Sir</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td>male</td>
<td>the Countess</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
<p>Sometimes, it is convenient to first convert it to an R data frame:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb32"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(as-data-frame</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a> (table ($ titanic <span class="at">'Sex</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        ($ titanic <span class="at">'title</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb33"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>     Var1         Var2 Freq</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  female         Capt    <span class="dv">0</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    male         Capt    <span class="dv">1</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  female          Col    <span class="dv">0</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    male          Col    <span class="dv">4</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  female          Don    <span class="dv">0</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    male          Don    <span class="dv">1</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  female         Dona    <span class="dv">1</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    male         Dona    <span class="dv">0</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  female           Dr    <span class="dv">1</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>   male           Dr    <span class="dv">7</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> female     Jonkheer    <span class="dv">0</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>   male     Jonkheer    <span class="dv">1</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> female         Lady    <span class="dv">1</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>   male         Lady    <span class="dv">0</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> female        Major    <span class="dv">0</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>   male        Major    <span class="dv">2</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span> female       Master    <span class="dv">0</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>   male       Master   <span class="dv">61</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> female         Miss  <span class="dv">260</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>   male         Miss    <span class="dv">0</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> female         Mlle    <span class="dv">2</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>   male         Mlle    <span class="dv">0</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span> female          Mme    <span class="dv">1</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>   male          Mme    <span class="dv">0</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span> female           Mr    <span class="dv">0</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>   male           Mr  <span class="dv">757</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> female          Mrs  <span class="dv">197</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>   male          Mrs    <span class="dv">0</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> female           Ms    <span class="dv">2</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>   male           Ms    <span class="dv">0</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span> female          Rev    <span class="dv">0</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span>   male          Rev    <span class="dv">8</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="dv">33</span> female          Sir    <span class="dv">0</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span>   male          Sir    <span class="dv">1</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="dv">35</span> female the Countess    <span class="dv">1</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span>   male the Countess    <span class="dv">0</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sometimes, it is convenient to use the way R prints a frequency table.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb34"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(table ($ titanic <span class="at">'Sex</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>       ($ titanic <span class="at">'title</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb35"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>         Capt Col Don Dona  Dr Jonkheer Lady Major Master Miss Mlle Mme  Mr Mrs</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  female    <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span>    <span class="dv">1</span>   <span class="dv">1</span>        <span class="dv">0</span>    <span class="dv">1</span>     <span class="dv">0</span>      <span class="dv">0</span>  <span class="dv">260</span>    <span class="dv">2</span>   <span class="dv">1</span>   <span class="dv">0</span> <span class="dv">197</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  male      <span class="dv">1</span>   <span class="dv">4</span>   <span class="dv">1</span>    <span class="dv">0</span>   <span class="dv">7</span>        <span class="dv">1</span>    <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">61</span>    <span class="dv">0</span>    <span class="dv">0</span>   <span class="dv">0</span> <span class="dv">757</span>   <span class="dv">0</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>          Ms Rev Sir the Countess</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  female   <span class="dv">2</span>   <span class="dv">0</span>   <span class="dv">0</span>            <span class="dv">1</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  male     <span class="dv">0</span>   <span class="dv">8</span>   <span class="dv">1</span>            <span class="dv">0</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Convert titles with low count into a new title, and rename/reassign Mlle, Ms and Mme.</p>
<pre><code># Original code:
unusual_title&lt;-c('Dona', 'Lady', 'the Countess','Capt', 'Col', 'Don',
                 'Dr', 'Major', 'Rev', 'Sir', 'Jonkheer')</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb37"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> unusual-title</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Dona"</span>, <span class="st">"Lady"</span>, <span class="st">"the Countess"</span>,<span class="st">"Capt"</span>, <span class="st">"Col"</span>, <span class="st">"Don"</span>,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">"Dr"</span>, <span class="st">"Major"</span>, <span class="st">"Rev"</span>, <span class="st">"Sir"</span>, <span class="st">"Jonkheer"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code># Original code:
titanic$title[titanic$title=='Mlle']&lt;-'Miss'
titanic$title[titanic$title=='Ms']&lt;-'Miss'
titanic$title[titanic$title=='Mme']&lt;-'Mrs'
titanic$title[titanic$title %in% unusual_title]&lt;-'Unusual Title'</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb39"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r== ($ titanic <span class="at">'title</span>) <span class="st">"Mlle"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"title"</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Miss"</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r== ($ titanic <span class="at">'title</span>) <span class="st">"Ms"</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"title"</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Miss"</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r== ($ titanic <span class="at">'title</span>) <span class="st">"Mme"</span>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">"title"</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Mrs"</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (<span class="va">%</span>in<span class="va">%</span> ($ titanic <span class="at">'title</span>) unusual-title)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>             <span class="st">"title"</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Mrs"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check the title count again:</p>
<pre><code># Original code:
table(titanic$Sex, titanic$title)</code></pre>
<p>trying again:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb41"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(table ($ titanic <span class="at">'Sex</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>       ($ titanic <span class="at">'title</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb42"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>         Master Miss  Mr Mrs</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  female      <span class="dv">0</span>  <span class="dv">264</span>   <span class="dv">0</span> <span class="dv">202</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  male       <span class="dv">61</span>    <span class="dv">0</span> <span class="dv">757</span>  <span class="dv">25</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create a variable which contain the surnames of passengers.</p>
<pre><code># Original code:
titanic$surname&lt;-sapply(titanic$Name, function(x) strsplit(x,split='[,.]')[[1]][1])
nlevels(factor(titanic$surname)) ## 875 unique surnames</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb44"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'surname</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>       (sapply ($ titanic <span class="at">'Name</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>               (r '(function [x]</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                             (bra (brabra (strsplit x <span class="at">:split</span> <span class="st">"[,.]"</span>) <span class="dv">1</span>) <span class="dv">1</span>))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb45"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'surname</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    factor</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    nlevels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb46"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">875</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Family size variable: We are going to create a variable “famsize” to know the number of family members. It includes number of sibling/number of parents and children+ passenger themselves</p>
<pre><code># Original code:
titanic$famsize &lt;- titanic$SibSp + titanic$Parch + 1</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb48"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'famsize</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>       (r+ ($ titanic <span class="at">'SibSp</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>           ($ titanic <span class="at">'Parch</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>           <span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create a family variable:</p>
<pre><code># Original code:
titanic$family &lt;- paste(titanic$surname, titanic$famsize, sep='_')</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb50"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'family</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>       (paste ($ titanic <span class="at">'surname</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>              ($ titanic <span class="at">'famsize</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">:sep</span> <span class="st">"_"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Visualize the relationship between family size &amp; survival:</p>
<pre><code> ggplot(titanic[1:891,], aes(x = famsize, fill = factor(Survived))) +
   geom_bar(stat='count', position='dodge') +
   scale_x_continuous(breaks=c(1:11)) +
   labs(x = 'Family Size') +
   theme_few()</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb52"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    (bra (colon <span class="dv">1</span> <span class="dv">891</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>         <span class="va">nil</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    (ggplot (aes <span class="at">:x</span> <span class="at">'famsize</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">:fill</span> '(factor Survived)))</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    (r+ (geom_bar <span class="at">:stat</span> <span class="st">"count"</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">:position</span> <span class="st">"dodge"</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>        (scale_x_continuous <span class="at">:breaks</span> (colon <span class="dv">1</span> <span class="dv">11</span>))</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        (labs <span class="at">:x</span> <span class="st">"Family Size"</span>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>        (theme_few))</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    plot-&gt;svg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<rect x="0.00" y="0.00" width="720.00" height="576.00" style="stroke-width: 1.16; stroke: #FFFFFF; fill: #FFFFFF;"></rect>
</g>
<defs>
  <clippath id="cpNDMuODl8NTkyLjg3fDUuOTh8NTQxLjQy">
    <rect x="43.89" y="5.98" width="548.98" height="535.44"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNDMuODl8NTkyLjg3fDUuOTh8NTQxLjQy)">
<rect x="43.89" y="5.98" width="548.98" height="535.44" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="68.84" y="30.32" width="20.60" height="486.77" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="114.63" y="423.37" width="20.60" height="93.71" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="160.41" y="461.12" width="20.60" height="55.97" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="206.20" y="506.67" width="20.60" height="10.41" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="251.99" y="501.47" width="20.60" height="15.62" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="297.77" y="492.35" width="20.60" height="24.73" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="343.56" y="506.67" width="20.60" height="10.41" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="389.35" y="509.27" width="41.21" height="7.81" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="526.71" y="507.97" width="41.21" height="9.11" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="89.45" y="304.94" width="20.60" height="212.15" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="135.23" y="401.25" width="20.60" height="115.84" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="181.02" y="440.29" width="20.60" height="76.79" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="226.81" y="489.75" width="20.60" height="27.33" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="272.59" y="513.18" width="20.60" height="3.90" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="318.38" y="513.18" width="20.60" height="3.90" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="364.16" y="511.88" width="20.60" height="5.21" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="43.89" y="5.98" width="548.98" height="535.44" style="stroke-width: 1.16; stroke: #4D4D4D;"></rect>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<text x="38.51" y="520.58" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="38.51" y="390.43" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="18.30px" lengthadjust="spacingAndGlyphs">100</text>
<text x="38.51" y="260.28" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="18.30px" lengthadjust="spacingAndGlyphs">200</text>
<text x="38.51" y="130.12" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="18.30px" lengthadjust="spacingAndGlyphs">300</text>
<polyline points="40.90,517.08 43.89,517.08 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="40.90,386.93 43.89,386.93 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="40.90,256.78 43.89,256.78 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="40.90,126.63 43.89,126.63 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="89.45,544.41 89.45,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="135.23,544.41 135.23,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="181.02,544.41 181.02,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="226.81,544.41 226.81,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="272.59,544.41 272.59,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="318.38,544.41 318.38,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="364.16,544.41 364.16,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="409.95,544.41 409.95,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="455.74,544.41 455.74,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="501.52,544.41 501.52,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="547.31,544.41 547.31,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<text x="89.45" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">1</text>
<text x="135.23" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">2</text>
<text x="181.02" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">3</text>
<text x="226.81" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">4</text>
<text x="272.59" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">5</text>
<text x="318.38" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">6</text>
<text x="364.16" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">7</text>
<text x="409.95" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">8</text>
<text x="455.74" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">9</text>
<text x="501.52" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">10</text>
<text x="547.31" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">11</text>
<text x="318.38" y="567.52" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="67.08px" lengthadjust="spacingAndGlyphs">Family Size</text>
<text transform="translate(14.73,273.70) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="33.88px" lengthadjust="spacingAndGlyphs">count</text>
<rect x="604.82" y="241.83" width="109.20" height="63.74" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<text x="610.80" y="257.80" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="97.24px" lengthadjust="spacingAndGlyphs">factor(Survived)</text>
<rect x="610.80" y="265.03" width="17.28" height="17.28" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="611.51" y="265.74" width="15.86" height="15.86" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="610.80" y="282.31" width="17.28" height="17.28" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="611.51" y="283.02" width="15.86" height="15.86" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<text x="634.06" y="277.17" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="634.06" y="294.45" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">1</text>
</g>
</svg>

<p>Tripathi: Explanation: We can see that there’s a survival penalty to single/alone, and those with family sizes above 4. We can collapse this variable into three levels which will be helpful since there are comparatively fewer large families.</p>
<p>Discretize family size:</p>
<pre><code># Original code:
titanic$fsizeD[titanic$famsize == 1] &lt;- 'single'
titanic$fsizeD[titanic$famsize &lt; 5 &amp; titanic$famsize&gt; 1] &lt;- 'small'
titanic$fsizeD[titanic$famsize&gt; 4] &lt;- 'large'</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb54"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r== ($ titanic <span class="at">'famsize</span>) <span class="dv">1</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"fsizeD"</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"single"</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r&amp; (r&lt; ($ titanic <span class="at">'famsize</span>) <span class="dv">5</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>                 (r&gt; ($ titanic <span class="at">'famsize</span>) <span class="dv">1</span>))</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"fsizeD"</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"small"</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r&gt; ($ titanic <span class="at">'famsize</span>) <span class="dv">4</span>)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">"fsizeD"</span> <span class="st">"large"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let us check if it makes sense:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb55"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'fsizeD</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb56"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a> large single  small </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">82</span>    <span class="dv">790</span>    <span class="dv">437</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And let us make sure there are no missing values:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb57"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'fsizeD</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    is-na</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb58"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>FALSE </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a> <span class="dv">1309</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: There’s could be some useful information in the passenger cabin variable including about their deck, so Retrieve deck from Cabin variable.</p>
<pre><code># Original code:
titanic$Cabin[1:28]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb60"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    (bra (colon <span class="dv">1</span> <span class="dv">28</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Cabin"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb61"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">""</span>            <span class="st">"C85"</span>         <span class="st">""</span>            <span class="st">"C123"</span>        <span class="st">""</span>           </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">""</span>            <span class="st">"E46"</span>         <span class="st">""</span>            <span class="st">""</span>            <span class="st">""</span>           </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">"G6"</span>          <span class="st">"C103"</span>        <span class="st">""</span>            <span class="st">""</span>            <span class="st">""</span>           </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">16</span>] <span class="st">""</span>            <span class="st">""</span>            <span class="st">""</span>            <span class="st">""</span>            <span class="st">""</span>           </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] <span class="st">""</span>            <span class="st">"D56"</span>         <span class="st">""</span>            <span class="st">"A6"</span>          <span class="st">""</span>           </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">26</span>] <span class="st">""</span>            <span class="st">""</span>            <span class="st">"C23 C25 C27"</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first character is the deck:</p>
<pre><code># Original code:
strsplit(titanic$Cabin[2], NULL) [[1]]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb63"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'Cabin</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    (bra <span class="dv">2</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    (strsplit <span class="va">nil</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    (brabra <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb64"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"C"</span> <span class="st">"8"</span> <span class="st">"5"</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deck variable:</p>
<pre><code># Original R code:
titanic$deck&lt;-factor(sapply(titanic$Cabin, function(x) strsplit(x, NULL)[[1]][1]))</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb66"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'deck</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>       (factor (sapply ($ titanic <span class="at">'Cabin</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>                       '(function [x]</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>                                  (bra (brabra (strsplit x <span class="va">nil</span>) <span class="dv">1</span>) <span class="dv">1</span>))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let us check:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb67"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'deck</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb68"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a> A  B  C  D  E  F  G  T </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span> <span class="dv">65</span> <span class="dv">94</span> <span class="dv">46</span> <span class="dv">41</span> <span class="dv">21</span>  <span class="dv">5</span>  <span class="dv">1</span> </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-values" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="missing-values"><span class="header-section-number">5.7</span> Missing values</h2>
<p>updated summary</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb69"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>(summary titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb70"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>  PassengerId      Survived          Pclass          Name          </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a> Min.   :   <span class="dv">1</span>   Min.   <span class="at">:0.0000</span>   Min.   <span class="at">:1.000</span>   Length<span class="at">:1309</span>       </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>st Qu.: <span class="dv">328</span>   <span class="dv">1</span>st Qu.<span class="at">:0.0000</span>   <span class="dv">1</span>st Qu.<span class="at">:2.000</span>   Class <span class="at">:character</span>  </span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a> Median : <span class="dv">655</span>   Median <span class="at">:0.0000</span>   Median <span class="at">:3.000</span>   Mode  <span class="at">:character</span>  </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a> Mean   : <span class="dv">655</span>   Mean   <span class="at">:0.3838</span>   Mean   <span class="at">:2.295</span>                     </span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a> <span class="bn">3rd</span> Qu.: <span class="dv">982</span>   <span class="bn">3rd</span> Qu.<span class="at">:1.0000</span>   <span class="bn">3rd</span> Qu.<span class="at">:3.000</span>                     </span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a> Max.   <span class="at">:1309</span>   Max.   <span class="at">:1.0000</span>   Max.   <span class="at">:3.000</span>                     </span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>                NA<span class="at">'s</span>   <span class="at">:418</span>                                        </span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>     Sex                 Age            SibSp            Parch      </span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        Min.   : <span class="fl">0.17</span>   Min.   <span class="at">:0.0000</span>   Min.   <span class="at">:0.000</span>  </span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   <span class="dv">1</span>st Qu.<span class="at">:21.00</span>   <span class="dv">1</span>st Qu.<span class="at">:0.0000</span>   <span class="dv">1</span>st Qu.<span class="at">:0.000</span>  </span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   Median <span class="at">:28.00</span>   Median <span class="at">:0.0000</span>   Median <span class="at">:0.000</span>  </span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>                    Mean   <span class="at">:29.88</span>   Mean   <span class="at">:0.4989</span>   Mean   <span class="at">:0.385</span>  </span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>                    <span class="bn">3rd</span> Qu.<span class="at">:39.00</span>   <span class="bn">3rd</span> Qu.<span class="at">:1.0000</span>   <span class="bn">3rd</span> Qu.<span class="at">:0.000</span>  </span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="at">:80.00</span>   Max.   <span class="at">:8.0000</span>   Max.   <span class="at">:9.000</span>  </span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>                    NA<span class="at">'s</span>   <span class="at">:263</span>                                     </span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>    Ticket               Fare            Cabin             Embarked        </span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        Min.   :  <span class="fl">0.000</span>   Length<span class="at">:1309</span>        Length<span class="at">:1309</span>       </span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   <span class="dv">1</span>st Qu.:  <span class="fl">7.896</span>   Class <span class="at">:character</span>   Class <span class="at">:character</span>  </span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   Median : <span class="fl">14.454</span>   Mode  <span class="at">:character</span>   Mode  <span class="at">:character</span>  </span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>                    Mean   : <span class="fl">33.295</span>                                        </span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>                    <span class="bn">3rd</span> Qu.: <span class="fl">31.275</span>                                        </span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="at">:512.329</span>                                        </span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>                    NA<span class="at">'s</span>   <span class="at">:1</span>                                              </span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    title             surname             famsize          family         </span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        Length<span class="at">:1309</span>        Min.   : <span class="fl">1.000</span>   Length<span class="at">:1309</span>       </span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   Class <span class="at">:character</span>   <span class="dv">1</span>st Qu.: <span class="fl">1.000</span>   Class <span class="at">:character</span>  </span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   Mode  <span class="at">:character</span>   Median : <span class="fl">1.000</span>   Mode  <span class="at">:character</span>  </span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>                                       Mean   : <span class="fl">1.884</span>                     </span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a>                                       <span class="bn">3rd</span> Qu.: <span class="fl">2.000</span>                     </span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a>                                       Max.   <span class="at">:11.000</span>                     </span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a>                                                                          </span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a>    fsizeD               deck     </span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a> Length<span class="at">:1309</span>        C      :  <span class="dv">94</span>  </span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a> Class <span class="at">:character</span>   B      :  <span class="dv">65</span>  </span>
<span id="cb70-36"><a href="#cb70-36" aria-hidden="true" tabindex="-1"></a> Mode  <span class="at">:character</span>   D      :  <span class="dv">46</span>  </span>
<span id="cb70-37"><a href="#cb70-37" aria-hidden="true" tabindex="-1"></a>                    E      :  <span class="dv">41</span>  </span>
<span id="cb70-38"><a href="#cb70-38" aria-hidden="true" tabindex="-1"></a>                    A      :  <span class="dv">22</span>  </span>
<span id="cb70-39"><a href="#cb70-39" aria-hidden="true" tabindex="-1"></a>                    (Other):  <span class="dv">27</span>  </span>
<span id="cb70-40"><a href="#cb70-40" aria-hidden="true" tabindex="-1"></a>                    NA<span class="at">'s</span>   <span class="at">:1014</span>  </span>
<span id="cb70-41"><a href="#cb70-41" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Thripathi’s explanation, following the summary: - Age : 263 missing values - Fare : 1 missing values - Embarked : 2 missing values - survived:too many - Cabin : too many</p>
<p>Missing value in Embarkment – Tripathi: Now we will explore missing values and rectify it through imputation. There are a number of different ways we could go about doing this. Given the small size of the dataset, we probably should not opt for deleting either entire observations (rows) or variables (columns) containing missing values. We’re left with the option of replacing missing values with sensible values given the distribution of the data, e.g., the mean, median or mode.</p>
<p>To know which passengers have no listed embarkment port:</p>
<pre><code># Original code:
titanic$Embarked[titanic$Embarked == ""] &lt;- NA
titanic[(which(is.na(titanic$Embarked))), 1]</code></pre>
<p>Marking as missing:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb72"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  (bra&lt;- titanic</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>         (r== ($ titanic <span class="at">'Embarked</span>) <span class="st">""</span>)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Embarked"</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">'NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Checking which has missing port:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb73"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    (bra (<span class="kw">-&gt;</span> titanic</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>             ($ <span class="at">'Embarked</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>             is-na</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>             which)</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>         <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb74"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">62</span> <span class="dv">830</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Passengers 62 and 830 are missing Embarkment.</p>
<pre><code># Original code:
titanic[c(62, 830), 'Embarked']</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb76"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    (bra [<span class="dv">62</span> <span class="dv">830</span>]</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Embarked"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb77"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] NA NA</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: So Passenger numbers 62 and 830 are each missing their embarkment ports. Let’s look at their class of ticket and their fare.</p>
<pre><code># Original code:
titanic[c(62, 830), c(1,3,10)]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb79"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    (bra [<span class="dv">62</span> <span class="dv">830</span>]</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>         [<span class="dv">1</span> <span class="dv">3</span> <span class="dv">10</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb80"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>    PassengerId Pclass Fare</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="dv">62</span>           <span class="dv">62</span>      <span class="dv">1</span>   <span class="dv">80</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="dv">830</span>         <span class="dv">830</span>      <span class="dv">1</span>   <span class="dv">80</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb81"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    (bra [<span class="dv">62</span> <span class="dv">830</span>]</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>         [<span class="st">"PassengerId"</span> <span class="st">"Pclass"</span> <span class="st">"Fare"</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb82"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>    PassengerId Pclass Fare</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="dv">62</span>           <span class="dv">62</span>      <span class="dv">1</span>   <span class="dv">80</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="dv">830</span>         <span class="dv">830</span>      <span class="dv">1</span>   <span class="dv">80</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Thripathi’s explanation: Both passengers had first class tickets that they spent 80 (pounds?) on. Let’s see the embarkment ports of others who bought similar kinds of tickets.</p>
<p>First way of handling missing value in Embarked:</p>
<pre><code># Original code:
titanic%&gt;%
  group_by(Embarked, Pclass) %&gt;%
  filter(Pclass == "1") %&gt;%
  filter(Pclass == "1") %&gt;%
  filter(Pclass == "1") %&gt;%
  summarise(mfare = median(Fare),n = n())</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb84"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    (group_by <span class="at">'Embarked</span> <span class="at">'Pclass</span>)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    (r.dplyr/filter '(<span class="kw">==</span> Pclass <span class="st">"1"</span>))</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>    (summarise <span class="at">:mfare</span> '(median Fare)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">:n</span> '(n)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb85"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a># A tibble: <span class="dv">4</span> × <span class="dv">4</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a># Groups:   Embarked [<span class="dv">4</span>]</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  Embarked Pclass mfare     n</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;int&gt;</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> C             <span class="dv">1</span>  <span class="fl">76.7</span>   <span class="dv">141</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Q             <span class="dv">1</span>  <span class="dv">90</span>       <span class="dv">3</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> S             <span class="dv">1</span>  <span class="dv">52</span>     <span class="dv">177</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> &lt;NA&gt;          <span class="dv">1</span>  <span class="dv">80</span>       <span class="dv">2</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Looks like the median price for a first class ticket departing from ‘C’ (Charbourg) was 77 (in comparison to our 80). While first class tickets departing from ‘Q’ were only slightly more expensiive (median price 90), only 3 first class passengers departed from that port. It seems far more likely that passengers 62 and 830 departed with the other 141 first-class passengers from Charbourg.</p>
<p>Second Way of handling missing value in Embarked:</p>
<pre><code># Original code:
embark_fare &lt;- titanic %&gt;%
  filter(PassengerId != 62 &amp; PassengerId != 830)
embark_fare</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb87"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> embark</span>_fare</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>      (r.dplyr/filter '(&amp; (!= PassengerId <span class="dv">62</span>)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                          (!= PassengerId <span class="dv">830</span>)))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use ggplot2 to visualize embarkment, passenger class, &amp; median fare:</p>
<pre><code># Original code:
ggplot(embark_fare, aes(x = Embarked, y = Fare, fill = factor(Pclass))) +
geom_boxplot() +
geom_hline(aes(yintercept=80),
              colour='red', linetype='dashed', lwd=2) +
scale_y_continuous(labels=dollar_format()) +
theme_few()</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb89"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> embark_fare</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    (ggplot (aes <span class="at">:x</span> <span class="at">'Embarked</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">:y</span> <span class="at">'Fare</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">:fill</span> '(factor Pclass)))</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    (r+ (geom_boxplot)</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>        (geom_hline (aes <span class="at">:yintercept</span> <span class="dv">80</span>)</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:colour</span> <span class="st">"red"</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:linetype</span> <span class="st">"dashed"</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:lwd</span> <span class="dv">2</span>)</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>        (scale_y_continuous <span class="at">:labels</span> (dollar_format)))</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    plot-&gt;svg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<rect x="0.00" y="0.00" width="720.00" height="576.00" style="stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;"></rect>
</g>
<defs>
  <clippath id="cpNDUuODR8NjE3Ljg1fDUuNDh8NTQ0LjI5">
    <rect x="45.84" y="5.48" width="572.01" height="538.82"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNDUuODR8NjE3Ljg1fDUuNDh8NTQ0LjI5)">
<rect x="45.84" y="5.48" width="572.01" height="538.82" style="stroke-width: 1.07; stroke: none; fill: #EBEBEB;"></rect>
<polyline points="45.84,472.00 617.85,472.00 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,376.39 617.85,376.39 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,280.78 617.85,280.78 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,185.17 617.85,185.17 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,89.56 617.85,89.56 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,519.80 617.85,519.80 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,424.19 617.85,424.19 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,328.59 617.85,328.59 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,232.98 617.85,232.98 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,137.37 617.85,137.37 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="45.84,41.76 617.85,41.76 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="153.09,544.29 153.09,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="331.85,544.29 331.85,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="510.60,544.29 510.60,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<circle cx="108.40" cy="29.97" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="29.97" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="29.97" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="29.97" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="108.40" cy="268.95" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="108.40" y1="391.21" x2="108.40" y2="283.15" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="108.40" y1="472.47" x2="108.40" y2="495.19" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="88.29,391.21 88.29,472.47 128.51,472.47 128.51,391.21 88.29,391.21 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></polygon>
<line x1="88.29" y1="446.44" x2="128.51" y2="446.44" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<line x1="153.09" y1="489.40" x2="153.09" y2="480.05" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="153.09" y1="506.55" x2="153.09" y2="508.33" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="132.98,489.40 132.98,506.55 173.20,506.55 173.20,489.40 132.98,489.40 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BA38;"></polygon>
<line x1="132.98" y1="505.16" x2="173.20" y2="505.16" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<line x1="197.78" y1="505.98" x2="197.78" y2="498.43" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="197.78" y1="512.89" x2="197.78" y2="515.97" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="177.67,505.98 177.67,512.89 217.89,512.89 217.89,505.98 177.67,505.98 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #619CFF;"></polygon>
<line x1="177.67" y1="512.25" x2="217.89" y2="512.25" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<line x1="287.16" y1="433.76" x2="287.16" y2="433.76" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="287.16" y1="433.76" x2="287.16" y2="433.76" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="267.05,433.76 267.05,433.76 307.27,433.76 307.27,433.76 267.05,433.76 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></polygon>
<line x1="267.05" y1="433.76" x2="307.27" y2="433.76" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<circle cx="331.85" cy="510.54" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="331.85" y1="508.00" x2="331.85" y2="508.00" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="331.85" y1="508.78" x2="331.85" y2="509.57" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="311.74,508.00 311.74,508.78 351.96,508.78 351.96,508.00 311.74,508.00 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BA38;"></polygon>
<line x1="311.74" y1="508.00" x2="351.96" y2="508.00" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<circle cx="376.53" cy="511.72" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="496.71" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="513.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="497.57" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="497.57" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="513.25" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="496.71" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="513.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="512.02" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="496.71" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="513.16" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="491.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="512.84" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="497.57" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="504.98" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="513.16" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="376.53" cy="512.87" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="376.53" y1="512.27" x2="376.53" y2="512.13" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="376.53" y1="512.39" x2="376.53" y2="512.51" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="356.42,512.27 356.42,512.39 396.64,512.39 396.64,512.27 356.42,512.27 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #619CFF;"></polygon>
<line x1="356.42" y1="512.39" x2="396.64" y2="512.39" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="307.76" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="317.75" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="317.75" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="317.75" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="268.35" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="307.76" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="307.76" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="307.76" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="465.91" cy="317.75" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="465.91" y1="439.99" x2="465.91" y2="362.18" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="465.91" y1="494.42" x2="465.91" y2="519.80" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="445.80,439.99 445.80,494.42 486.02,494.42 486.02,439.99 445.80,439.99 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></polygon>
<line x1="445.80" y1="470.09" x2="486.02" y2="470.09" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="457.66" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="457.66" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="457.66" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="449.53" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="457.66" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="510.60" cy="457.66" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="510.60" y1="494.94" x2="510.60" y2="482.52" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="510.60" y1="507.37" x2="510.60" y2="519.80" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="490.49,494.94 490.49,507.37 530.71,507.37 530.71,494.94 490.49,494.94 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BA38;"></polygon>
<line x1="490.49" y1="505.10" x2="530.71" y2="505.10" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="486.94" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="486.94" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="486.94" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="486.94" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.90" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="465.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="474.96" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="486.94" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="453.31" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="481.86" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<circle cx="555.29" cy="489.79" r="1.95" style="stroke-width: 0.71; stroke: #333333; fill: #333333;"></circle>
<line x1="555.29" y1="504.60" x2="555.29" y2="493.13" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<line x1="555.29" y1="512.29" x2="555.29" y2="519.80" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></line>
<polygon points="535.18,504.60 535.18,512.29 575.40,512.29 575.40,504.60 535.18,504.60 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #619CFF;"></polygon>
<line x1="535.18" y1="512.11" x2="575.40" y2="512.11" style="stroke-width: 2.13; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></line>
<line x1="45.84" y1="443.32" x2="617.85" y2="443.32" style="stroke-width: 4.27; stroke: #FF0000; stroke-dasharray: 22.76,22.76; stroke-linecap: butt;"></line>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<text x="40.91" y="523.01" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="11.19px" lengthadjust="spacingAndGlyphs">$0</text>
<text x="40.91" y="427.40" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="22.38px" lengthadjust="spacingAndGlyphs">$100</text>
<text x="40.91" y="331.79" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="22.38px" lengthadjust="spacingAndGlyphs">$200</text>
<text x="40.91" y="236.18" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="22.38px" lengthadjust="spacingAndGlyphs">$300</text>
<text x="40.91" y="140.58" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="22.38px" lengthadjust="spacingAndGlyphs">$400</text>
<text x="40.91" y="44.97" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="22.38px" lengthadjust="spacingAndGlyphs">$500</text>
<polyline points="43.10,519.80 45.84,519.80 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="43.10,424.19 45.84,424.19 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="43.10,328.59 45.84,328.59 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="43.10,232.98 45.84,232.98 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="43.10,137.37 45.84,137.37 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="43.10,41.76 45.84,41.76 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="153.09,547.03 153.09,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="331.85,547.03 331.85,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="510.60,547.03 510.60,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<text x="153.09" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.14px" lengthadjust="spacingAndGlyphs">C</text>
<text x="331.85" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.93px" lengthadjust="spacingAndGlyphs">Q</text>
<text x="510.60" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="5.59px" lengthadjust="spacingAndGlyphs">S</text>
<text x="331.85" y="568.23" text-anchor="middle" style="font-size: 11.00px; font-family: &quot;Liberation Sans&quot;;" textlength="55.64px" lengthadjust="spacingAndGlyphs">Embarked</text>
<text transform="translate(13.50,274.89) rotate(-90)" text-anchor="middle" style="font-size: 11.00px; font-family: &quot;Liberation Sans&quot;;" textlength="23.10px" lengthadjust="spacingAndGlyphs">Fare</text>
<rect x="628.81" y="235.59" width="85.71" height="78.59" style="stroke-width: 1.07; stroke: none; fill: #FFFFFF;"></rect>
<text x="634.29" y="250.24" style="font-size: 11.00px; font-family: &quot;Liberation Sans&quot;;" textlength="74.75px" lengthadjust="spacingAndGlyphs">factor(Pclass)</text>
<rect x="634.29" y="256.86" width="17.28" height="17.28" style="stroke-width: 1.07; stroke: none; fill: #F2F2F2;"></rect>
<polyline points="642.93,272.41 642.93,269.82 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<polyline points="642.93,261.18 642.93,258.59 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<rect x="636.45" y="261.18" width="12.96" height="8.64" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<polyline points="636.45,265.50 649.41,265.50 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<rect x="634.29" y="274.14" width="17.28" height="17.28" style="stroke-width: 1.07; stroke: none; fill: #F2F2F2;"></rect>
<polyline points="642.93,289.69 642.93,287.10 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<polyline points="642.93,278.46 642.93,275.87 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<rect x="636.45" y="278.46" width="12.96" height="8.64" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BA38;"></rect>
<polyline points="636.45,282.78 649.41,282.78 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<rect x="634.29" y="291.42" width="17.28" height="17.28" style="stroke-width: 1.07; stroke: none; fill: #F2F2F2;"></rect>
<polyline points="642.93,306.97 642.93,304.38 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<polyline points="642.93,295.74 642.93,293.15 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<rect x="636.45" y="295.74" width="12.96" height="8.64" style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter; fill: #619CFF;"></rect>
<polyline points="636.45,300.06 649.41,300.06 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt; stroke-linejoin: miter;"></polyline>
<text x="657.05" y="268.71" style="font-size: 8.80px; font-family: &quot;Liberation Sans&quot;;" textlength="5.59px" lengthadjust="spacingAndGlyphs">1</text>
<text x="657.05" y="285.99" style="font-size: 8.80px; font-family: &quot;Liberation Sans&quot;;" textlength="5.59px" lengthadjust="spacingAndGlyphs">2</text>
<text x="657.05" y="303.27" style="font-size: 8.80px; font-family: &quot;Liberation Sans&quot;;" textlength="5.59px" lengthadjust="spacingAndGlyphs">3</text>
</g>
</svg>

<p>Tripathi: From plot we can see that The median fare for a first class passenger departing from Charbourg (‘C’) coincides nicely with the $80 paid by our embarkment-deficient passengers. I think we can safely replace the NA values with ‘C’. Since their fare was $80 for 1st class, they most likely embarked from ‘C’.</p>
<pre><code># Original code:
titanic$Embarked[c(62, 830)] &lt;- 'C'</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb91"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  (bra&lt;- titanic [<span class="dv">62</span> <span class="dv">830</span>] <span class="st">"Embarked"</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A missing value in fare. Thripathi’s explanation: To know Which passenger has no fare information:</p>
<pre><code># Original code:
titanic[(which(is.na(titanic$Fare))) , 1]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb93"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>    (bra (<span class="kw">-&gt;</span> titanic</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>             ($ <span class="at">'Fare</span>)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>             is-na</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>             which)</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>         <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb94"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1044</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Looks like Passenger number 1044 has no listed Fare</p>
<p>Where did this passenger leave from? What was their class?</p>
<pre><code># Original code:
 titanic[1044, c(3, 12)]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb96"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    (bra <span class="dv">1044</span> [<span class="dv">3</span> <span class="dv">12</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb97"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>     Pclass Embarked</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1044</span>      <span class="dv">3</span>        S</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Another way to know about passenger id 1044 :Show row 1044</p>
<pre><code># Original code:
titanic[1044, ]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb99"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    (bra <span class="dv">1044</span> <span class="va">nil</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb100"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>     PassengerId Survived Pclass               Name  Sex  Age SibSp Parch</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1044</span>        <span class="dv">1044</span>       NA      <span class="dv">3</span> Storey, Mr. Thomas male <span class="fl">60.5</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>     Ticket Fare Cabin Embarked title surname famsize   family fsizeD deck</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1044</span>   <span class="dv">3701</span>   NA              S    Mr  Storey       <span class="dv">1</span> Storey_1 single &lt;NA&gt;</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Thripathi’s explanation: Looks like he left from ‘S’ (Southampton) as a 3rd class passenger. Let’s see what other people of the same class and embarkment port paid for their tickets.</p>
</section>
<section id="first-way" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> First way:</h1>
<p>titanic%&gt;% filter(Pclass == ‘3’ &amp; Embarked == ‘S’) %&gt;% summarise(missing_fare = median(Fare, na.rm = TRUE))</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb101"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>    (r.dplyr/filter '(&amp; (<span class="kw">==</span> Pclass <span class="st">"3"</span>)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>                        (<span class="kw">==</span> Embarked <span class="st">"S"</span>)))</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>    (summarise <span class="at">:missing</span>_fare '(median Fare <span class="at">:na.rm</span> <span class="va">true</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb102"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>  missing_fare</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         <span class="fl">8.05</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Looks like the median cost for a 3rd class passenger leaving out of Southampton was 8.05. That seems like a logical value for this passenger to have paid.</p>
<p>Second way:</p>
<pre><code># Original code:
ggplot(titanic[titanic$Pclass == '3' &amp; titanic$Embarked == 'S', ],
       aes(x = Fare)) +
  geom_density(fill = '#99d6ff', alpha=0.4) +
  geom_vline(aes(xintercept=median(Fare, na.rm=T)),
             colour='red', linetype='dashed', lwd=1) +
  scale_x_continuous(labels=dollar_format()) +
  theme_few()</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb104"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>    (bra (r&amp; (r== ($ titanic <span class="at">'Pclass</span>) <span class="dv">3</span>)</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>             (r== ($ titanic <span class="at">'Embarked</span>) <span class="st">"S"</span>))</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>         <span class="va">nil</span>)</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>    (ggplot (aes <span class="at">:x</span> <span class="at">'Fare</span>))</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>    (r+ (geom_density <span class="at">:fill</span> <span class="st">"#99d6ff"</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">:alpha</span> <span class="fl">0.4</span>)</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>        (geom_vline (aes <span class="at">:xintercept</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>                         '(median Fare <span class="at">:na.rm</span> <span class="va">true</span>))</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:colour</span> <span class="st">"red"</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:linetype</span> <span class="st">"dashed"</span></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>                    <span class="at">:lwd</span> <span class="dv">1</span>)</span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>        (scale_x_continuous <span class="at">:labels</span> (dollar_format)))</span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a>    plot-&gt;svg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<rect x="0.00" y="0.00" width="720.00" height="576.00" style="stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;"></rect>
</g>
<defs>
  <clippath id="cpNDMuMDR8NzE0LjUyfDUuNDh8NTQ0LjI5">
    <rect x="43.04" y="5.48" width="671.48" height="538.82"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNDMuMDR8NzE0LjUyfDUuNDh8NTQ0LjI5)">
<rect x="43.04" y="5.48" width="671.48" height="538.82" style="stroke-width: 1.07; stroke: none; fill: #EBEBEB;"></rect>
<polyline points="43.04,440.83 714.52,440.83 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,282.89 714.52,282.89 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,124.94 714.52,124.94 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="161.33,544.29 161.33,5.48 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="336.87,544.29 336.87,5.48 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="512.41,544.29 512.41,5.48 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="687.95,544.29 687.95,5.48 " style="stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,519.80 714.52,519.80 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,361.86 714.52,361.86 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,203.91 714.52,203.91 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="43.04,45.97 714.52,45.97 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="73.56,544.29 73.56,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="249.10,544.29 249.10,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="424.64,544.29 424.64,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polyline points="600.18,544.29 600.18,5.48 " style="stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;"></polyline>
<polygon points="73.56,513.06 74.75,513.05 75.95,513.08 77.14,513.14 78.34,513.24 79.53,513.37 80.73,513.53 81.92,513.72 83.12,513.91 84.31,514.12 85.51,514.31 86.70,514.50 87.89,514.67 89.09,514.80 90.28,514.89 91.48,514.91 92.67,514.85 93.87,514.71 95.06,514.45 96.26,514.05 97.45,513.46 98.65,512.64 99.84,511.57 101.04,510.20 102.23,508.48 103.42,506.36 104.62,503.74 105.81,500.45 107.01,496.50 108.20,491.80 109.40,486.26 110.59,479.80 111.79,472.33 112.98,463.58 114.18,453.50 115.37,442.12 116.57,429.37 117.76,415.23 118.95,399.66 120.15,382.64 121.34,363.96 122.54,343.97 123.73,322.79 124.93,300.57 126.12,277.48 127.32,253.71 128.51,229.50 129.71,205.23 130.90,181.26 132.10,157.90 133.29,135.47 134.48,114.30 135.68,94.71 136.87,77.48 138.07,62.61 139.26,50.28 140.46,40.71 141.65,34.02 142.85,30.34 144.04,29.97 145.24,33.06 146.43,39.11 147.62,47.96 148.82,59.45 150.01,73.36 151.21,89.44 152.40,107.69 153.60,127.45 154.79,148.33 155.99,170.03 157.18,192.24 158.38,214.66 159.57,237.01 160.77,258.90 161.96,280.14 163.15,300.55 164.35,319.99 165.54,338.32 166.74,355.46 167.93,371.13 169.13,385.40 170.32,398.35 171.52,409.99 172.71,420.37 173.91,429.51 175.10,437.45 176.30,444.09 177.49,449.73 178.68,454.43 179.88,458.28 181.07,461.34 182.27,463.69 183.46,465.34 184.66,466.39 185.85,466.97 187.05,467.13 188.24,466.93 189.44,466.42 190.63,465.66 191.82,464.65 193.02,463.51 194.21,462.26 195.41,460.94 196.60,459.59 197.80,458.24 198.99,456.93 200.19,455.71 201.38,454.58 202.58,453.58 203.77,452.72 204.97,452.02 206.16,451.50 207.35,451.22 208.55,451.14 209.74,451.27 210.94,451.61 212.13,452.16 213.33,452.91 214.52,453.87 215.72,455.04 216.91,456.37 218.11,457.84 219.30,459.44 220.50,461.13 221.69,462.90 222.88,464.72 224.08,466.55 225.27,468.37 226.47,470.14 227.66,471.85 228.86,473.46 230.05,474.96 231.25,476.30 232.44,477.48 233.64,478.51 234.83,479.36 236.02,480.04 237.22,480.54 238.41,480.85 239.61,480.99 240.80,480.99 242.00,480.86 243.19,480.62 244.39,480.29 245.58,479.89 246.78,479.44 247.97,478.98 249.17,478.52 250.36,478.10 251.55,477.72 252.75,477.40 253.94,477.16 255.14,477.02 256.33,476.98 257.53,477.03 258.72,477.18 259.92,477.43 261.11,477.76 262.31,478.18 263.50,478.68 264.70,479.22 265.89,479.82 267.08,480.45 268.28,481.11 269.47,481.78 270.67,482.46 271.86,483.14 273.06,483.81 274.25,484.48 275.45,485.13 276.64,485.78 277.84,486.41 279.03,487.04 280.23,487.67 281.42,488.30 282.61,488.93 283.81,489.57 285.00,490.22 286.20,490.89 287.39,491.57 288.59,492.26 289.78,492.97 290.98,493.69 292.17,494.42 293.37,495.16 294.56,495.90 295.75,496.63 296.95,497.35 298.14,498.06 299.34,498.74 300.53,499.40 301.73,500.03 302.92,500.62 304.12,501.17 305.31,501.68 306.51,502.16 307.70,502.60 308.90,502.99 310.09,503.34 311.28,503.66 312.48,503.94 313.67,504.18 314.87,504.39 316.06,504.57 317.26,504.71 318.45,504.81 319.65,504.87 320.84,504.89 322.04,504.86 323.23,504.79 324.43,504.66 325.62,504.46 326.81,504.19 328.01,503.87 329.20,503.48 330.40,503.02 331.59,502.51 332.79,501.92 333.98,501.29 335.18,500.61 336.37,499.92 337.57,499.21 338.76,498.50 339.95,497.80 341.15,497.15 342.34,496.56 343.54,496.04 344.73,495.59 345.93,495.25 347.12,495.00 348.32,494.89 349.51,494.90 350.71,495.02 351.90,495.25 353.10,495.59 354.29,496.03 355.48,496.56 356.68,497.18 357.87,497.86 359.07,498.58 360.26,499.34 361.46,500.12 362.65,500.91 363.85,501.69 365.04,502.46 366.24,503.22 367.43,503.95 368.63,504.65 369.82,505.34 371.01,505.99 372.21,506.62 373.40,507.23 374.60,507.82 375.79,508.39 376.99,508.96 378.18,509.51 379.38,510.05 380.57,510.58 381.77,511.11 382.96,511.62 384.15,512.12 385.35,512.60 386.54,513.06 387.74,513.48 388.93,513.87 390.13,514.23 391.32,514.53 392.52,514.79 393.71,514.99 394.91,515.13 396.10,515.20 397.30,515.20 398.49,515.13 399.68,515.00 400.88,514.80 402.07,514.54 403.27,514.22 404.46,513.83 405.66,513.41 406.85,512.95 408.05,512.46 409.24,511.95 410.44,511.43 411.63,510.92 412.83,510.43 414.02,509.97 415.21,509.55 416.41,509.17 417.60,508.86 418.80,508.62 419.99,508.46 421.19,508.38 422.38,508.38 423.58,508.46 424.77,508.62 425.97,508.86 427.16,509.19 428.35,509.58 429.55,510.03 430.74,510.52 431.94,511.06 433.13,511.62 434.33,512.21 435.52,512.80 436.72,513.39 437.91,513.98 439.11,514.54 440.30,515.08 441.50,515.59 442.69,516.06 443.88,516.48 445.08,516.86 446.27,517.19 447.47,517.48 448.66,517.71 449.86,517.89 451.05,518.00 452.25,518.07 453.44,518.08 454.64,518.03 455.83,517.93 457.03,517.78 458.22,517.56 459.41,517.28 460.61,516.95 461.80,516.57 463.00,516.13 464.19,515.65 465.39,515.11 466.58,514.53 467.78,513.92 468.97,513.27 470.17,512.61 471.36,511.93 472.56,511.25 473.75,510.57 474.94,509.92 476.14,509.30 477.33,508.73 478.53,508.21 479.72,507.75 480.92,507.37 482.11,507.08 483.31,506.88 484.50,506.78 485.70,506.77 486.89,506.86 488.08,507.04 489.28,507.32 490.47,507.69 491.67,508.13 492.86,508.64 494.06,509.21 495.25,509.82 496.45,510.47 497.64,511.14 498.84,511.83 500.03,512.51 501.23,513.19 502.42,513.85 503.61,514.49 504.81,515.09 506.00,515.65 507.20,516.18 508.39,516.66 509.59,517.10 510.78,517.49 511.98,517.85 513.17,518.16 514.37,518.42 515.56,518.66 516.76,518.86 517.95,519.03 519.14,519.17 520.34,519.29 521.53,519.38 522.73,519.45 523.92,519.50 525.12,519.54 526.31,519.56 527.51,519.56 528.70,519.55 529.90,519.53 531.09,519.48 532.28,519.42 533.48,519.35 534.67,519.25 535.87,519.13 537.06,518.97 538.26,518.79 539.45,518.58 540.65,518.34 541.84,518.05 543.04,517.73 544.23,517.37 545.43,516.96 546.62,516.50 547.81,516.00 549.01,515.47 550.20,514.89 551.40,514.28 552.59,513.64 553.79,512.97 554.98,512.29 556.18,511.60 557.37,510.92 558.57,510.26 559.76,509.62 560.96,509.02 562.15,508.47 563.34,507.99 564.54,507.57 565.73,507.23 566.93,506.97 568.12,506.83 569.32,506.77 570.51,506.82 571.71,506.95 572.90,507.18 574.10,507.50 575.29,507.90 576.48,508.38 577.68,508.92 578.87,509.51 580.07,510.14 581.26,510.80 582.46,511.48 583.65,512.17 584.85,512.85 586.04,513.52 587.24,514.17 588.43,514.79 589.63,515.37 590.82,515.92 592.01,516.42 593.21,516.88 594.40,517.29 595.60,517.67 596.79,518.00 597.99,518.30 599.18,518.55 600.38,518.77 601.57,518.95 602.77,519.11 603.96,519.25 605.16,519.36 606.35,519.45 607.54,519.52 608.74,519.58 609.93,519.63 611.13,519.67 612.32,519.70 613.52,519.73 614.71,519.75 615.91,519.76 617.10,519.77 618.30,519.78 619.49,519.79 620.68,519.79 621.88,519.79 623.07,519.80 624.27,519.80 625.46,519.80 626.66,519.80 627.85,519.80 629.05,519.80 630.24,519.79 631.44,519.79 632.63,519.79 633.83,519.78 635.02,519.77 636.21,519.76 637.41,519.75 638.60,519.73 639.80,519.70 640.99,519.67 642.19,519.63 643.38,519.57 644.58,519.51 645.77,519.43 646.97,519.33 648.16,519.20 649.36,519.05 650.55,518.87 651.74,518.66 652.94,518.41 654.13,518.11 655.33,517.76 656.52,517.37 657.72,516.92 658.91,516.41 660.11,515.84 661.30,515.22 662.50,514.53 663.69,513.78 664.89,512.98 666.08,512.13 667.27,511.25 668.47,510.33 669.66,509.39 670.86,508.45 672.05,507.51 673.25,506.60 674.44,505.72 675.64,504.90 676.83,504.14 678.03,503.48 679.22,502.93 680.41,502.48 681.61,502.15 682.80,501.94 684.00,501.86 684.00,519.80 682.80,519.80 681.61,519.80 680.41,519.80 679.22,519.80 678.03,519.80 676.83,519.80 675.64,519.80 674.44,519.80 673.25,519.80 672.05,519.80 670.86,519.80 669.66,519.80 668.47,519.80 667.27,519.80 666.08,519.80 664.89,519.80 663.69,519.80 662.50,519.80 661.30,519.80 660.11,519.80 658.91,519.80 657.72,519.80 656.52,519.80 655.33,519.80 654.13,519.80 652.94,519.80 651.74,519.80 650.55,519.80 649.36,519.80 648.16,519.80 646.97,519.80 645.77,519.80 644.58,519.80 643.38,519.80 642.19,519.80 640.99,519.80 639.80,519.80 638.60,519.80 637.41,519.80 636.21,519.80 635.02,519.80 633.83,519.80 632.63,519.80 631.44,519.80 630.24,519.80 629.05,519.80 627.85,519.80 626.66,519.80 625.46,519.80 624.27,519.80 623.07,519.80 621.88,519.80 620.68,519.80 619.49,519.80 618.30,519.80 617.10,519.80 615.91,519.80 614.71,519.80 613.52,519.80 612.32,519.80 611.13,519.80 609.93,519.80 608.74,519.80 607.54,519.80 606.35,519.80 605.16,519.80 603.96,519.80 602.77,519.80 601.57,519.80 600.38,519.80 599.18,519.80 597.99,519.80 596.79,519.80 595.60,519.80 594.40,519.80 593.21,519.80 592.01,519.80 590.82,519.80 589.63,519.80 588.43,519.80 587.24,519.80 586.04,519.80 584.85,519.80 583.65,519.80 582.46,519.80 581.26,519.80 580.07,519.80 578.87,519.80 577.68,519.80 576.48,519.80 575.29,519.80 574.10,519.80 572.90,519.80 571.71,519.80 570.51,519.80 569.32,519.80 568.12,519.80 566.93,519.80 565.73,519.80 564.54,519.80 563.34,519.80 562.15,519.80 560.96,519.80 559.76,519.80 558.57,519.80 557.37,519.80 556.18,519.80 554.98,519.80 553.79,519.80 552.59,519.80 551.40,519.80 550.20,519.80 549.01,519.80 547.81,519.80 546.62,519.80 545.43,519.80 544.23,519.80 543.04,519.80 541.84,519.80 540.65,519.80 539.45,519.80 538.26,519.80 537.06,519.80 535.87,519.80 534.67,519.80 533.48,519.80 532.28,519.80 531.09,519.80 529.90,519.80 528.70,519.80 527.51,519.80 526.31,519.80 525.12,519.80 523.92,519.80 522.73,519.80 521.53,519.80 520.34,519.80 519.14,519.80 517.95,519.80 516.76,519.80 515.56,519.80 514.37,519.80 513.17,519.80 511.98,519.80 510.78,519.80 509.59,519.80 508.39,519.80 507.20,519.80 506.00,519.80 504.81,519.80 503.61,519.80 502.42,519.80 501.23,519.80 500.03,519.80 498.84,519.80 497.64,519.80 496.45,519.80 495.25,519.80 494.06,519.80 492.86,519.80 491.67,519.80 490.47,519.80 489.28,519.80 488.08,519.80 486.89,519.80 485.70,519.80 484.50,519.80 483.31,519.80 482.11,519.80 480.92,519.80 479.72,519.80 478.53,519.80 477.33,519.80 476.14,519.80 474.94,519.80 473.75,519.80 472.56,519.80 471.36,519.80 470.17,519.80 468.97,519.80 467.78,519.80 466.58,519.80 465.39,519.80 464.19,519.80 463.00,519.80 461.80,519.80 460.61,519.80 459.41,519.80 458.22,519.80 457.03,519.80 455.83,519.80 454.64,519.80 453.44,519.80 452.25,519.80 451.05,519.80 449.86,519.80 448.66,519.80 447.47,519.80 446.27,519.80 445.08,519.80 443.88,519.80 442.69,519.80 441.50,519.80 440.30,519.80 439.11,519.80 437.91,519.80 436.72,519.80 435.52,519.80 434.33,519.80 433.13,519.80 431.94,519.80 430.74,519.80 429.55,519.80 428.35,519.80 427.16,519.80 425.97,519.80 424.77,519.80 423.58,519.80 422.38,519.80 421.19,519.80 419.99,519.80 418.80,519.80 417.60,519.80 416.41,519.80 415.21,519.80 414.02,519.80 412.83,519.80 411.63,519.80 410.44,519.80 409.24,519.80 408.05,519.80 406.85,519.80 405.66,519.80 404.46,519.80 403.27,519.80 402.07,519.80 400.88,519.80 399.68,519.80 398.49,519.80 397.30,519.80 396.10,519.80 394.91,519.80 393.71,519.80 392.52,519.80 391.32,519.80 390.13,519.80 388.93,519.80 387.74,519.80 386.54,519.80 385.35,519.80 384.15,519.80 382.96,519.80 381.77,519.80 380.57,519.80 379.38,519.80 378.18,519.80 376.99,519.80 375.79,519.80 374.60,519.80 373.40,519.80 372.21,519.80 371.01,519.80 369.82,519.80 368.63,519.80 367.43,519.80 366.24,519.80 365.04,519.80 363.85,519.80 362.65,519.80 361.46,519.80 360.26,519.80 359.07,519.80 357.87,519.80 356.68,519.80 355.48,519.80 354.29,519.80 353.10,519.80 351.90,519.80 350.71,519.80 349.51,519.80 348.32,519.80 347.12,519.80 345.93,519.80 344.73,519.80 343.54,519.80 342.34,519.80 341.15,519.80 339.95,519.80 338.76,519.80 337.57,519.80 336.37,519.80 335.18,519.80 333.98,519.80 332.79,519.80 331.59,519.80 330.40,519.80 329.20,519.80 328.01,519.80 326.81,519.80 325.62,519.80 324.43,519.80 323.23,519.80 322.04,519.80 320.84,519.80 319.65,519.80 318.45,519.80 317.26,519.80 316.06,519.80 314.87,519.80 313.67,519.80 312.48,519.80 311.28,519.80 310.09,519.80 308.90,519.80 307.70,519.80 306.51,519.80 305.31,519.80 304.12,519.80 302.92,519.80 301.73,519.80 300.53,519.80 299.34,519.80 298.14,519.80 296.95,519.80 295.75,519.80 294.56,519.80 293.37,519.80 292.17,519.80 290.98,519.80 289.78,519.80 288.59,519.80 287.39,519.80 286.20,519.80 285.00,519.80 283.81,519.80 282.61,519.80 281.42,519.80 280.23,519.80 279.03,519.80 277.84,519.80 276.64,519.80 275.45,519.80 274.25,519.80 273.06,519.80 271.86,519.80 270.67,519.80 269.47,519.80 268.28,519.80 267.08,519.80 265.89,519.80 264.70,519.80 263.50,519.80 262.31,519.80 261.11,519.80 259.92,519.80 258.72,519.80 257.53,519.80 256.33,519.80 255.14,519.80 253.94,519.80 252.75,519.80 251.55,519.80 250.36,519.80 249.17,519.80 247.97,519.80 246.78,519.80 245.58,519.80 244.39,519.80 243.19,519.80 242.00,519.80 240.80,519.80 239.61,519.80 238.41,519.80 237.22,519.80 236.02,519.80 234.83,519.80 233.64,519.80 232.44,519.80 231.25,519.80 230.05,519.80 228.86,519.80 227.66,519.80 226.47,519.80 225.27,519.80 224.08,519.80 222.88,519.80 221.69,519.80 220.50,519.80 219.30,519.80 218.11,519.80 216.91,519.80 215.72,519.80 214.52,519.80 213.33,519.80 212.13,519.80 210.94,519.80 209.74,519.80 208.55,519.80 207.35,519.80 206.16,519.80 204.97,519.80 203.77,519.80 202.58,519.80 201.38,519.80 200.19,519.80 198.99,519.80 197.80,519.80 196.60,519.80 195.41,519.80 194.21,519.80 193.02,519.80 191.82,519.80 190.63,519.80 189.44,519.80 188.24,519.80 187.05,519.80 185.85,519.80 184.66,519.80 183.46,519.80 182.27,519.80 181.07,519.80 179.88,519.80 178.68,519.80 177.49,519.80 176.30,519.80 175.10,519.80 173.91,519.80 172.71,519.80 171.52,519.80 170.32,519.80 169.13,519.80 167.93,519.80 166.74,519.80 165.54,519.80 164.35,519.80 163.15,519.80 161.96,519.80 160.77,519.80 159.57,519.80 158.38,519.80 157.18,519.80 155.99,519.80 154.79,519.80 153.60,519.80 152.40,519.80 151.21,519.80 150.01,519.80 148.82,519.80 147.62,519.80 146.43,519.80 145.24,519.80 144.04,519.80 142.85,519.80 141.65,519.80 140.46,519.80 139.26,519.80 138.07,519.80 136.87,519.80 135.68,519.80 134.48,519.80 133.29,519.80 132.10,519.80 130.90,519.80 129.71,519.80 128.51,519.80 127.32,519.80 126.12,519.80 124.93,519.80 123.73,519.80 122.54,519.80 121.34,519.80 120.15,519.80 118.95,519.80 117.76,519.80 116.57,519.80 115.37,519.80 114.18,519.80 112.98,519.80 111.79,519.80 110.59,519.80 109.40,519.80 108.20,519.80 107.01,519.80 105.81,519.80 104.62,519.80 103.42,519.80 102.23,519.80 101.04,519.80 99.84,519.80 98.65,519.80 97.45,519.80 96.26,519.80 95.06,519.80 93.87,519.80 92.67,519.80 91.48,519.80 90.28,519.80 89.09,519.80 87.89,519.80 86.70,519.80 85.51,519.80 84.31,519.80 83.12,519.80 81.92,519.80 80.73,519.80 79.53,519.80 78.34,519.80 77.14,519.80 75.95,519.80 74.75,519.80 73.56,519.80 " style="stroke-width: 0.00; stroke: none; stroke-linecap: butt; fill: #99D6FF; fill-opacity: 0.40;"></polygon>
<polyline points="73.56,513.06 74.75,513.05 75.95,513.08 77.14,513.14 78.34,513.24 79.53,513.37 80.73,513.53 81.92,513.72 83.12,513.91 84.31,514.12 85.51,514.31 86.70,514.50 87.89,514.67 89.09,514.80 90.28,514.89 91.48,514.91 92.67,514.85 93.87,514.71 95.06,514.45 96.26,514.05 97.45,513.46 98.65,512.64 99.84,511.57 101.04,510.20 102.23,508.48 103.42,506.36 104.62,503.74 105.81,500.45 107.01,496.50 108.20,491.80 109.40,486.26 110.59,479.80 111.79,472.33 112.98,463.58 114.18,453.50 115.37,442.12 116.57,429.37 117.76,415.23 118.95,399.66 120.15,382.64 121.34,363.96 122.54,343.97 123.73,322.79 124.93,300.57 126.12,277.48 127.32,253.71 128.51,229.50 129.71,205.23 130.90,181.26 132.10,157.90 133.29,135.47 134.48,114.30 135.68,94.71 136.87,77.48 138.07,62.61 139.26,50.28 140.46,40.71 141.65,34.02 142.85,30.34 144.04,29.97 145.24,33.06 146.43,39.11 147.62,47.96 148.82,59.45 150.01,73.36 151.21,89.44 152.40,107.69 153.60,127.45 154.79,148.33 155.99,170.03 157.18,192.24 158.38,214.66 159.57,237.01 160.77,258.90 161.96,280.14 163.15,300.55 164.35,319.99 165.54,338.32 166.74,355.46 167.93,371.13 169.13,385.40 170.32,398.35 171.52,409.99 172.71,420.37 173.91,429.51 175.10,437.45 176.30,444.09 177.49,449.73 178.68,454.43 179.88,458.28 181.07,461.34 182.27,463.69 183.46,465.34 184.66,466.39 185.85,466.97 187.05,467.13 188.24,466.93 189.44,466.42 190.63,465.66 191.82,464.65 193.02,463.51 194.21,462.26 195.41,460.94 196.60,459.59 197.80,458.24 198.99,456.93 200.19,455.71 201.38,454.58 202.58,453.58 203.77,452.72 204.97,452.02 206.16,451.50 207.35,451.22 208.55,451.14 209.74,451.27 210.94,451.61 212.13,452.16 213.33,452.91 214.52,453.87 215.72,455.04 216.91,456.37 218.11,457.84 219.30,459.44 220.50,461.13 221.69,462.90 222.88,464.72 224.08,466.55 225.27,468.37 226.47,470.14 227.66,471.85 228.86,473.46 230.05,474.96 231.25,476.30 232.44,477.48 233.64,478.51 234.83,479.36 236.02,480.04 237.22,480.54 238.41,480.85 239.61,480.99 240.80,480.99 242.00,480.86 243.19,480.62 244.39,480.29 245.58,479.89 246.78,479.44 247.97,478.98 249.17,478.52 250.36,478.10 251.55,477.72 252.75,477.40 253.94,477.16 255.14,477.02 256.33,476.98 257.53,477.03 258.72,477.18 259.92,477.43 261.11,477.76 262.31,478.18 263.50,478.68 264.70,479.22 265.89,479.82 267.08,480.45 268.28,481.11 269.47,481.78 270.67,482.46 271.86,483.14 273.06,483.81 274.25,484.48 275.45,485.13 276.64,485.78 277.84,486.41 279.03,487.04 280.23,487.67 281.42,488.30 282.61,488.93 283.81,489.57 285.00,490.22 286.20,490.89 287.39,491.57 288.59,492.26 289.78,492.97 290.98,493.69 292.17,494.42 293.37,495.16 294.56,495.90 295.75,496.63 296.95,497.35 298.14,498.06 299.34,498.74 300.53,499.40 301.73,500.03 302.92,500.62 304.12,501.17 305.31,501.68 306.51,502.16 307.70,502.60 308.90,502.99 310.09,503.34 311.28,503.66 312.48,503.94 313.67,504.18 314.87,504.39 316.06,504.57 317.26,504.71 318.45,504.81 319.65,504.87 320.84,504.89 322.04,504.86 323.23,504.79 324.43,504.66 325.62,504.46 326.81,504.19 328.01,503.87 329.20,503.48 330.40,503.02 331.59,502.51 332.79,501.92 333.98,501.29 335.18,500.61 336.37,499.92 337.57,499.21 338.76,498.50 339.95,497.80 341.15,497.15 342.34,496.56 343.54,496.04 344.73,495.59 345.93,495.25 347.12,495.00 348.32,494.89 349.51,494.90 350.71,495.02 351.90,495.25 353.10,495.59 354.29,496.03 355.48,496.56 356.68,497.18 357.87,497.86 359.07,498.58 360.26,499.34 361.46,500.12 362.65,500.91 363.85,501.69 365.04,502.46 366.24,503.22 367.43,503.95 368.63,504.65 369.82,505.34 371.01,505.99 372.21,506.62 373.40,507.23 374.60,507.82 375.79,508.39 376.99,508.96 378.18,509.51 379.38,510.05 380.57,510.58 381.77,511.11 382.96,511.62 384.15,512.12 385.35,512.60 386.54,513.06 387.74,513.48 388.93,513.87 390.13,514.23 391.32,514.53 392.52,514.79 393.71,514.99 394.91,515.13 396.10,515.20 397.30,515.20 398.49,515.13 399.68,515.00 400.88,514.80 402.07,514.54 403.27,514.22 404.46,513.83 405.66,513.41 406.85,512.95 408.05,512.46 409.24,511.95 410.44,511.43 411.63,510.92 412.83,510.43 414.02,509.97 415.21,509.55 416.41,509.17 417.60,508.86 418.80,508.62 419.99,508.46 421.19,508.38 422.38,508.38 423.58,508.46 424.77,508.62 425.97,508.86 427.16,509.19 428.35,509.58 429.55,510.03 430.74,510.52 431.94,511.06 433.13,511.62 434.33,512.21 435.52,512.80 436.72,513.39 437.91,513.98 439.11,514.54 440.30,515.08 441.50,515.59 442.69,516.06 443.88,516.48 445.08,516.86 446.27,517.19 447.47,517.48 448.66,517.71 449.86,517.89 451.05,518.00 452.25,518.07 453.44,518.08 454.64,518.03 455.83,517.93 457.03,517.78 458.22,517.56 459.41,517.28 460.61,516.95 461.80,516.57 463.00,516.13 464.19,515.65 465.39,515.11 466.58,514.53 467.78,513.92 468.97,513.27 470.17,512.61 471.36,511.93 472.56,511.25 473.75,510.57 474.94,509.92 476.14,509.30 477.33,508.73 478.53,508.21 479.72,507.75 480.92,507.37 482.11,507.08 483.31,506.88 484.50,506.78 485.70,506.77 486.89,506.86 488.08,507.04 489.28,507.32 490.47,507.69 491.67,508.13 492.86,508.64 494.06,509.21 495.25,509.82 496.45,510.47 497.64,511.14 498.84,511.83 500.03,512.51 501.23,513.19 502.42,513.85 503.61,514.49 504.81,515.09 506.00,515.65 507.20,516.18 508.39,516.66 509.59,517.10 510.78,517.49 511.98,517.85 513.17,518.16 514.37,518.42 515.56,518.66 516.76,518.86 517.95,519.03 519.14,519.17 520.34,519.29 521.53,519.38 522.73,519.45 523.92,519.50 525.12,519.54 526.31,519.56 527.51,519.56 528.70,519.55 529.90,519.53 531.09,519.48 532.28,519.42 533.48,519.35 534.67,519.25 535.87,519.13 537.06,518.97 538.26,518.79 539.45,518.58 540.65,518.34 541.84,518.05 543.04,517.73 544.23,517.37 545.43,516.96 546.62,516.50 547.81,516.00 549.01,515.47 550.20,514.89 551.40,514.28 552.59,513.64 553.79,512.97 554.98,512.29 556.18,511.60 557.37,510.92 558.57,510.26 559.76,509.62 560.96,509.02 562.15,508.47 563.34,507.99 564.54,507.57 565.73,507.23 566.93,506.97 568.12,506.83 569.32,506.77 570.51,506.82 571.71,506.95 572.90,507.18 574.10,507.50 575.29,507.90 576.48,508.38 577.68,508.92 578.87,509.51 580.07,510.14 581.26,510.80 582.46,511.48 583.65,512.17 584.85,512.85 586.04,513.52 587.24,514.17 588.43,514.79 589.63,515.37 590.82,515.92 592.01,516.42 593.21,516.88 594.40,517.29 595.60,517.67 596.79,518.00 597.99,518.30 599.18,518.55 600.38,518.77 601.57,518.95 602.77,519.11 603.96,519.25 605.16,519.36 606.35,519.45 607.54,519.52 608.74,519.58 609.93,519.63 611.13,519.67 612.32,519.70 613.52,519.73 614.71,519.75 615.91,519.76 617.10,519.77 618.30,519.78 619.49,519.79 620.68,519.79 621.88,519.79 623.07,519.80 624.27,519.80 625.46,519.80 626.66,519.80 627.85,519.80 629.05,519.80 630.24,519.79 631.44,519.79 632.63,519.79 633.83,519.78 635.02,519.77 636.21,519.76 637.41,519.75 638.60,519.73 639.80,519.70 640.99,519.67 642.19,519.63 643.38,519.57 644.58,519.51 645.77,519.43 646.97,519.33 648.16,519.20 649.36,519.05 650.55,518.87 651.74,518.66 652.94,518.41 654.13,518.11 655.33,517.76 656.52,517.37 657.72,516.92 658.91,516.41 660.11,515.84 661.30,515.22 662.50,514.53 663.69,513.78 664.89,512.98 666.08,512.13 667.27,511.25 668.47,510.33 669.66,509.39 670.86,508.45 672.05,507.51 673.25,506.60 674.44,505.72 675.64,504.90 676.83,504.14 678.03,503.48 679.22,502.93 680.41,502.48 681.61,502.15 682.80,501.94 684.00,501.86 " style="stroke-width: 1.07; stroke-linecap: butt;"></polyline>
<line x1="144.21" y1="544.29" x2="144.21" y2="5.48" style="stroke-width: 2.13; stroke: #FF0000; stroke-dasharray: 11.38,11.38; stroke-linecap: butt;"></line>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<text x="38.11" y="523.01" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="19.58px" lengthadjust="spacingAndGlyphs">0.00</text>
<text x="38.11" y="365.07" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="19.58px" lengthadjust="spacingAndGlyphs">0.05</text>
<text x="38.11" y="207.12" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="19.58px" lengthadjust="spacingAndGlyphs">0.10</text>
<text x="38.11" y="49.18" text-anchor="end" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="19.58px" lengthadjust="spacingAndGlyphs">0.15</text>
<polyline points="40.30,519.80 43.04,519.80 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="40.30,361.86 43.04,361.86 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="40.30,203.91 43.04,203.91 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="40.30,45.97 43.04,45.97 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="73.56,547.03 73.56,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="249.10,547.03 249.10,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="424.64,547.03 424.64,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<polyline points="600.18,547.03 600.18,544.29 " style="stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;"></polyline>
<text x="73.56" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="11.19px" lengthadjust="spacingAndGlyphs">$0</text>
<text x="249.10" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="16.78px" lengthadjust="spacingAndGlyphs">$20</text>
<text x="424.64" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="16.78px" lengthadjust="spacingAndGlyphs">$40</text>
<text x="600.18" y="555.64" text-anchor="middle" style="font-size: 8.80px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="16.78px" lengthadjust="spacingAndGlyphs">$60</text>
<text x="378.78" y="568.23" text-anchor="middle" style="font-size: 11.00px; font-family: &quot;Liberation Sans&quot;;" textlength="23.10px" lengthadjust="spacingAndGlyphs">Fare</text>
<text transform="translate(13.50,274.89) rotate(-90)" text-anchor="middle" style="font-size: 11.00px; font-family: &quot;Liberation Sans&quot;;" textlength="40.33px" lengthadjust="spacingAndGlyphs">density</text>
</g>
</svg>

<p>Tripathi: From this visualization, it seems quite reasonable to replace the NA Fare value with median for their class and embarkment which is $8.05.</p>
<p>Replace that NA with 8.05</p>
<pre><code># Original code:
titanic$Fare[1044] &lt;- 8.05
summary(titanic$Fare)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb106"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  (bra&lt;- titanic <span class="dv">1044</span> <span class="st">"Fare"</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>         <span class="fl">8.05</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb107"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>     ($ <span class="at">'Fare</span>)</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>     summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb108"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="bn">3rd</span> Qu.    Max. </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.000</span>   <span class="fl">7.896</span>  <span class="fl">14.454</span>  <span class="fl">33.276</span>  <span class="fl">31.275</span> <span class="fl">512.329</span> </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Another way of Replace missing fare value with median fare for class/embarkment:</p>
<pre><code># Original code:
titanic$Fare[1044] &lt;- median(titanic[titanic$Pclass == '3' &amp; titanic$Embarked == 'S', ]$Fare, na.rm = TRUE)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb110"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  (bra&lt;- titanic <span class="dv">1044</span> <span class="st">"Fare"</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>         (<span class="kw">-&gt;</span> titanic</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>             (bra (r&amp; (r== ($ titanic <span class="at">'Pclass</span>) <span class="dv">3</span>)</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>                      (r== ($ titanic <span class="at">'Embarked</span>) <span class="st">"S"</span>))</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Fare"</span>)</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>             (median <span class="at">:na.rm</span> <span class="va">true</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Missing Value in Age.</p>
<p>Tripathi: Show number of missing Age values.</p>
<pre><code># Original code:
sum(is.na(titanic$Age)) ```

before


::: {.sourceClojure}
```clojure
(-&gt; titanic
    ($ 'Age)
    is-na
    sum)</code></pre>
<p>:::</p>
<div class="printedClojure">
<div class="sourceCode" id="cb112"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">263</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: 263 passengers have no age listed. Taking a median age of all passengers doesn’t seem like the best way to solve this problem, so it may be easiest to try to predict the passengers’ age based on other known information.</p>
<p>To predict missing ages, I’m going to use the mice package. To start with I will factorize the factor variables and then perform mice(multiple imputation using chained equations).</p>
<p>Set a random seed:</p>
<pre><code># Original code:
set.seed(129)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb114"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>(set-seed <span class="dv">129</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb115"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>NULL</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Perform mice imputation, excluding certain less-than-useful variables:</p>
<pre><code># Original code:
mice_mod &lt;- mice(titanic[, !names(titanic) %in% c('PassengerId','Name','Ticket','Cabin','Family','Surname','Survived')], method='rf')</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb117"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> mice-mod</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>      (bra <span class="va">nil</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>           (<span class="kw">-&gt;</span> titanic</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>               names</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>               (<span class="va">%</span>in<span class="va">%</span> [<span class="st">"PassengerId"</span>,<span class="st">"Name"</span>,<span class="st">"Ticket"</span>,<span class="st">"Cabin"</span>,<span class="st">"Family"</span>,<span class="st">"Surname"</span>,<span class="st">"Survived"</span>])</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>               !))</span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>      (mice <span class="at">:method</span> <span class="st">"rf"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Save the complete output.</p>
<pre><code># Original code:
mice_output &lt;- complete(mice_mod)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb119"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> mice-output</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  (complete mice-mod))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Let’s compare the results we get with the original distribution of passenger ages to ensure that nothing has gone completely awry.</p>
<p>Plot age distributions:</p>
<pre><code># Original code:
par(mfrow=c(1,2))
hist(titanic$Age, freq=F, main='Age: Original Data',
     col='darkred', ylim=c(0,0.04))
hist(mice_output$Age, freq=F, main='Age: MICE Output',
     col='lightgreen', ylim=c(0,0.04))</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb121"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>(plot-&gt;svg</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a> (<span class="kw">fn</span> []</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>   (par <span class="at">:mfrow</span> [<span class="dv">1</span> <span class="dv">2</span>])</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>   (<span class="kw">-&gt;</span> titanic</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>       ($ <span class="at">'Age</span>)</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>       (hist <span class="at">:freq</span> <span class="at">'F</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">:main</span> <span class="st">"Age: Original Data"</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">:col</span> <span class="st">"darkred"</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">:lim</span> [<span class="dv">0</span> <span class="fl">0.04</span>]</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">:xlab</span> <span class="st">"Age"</span>))</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>   (<span class="kw">-&gt;</span> mice-output</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>       ($ <span class="at">'Age</span>)</span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>       (hist <span class="at">:freq</span> <span class="at">'F</span></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">:main</span> <span class="st">"Age: MICE Output"</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">:col</span> <span class="st">"lightgreen"</span></span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">:lim</span> [<span class="dv">0</span> <span class="fl">0.04</span>]</span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">:xlab</span> <span class="st">"Age"</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
</g>
<defs>
  <clippath id="cpMC4wMHwzNjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="360.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHwzNjAuMDB8MC4wMHw1NzYuMDA=)">
<text x="194.40" y="34.77" text-anchor="middle" style="font-size: 14.40px; font-weight: bold; font-family: &quot;Liberation Sans&quot;;" textlength="149.62px" lengthadjust="spacingAndGlyphs">Age: Original Data</text>
<text x="194.40" y="557.28" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="23.21px" lengthadjust="spacingAndGlyphs">Age</text>
<text transform="translate(12.96,280.80) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="45.65px" lengthadjust="spacingAndGlyphs">Density</text>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<line x1="69.07" y1="502.56" x2="319.73" y2="502.56" style="stroke-width: 0.75;"></line>
<line x1="69.07" y1="502.56" x2="69.07" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="131.73" y1="502.56" x2="131.73" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="194.40" y1="502.56" x2="194.40" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="257.07" y1="502.56" x2="257.07" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="319.73" y1="502.56" x2="319.73" y2="509.76" style="stroke-width: 0.75;"></line>
<text x="69.07" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="7.64px" lengthadjust="spacingAndGlyphs">0</text>
<text x="131.73" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">20</text>
<text x="194.40" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">40</text>
<text x="257.07" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">60</text>
<text x="319.73" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">80</text>
<line x1="59.04" y1="486.13" x2="59.04" y2="155.70" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="486.13" x2="51.84" y2="486.13" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="375.99" x2="51.84" y2="375.99" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="265.85" x2="51.84" y2="265.85" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="155.70" x2="51.84" y2="155.70" style="stroke-width: 0.75;"></line>
<text transform="translate(41.76,486.13) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.00</text>
<text transform="translate(41.76,375.99) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.01</text>
<text transform="translate(41.76,265.85) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.02</text>
<text transform="translate(41.76,155.70) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.03</text>
</g>
<defs>
  <clippath id="cpNTkuMDR8MzI5Ljc2fDU5LjA0fDUwMi41Ng==">
    <rect x="59.04" y="59.04" width="270.72" height="443.52"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNTkuMDR8MzI5Ljc2fDU5LjA0fDUwMi41Ng==)">
<rect x="69.07" y="368.20" width="15.67" height="117.94" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="84.73" y="422.95" width="15.67" height="63.18" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="100.40" y="425.06" width="15.67" height="61.07" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="116.07" y="206.04" width="15.67" height="280.10" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="131.73" y="75.47" width="15.67" height="410.67" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="147.40" y="136.54" width="15.67" height="349.59" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="163.07" y="243.95" width="15.67" height="242.19" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="178.73" y="286.06" width="15.67" height="200.07" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="194.40" y="334.50" width="15.67" height="151.63" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="210.07" y="359.77" width="15.67" height="126.36" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="225.73" y="410.32" width="15.67" height="75.82" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="241.40" y="431.38" width="15.67" height="54.76" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="257.07" y="437.70" width="15.67" height="48.44" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="272.73" y="477.71" width="15.67" height="8.42" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="288.40" y="477.71" width="15.67" height="8.42" style="stroke-width: 0.75; fill: #8B0000;"></rect>
<rect x="304.07" y="481.92" width="15.67" height="4.21" style="stroke-width: 0.75; fill: #8B0000;"></rect>
</g>
<defs>
  <clippath id="cpNDE5LjA0fDY4OS43Nnw1OS4wNHw1MDIuNTY=">
    <rect x="419.04" y="59.04" width="270.72" height="443.52"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNDE5LjA0fDY4OS43Nnw1OS4wNHw1MDIuNTY=)">
</g>
<defs>
  <clippath id="cpMzYwLjAwfDcyMC4wMHwwLjAwfDU3Ni4wMA==">
    <rect x="360.00" y="0.00" width="360.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMzYwLjAwfDcyMC4wMHwwLjAwfDU3Ni4wMA==)">
<text x="554.40" y="34.77" text-anchor="middle" style="font-size: 14.40px; font-weight: bold; font-family: &quot;Liberation Sans&quot;;" textlength="143.85px" lengthadjust="spacingAndGlyphs">Age: MICE Output</text>
<text x="554.40" y="557.28" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="23.21px" lengthadjust="spacingAndGlyphs">Age</text>
<text transform="translate(372.96,280.80) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="45.65px" lengthadjust="spacingAndGlyphs">Density</text>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<line x1="429.07" y1="502.56" x2="679.73" y2="502.56" style="stroke-width: 0.75;"></line>
<line x1="429.07" y1="502.56" x2="429.07" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="491.73" y1="502.56" x2="491.73" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="554.40" y1="502.56" x2="554.40" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="617.07" y1="502.56" x2="617.07" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="679.73" y1="502.56" x2="679.73" y2="509.76" style="stroke-width: 0.75;"></line>
<text x="429.07" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="7.64px" lengthadjust="spacingAndGlyphs">0</text>
<text x="491.73" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">20</text>
<text x="554.40" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">40</text>
<text x="617.07" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">60</text>
<text x="679.73" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="15.28px" lengthadjust="spacingAndGlyphs">80</text>
<line x1="419.04" y1="486.13" x2="419.04" y2="62.86" style="stroke-width: 0.75;"></line>
<line x1="419.04" y1="486.13" x2="411.84" y2="486.13" style="stroke-width: 0.75;"></line>
<line x1="419.04" y1="380.31" x2="411.84" y2="380.31" style="stroke-width: 0.75;"></line>
<line x1="419.04" y1="274.49" x2="411.84" y2="274.49" style="stroke-width: 0.75;"></line>
<line x1="419.04" y1="168.68" x2="411.84" y2="168.68" style="stroke-width: 0.75;"></line>
<line x1="419.04" y1="62.86" x2="411.84" y2="62.86" style="stroke-width: 0.75;"></line>
<text transform="translate(401.76,486.13) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.00</text>
<text transform="translate(401.76,380.31) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.01</text>
<text transform="translate(401.76,274.49) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.02</text>
<text transform="translate(401.76,168.68) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.03</text>
<text transform="translate(401.76,62.86) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.04</text>
</g>
<g clip-path="url(#cpNDE5LjA0fDY4OS43Nnw1OS4wNHw1MDIuNTY=)">
<rect x="429.07" y="376.19" width="15.67" height="109.94" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="444.73" y="431.16" width="15.67" height="54.97" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="460.40" y="436.01" width="15.67" height="50.12" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="476.07" y="196.73" width="15.67" height="289.41" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="491.73" y="75.47" width="15.67" height="410.67" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="507.40" y="128.82" width="15.67" height="357.31" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="523.07" y="261.40" width="15.67" height="224.73" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="538.73" y="292.12" width="15.67" height="194.02" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="554.40" y="350.32" width="15.67" height="135.81" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="570.07" y="377.81" width="15.67" height="108.33" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="585.73" y="411.76" width="15.67" height="74.37" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="601.40" y="444.10" width="15.67" height="42.04" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="617.07" y="439.25" width="15.67" height="46.89" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="632.73" y="479.67" width="15.67" height="6.47" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="648.40" y="479.67" width="15.67" height="6.47" style="stroke-width: 0.75; fill: #90EE90;"></rect>
<rect x="664.07" y="481.28" width="15.67" height="4.85" style="stroke-width: 0.75; fill: #90EE90;"></rect>
</g>
</svg>

<p>Tripathi: Things look good, so let’s replace our age vector in the original data with the output from the mice model.</p>
<p>Replace Age variable from the mice model:</p>
<pre><code># Original code:
titanic$Age &lt;- mice_output$Age
</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb123"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  ($&lt;- titanic <span class="at">'Age</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>       ($ mice-output <span class="at">'Age</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show new number of missing Age values</p>
<pre><code># Original code:
sum(is.na(titanic$Age))</code></pre>
<p>after</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb125"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>    ($ <span class="at">'Age</span>)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>    is-na</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>    sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb126"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="feature-enginnering-part-2" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="feature-enginnering-part-2"><span class="header-section-number">6.1</span> Feature Enginnering: Part 2</h2>
<p>Tripathi: I will create a couple of new age-dependent variables: Child and Mother. A child will simply be someone under 18 years of age and a mother is a passenger who is 1) female, 2) is over 18, 3) has more than 0 children and 4) does not have the title ‘Miss’.</p>
<p>Relationship between age &amp; survival: I include Sex since we know it’s a significant predictor.</p>
<pre><code># Original code:
ggplot(titanic[1:891,], aes(Age, fill = factor(Survived))) +
  geom_histogram() + facet_grid(.~Sex) + theme_few()</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb128"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> titanic</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>    (bra (colon <span class="dv">1</span> <span class="dv">891</span>) <span class="va">nil</span>)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>    (ggplot (aes <span class="at">'Age</span> <span class="at">:fill</span> '(factor Survived)))</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>    (r+ (geom_histogram)</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>        (facet_grid '(tilde . Sex))</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>        (theme_few))</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>    plot-&gt;svg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<rect x="0.00" y="0.00" width="720.00" height="576.00" style="stroke-width: 1.16; stroke: #FFFFFF; fill: #FFFFFF;"></rect>
</g>
<defs>
  <clippath id="cpMzcuNzl8MzEyLjM0fDI0LjUzfDU0MS40Mg==">
    <rect x="37.79" y="24.53" width="274.55" height="516.89"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMzcuNzl8MzEyLjM0fDI0LjUzfDU0MS40Mg==)">
<rect x="37.79" y="24.53" width="274.55" height="516.89" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="50.27" y="468.09" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="58.59" y="418.25" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="66.91" y="453.85" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="75.23" y="468.09" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="83.55" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="91.87" y="439.61" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="100.19" y="396.89" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="108.51" y="304.33" width="8.32" height="71.20" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="116.83" y="304.33" width="8.32" height="56.96" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="125.15" y="282.97" width="8.32" height="56.96" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="133.47" y="389.77" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="141.79" y="311.45" width="8.32" height="49.84" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="150.11" y="418.25" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="158.43" y="389.77" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="166.75" y="425.37" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="175.06" y="411.13" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="183.38" y="439.61" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="191.70" y="475.21" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="200.02" y="468.09" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="208.34" y="475.21" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="216.66" y="482.33" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="224.98" y="489.45" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="233.30" y="510.81" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="241.62" y="475.21" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="249.94" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="258.26" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="266.58" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="274.90" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="283.22" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="291.54" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="50.27" y="489.45" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="58.59" y="453.85" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="66.91" y="475.21" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="75.23" y="503.69" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="83.55" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="91.87" y="453.85" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="100.19" y="418.25" width="8.32" height="99.68" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="108.51" y="375.53" width="8.32" height="142.40" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="116.83" y="361.29" width="8.32" height="156.63" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="125.15" y="339.93" width="8.32" height="177.99" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="133.47" y="425.37" width="8.32" height="92.56" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="141.79" y="361.29" width="8.32" height="156.63" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="150.11" y="425.37" width="8.32" height="92.56" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="158.43" y="396.89" width="8.32" height="121.04" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="166.75" y="453.85" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="175.06" y="439.61" width="8.32" height="78.32" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="183.38" y="475.21" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="191.70" y="489.45" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="200.02" y="475.21" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="208.34" y="475.21" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="216.66" y="482.33" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="224.98" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="233.30" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="241.62" y="475.21" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="249.94" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="258.26" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="266.58" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="274.90" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="283.22" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="291.54" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="37.79" y="24.53" width="274.55" height="516.89" style="stroke-width: 1.16; stroke: #4D4D4D;"></rect>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
</g>
<defs>
  <clippath id="cpMzE4LjMyfDU5Mi44N3wyNC41M3w1NDEuNDI=">
    <rect x="318.32" y="24.53" width="274.55" height="516.89"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMzE4LjMyfDU5Mi44N3wyNC41M3w1NDEuNDI=)">
<rect x="318.32" y="24.53" width="274.55" height="516.89" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="330.80" y="439.61" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="339.12" y="425.37" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="347.44" y="510.81" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="355.76" y="453.85" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="364.08" y="475.21" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="372.40" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="380.72" y="354.17" width="8.32" height="149.51" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="389.04" y="83.62" width="8.32" height="384.47" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="397.36" y="83.62" width="8.32" height="405.83" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="405.68" y="48.02" width="8.32" height="391.59" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="413.99" y="197.54" width="8.32" height="242.07" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="422.31" y="176.18" width="8.32" height="291.91" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="430.63" y="226.02" width="8.32" height="227.83" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="438.95" y="190.42" width="8.32" height="249.19" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="447.27" y="375.53" width="8.32" height="121.04" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="455.59" y="339.93" width="8.32" height="142.40" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="463.91" y="396.89" width="8.32" height="99.68" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="472.23" y="389.77" width="8.32" height="106.80" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="480.55" y="439.61" width="8.32" height="56.96" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="488.87" y="439.61" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="497.19" y="439.61" width="8.32" height="71.20" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="505.51" y="482.33" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="513.83" y="468.09" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="522.15" y="468.09" width="8.32" height="42.72" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="530.47" y="489.45" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="538.79" y="503.69" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="547.11" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="555.43" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="563.75" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="572.07" y="510.81" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="330.80" y="453.85" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="339.12" y="468.09" width="8.32" height="49.84" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="347.44" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="355.76" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="364.08" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="372.40" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="380.72" y="503.69" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="389.04" y="468.09" width="8.32" height="49.84" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="397.36" y="489.45" width="8.32" height="28.48" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="405.68" y="439.61" width="8.32" height="78.32" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="413.99" y="439.61" width="8.32" height="78.32" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="422.31" y="468.09" width="8.32" height="49.84" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="430.63" y="453.85" width="8.32" height="64.08" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="438.95" y="439.61" width="8.32" height="78.32" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="447.27" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="455.59" y="482.33" width="8.32" height="35.60" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="463.91" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="472.23" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="480.55" y="496.57" width="8.32" height="21.36" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="488.87" y="503.69" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="497.19" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="505.51" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="513.83" y="503.69" width="8.32" height="14.24" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="522.15" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="530.47" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="538.79" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="547.11" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="555.43" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="563.75" y="517.93" width="8.32" height="0.00" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="572.07" y="510.81" width="8.32" height="7.12" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<rect x="318.32" y="24.53" width="274.55" height="516.89" style="stroke-width: 1.16; stroke: #4D4D4D;"></rect>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
</g>
<defs>
  <clippath id="cpMzcuNzl8MzEyLjM0fDUuOTh8MjQuNTM=">
    <rect x="37.79" y="5.98" width="274.55" height="18.55"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMzcuNzl8MzEyLjM0fDUuOTh8MjQuNTM=)">
<rect x="37.79" y="5.98" width="274.55" height="18.55" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<text x="175.06" y="18.75" text-anchor="middle" style="font-size: 9.60px;fill: #1A1A1A; font-family: &quot;Liberation Sans&quot;;" textlength="33.07px" lengthadjust="spacingAndGlyphs">female</text>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
</g>
<defs>
  <clippath id="cpMzE4LjMyfDU5Mi44N3w1Ljk4fDI0LjUz">
    <rect x="318.32" y="5.98" width="274.55" height="18.55"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMzE4LjMyfDU5Mi44N3w1Ljk4fDI0LjUz)">
<rect x="318.32" y="5.98" width="274.55" height="18.55" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<text x="455.59" y="18.75" text-anchor="middle" style="font-size: 9.60px;fill: #1A1A1A; font-family: &quot;Liberation Sans&quot;;" textlength="23.79px" lengthadjust="spacingAndGlyphs">male</text>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<polyline points="54.43,544.41 54.43,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="114.88,544.41 114.88,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="175.32,544.41 175.32,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="235.77,544.41 235.77,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="296.21,544.41 296.21,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<text x="54.43" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="114.88" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">20</text>
<text x="175.32" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">40</text>
<text x="235.77" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">60</text>
<text x="296.21" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">80</text>
<polyline points="334.96,544.41 334.96,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="395.40,544.41 395.40,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="455.85,544.41 455.85,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="516.30,544.41 516.30,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="576.74,544.41 576.74,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<text x="334.96" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="395.40" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">20</text>
<text x="455.85" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">40</text>
<text x="516.30" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">60</text>
<text x="576.74" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">80</text>
<text x="32.41" y="521.42" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="32.41" y="379.03" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">20</text>
<text x="32.41" y="236.63" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">40</text>
<text x="32.41" y="94.24" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">60</text>
<polyline points="34.80,517.93 37.79,517.93 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="34.80,375.53 37.79,375.53 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="34.80,233.14 37.79,233.14 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="34.80,90.74 37.79,90.74 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<text x="315.33" y="567.52" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="23.21px" lengthadjust="spacingAndGlyphs">Age</text>
<text transform="translate(14.73,282.97) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="33.88px" lengthadjust="spacingAndGlyphs">count</text>
<rect x="604.82" y="251.10" width="109.20" height="63.74" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<text x="610.80" y="267.08" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="97.24px" lengthadjust="spacingAndGlyphs">factor(Survived)</text>
<rect x="610.80" y="274.31" width="17.28" height="17.28" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="611.51" y="275.02" width="15.86" height="15.86" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8766D;"></rect>
<rect x="610.80" y="291.59" width="17.28" height="17.28" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="611.51" y="292.30" width="15.86" height="15.86" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #00BFC4;"></rect>
<text x="634.06" y="286.44" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="634.06" y="303.72" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">1</text>
</g>
</svg>

<p>Tripathi: Create the column Child, and indicate whether child or adult:</p>
<pre><code># Original code:
 titanic$Child[titanic$Age &lt; 18] &lt;- 'Child'
 titanic$Child[titanic$Age &gt;= 18] &lt;- 'Adult'</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb130"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r&lt; ($ titanic <span class="at">'Age</span>) <span class="dv">18</span>) <span class="st">"Child"</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Child"</span>)</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (r&gt;= ($ titanic <span class="at">'Age</span>) <span class="dv">18</span>) <span class="st">"Child"</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Adult"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show counts:</p>
<pre><code># Original code:
table(titanic$Child, titanic$Survived)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb132"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>(table ($ titanic <span class="at">'Child</span>)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>       ($ titanic <span class="at">'Survived</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb133"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>          <span class="dv">0</span>   <span class="dv">1</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  Adult <span class="dv">484</span> <span class="dv">273</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  Child  <span class="dv">65</span>  <span class="dv">69</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Adding Mother variable:</p>
<pre><code># Original code:
titanic$Mother &lt;- 'Not Mother'
titanic$Mother[titanic$Sex == 'female' &amp; titanic$Parch &gt;0 &amp; titanic$Age &gt; 18 &amp; titanic$title != 'Miss'] &lt;- 'Mother'</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb135"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> titanic</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>      ($&lt;- <span class="at">'Mother</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Not Mother"</span>)</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>      (bra&lt;- (<span class="kw">reduce</span> r&amp;</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>                     [(r== ($ titanic <span class="at">'Sex</span>) <span class="st">"female"</span>)</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>                      (r&gt; ($ titanic <span class="at">'Parch</span>) <span class="dv">0</span>)</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>                      (r&gt; ($ titanic <span class="at">'Age</span>) <span class="dv">18</span>)</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>                      (r!= ($ titanic <span class="at">'title</span>) <span class="st">"Miss"</span>)])</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Mother"</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Mother"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show counts:</p>
<pre><code># Original code:
table(titanic$Mother, titanic$Survived)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb137"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>(table ($ titanic <span class="at">'Mother</span>)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>       ($ titanic <span class="at">'Survived</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb138"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>               <span class="dv">0</span>   <span class="dv">1</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  Mother      <span class="dv">15</span>  <span class="dv">38</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>  Not Mother <span class="dv">534</span> <span class="dv">304</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Factorizing variables:</p>
<pre><code># Original code:
titanic$Child &lt;- factor(titanic$Child)
titanic$Mother &lt;- factor(titanic$Mother)
titanic$Pclass &lt;- factor(titanic$Pclass)
titanic$Sex &lt;- factor(titanic$Sex)
titanic$Embarked &lt;- factor(titanic$Embarked)
titanic$Survived &lt;- factor(titanic$Survived)
titanic$title &lt;- factor(titanic$title)
titanic$fsizeD &lt;- factor(titanic$fsizeD)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb140"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">reduce</span> (<span class="kw">fn</span> [data <span class="kw">symbol</span>]</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>            ($&lt;- data <span class="kw">symbol</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>                 (factor ($ data <span class="kw">symbol</span>))))</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>          titanic</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>          '[Child Mother Pclass Sex Embarked Survived title fsizeD]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check classes of all columns:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb141"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>(lapply titanic (r <span class="st">"class"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb142"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>$PassengerId</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"integer"</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>$Survived</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>$Pclass</span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a>$Name</span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"character"</span></span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a>$Sex</span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-15"><a href="#cb142-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-16"><a href="#cb142-16" aria-hidden="true" tabindex="-1"></a>$Age</span>
<span id="cb142-17"><a href="#cb142-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"numeric"</span></span>
<span id="cb142-18"><a href="#cb142-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-19"><a href="#cb142-19" aria-hidden="true" tabindex="-1"></a>$SibSp</span>
<span id="cb142-20"><a href="#cb142-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"integer"</span></span>
<span id="cb142-21"><a href="#cb142-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-22"><a href="#cb142-22" aria-hidden="true" tabindex="-1"></a>$Parch</span>
<span id="cb142-23"><a href="#cb142-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"integer"</span></span>
<span id="cb142-24"><a href="#cb142-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-25"><a href="#cb142-25" aria-hidden="true" tabindex="-1"></a>$Ticket</span>
<span id="cb142-26"><a href="#cb142-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"character"</span></span>
<span id="cb142-27"><a href="#cb142-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-28"><a href="#cb142-28" aria-hidden="true" tabindex="-1"></a>$Fare</span>
<span id="cb142-29"><a href="#cb142-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"numeric"</span></span>
<span id="cb142-30"><a href="#cb142-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-31"><a href="#cb142-31" aria-hidden="true" tabindex="-1"></a>$Cabin</span>
<span id="cb142-32"><a href="#cb142-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"character"</span></span>
<span id="cb142-33"><a href="#cb142-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-34"><a href="#cb142-34" aria-hidden="true" tabindex="-1"></a>$Embarked</span>
<span id="cb142-35"><a href="#cb142-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-36"><a href="#cb142-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-37"><a href="#cb142-37" aria-hidden="true" tabindex="-1"></a>$title</span>
<span id="cb142-38"><a href="#cb142-38" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-39"><a href="#cb142-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-40"><a href="#cb142-40" aria-hidden="true" tabindex="-1"></a>$surname</span>
<span id="cb142-41"><a href="#cb142-41" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"character"</span></span>
<span id="cb142-42"><a href="#cb142-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-43"><a href="#cb142-43" aria-hidden="true" tabindex="-1"></a>$famsize</span>
<span id="cb142-44"><a href="#cb142-44" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"integer"</span></span>
<span id="cb142-45"><a href="#cb142-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-46"><a href="#cb142-46" aria-hidden="true" tabindex="-1"></a>$family</span>
<span id="cb142-47"><a href="#cb142-47" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"character"</span></span>
<span id="cb142-48"><a href="#cb142-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-49"><a href="#cb142-49" aria-hidden="true" tabindex="-1"></a>$fsizeD</span>
<span id="cb142-50"><a href="#cb142-50" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-51"><a href="#cb142-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-52"><a href="#cb142-52" aria-hidden="true" tabindex="-1"></a>$deck</span>
<span id="cb142-53"><a href="#cb142-53" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-54"><a href="#cb142-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-55"><a href="#cb142-55" aria-hidden="true" tabindex="-1"></a>$Child</span>
<span id="cb142-56"><a href="#cb142-56" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-57"><a href="#cb142-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-58"><a href="#cb142-58" aria-hidden="true" tabindex="-1"></a>$Mother</span>
<span id="cb142-59"><a href="#cb142-59" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"factor"</span></span>
<span id="cb142-60"><a href="#cb142-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-61"><a href="#cb142-61" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="prediction" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Prediction</h1>
<p>Split into training &amp; test sets:</p>
<pre><code># Original code:
train &lt;- titanic[1:891,]
test &lt;- titanic[892:1309,]</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb144"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> train</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  (bra titanic (colon <span class="dv">1</span> <span class="dv">891</span>) <span class="va">nil</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb145"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> test</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>   (bra titanic (colon <span class="dv">892</span> <span class="dv">1309</span>) <span class="va">nil</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Building the model:</p>
<p>Tripathi: We then build our model using randomForest on the training set.</p>
<p>Set a random seed:</p>
<pre><code># Original code:
set.seed(754)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb147"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>(set-seed <span class="dv">754</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb148"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>NULL</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Build the model (note: not all possible variables are used):</p>
<pre><code># Original code:
titanic_model &lt;- randomForest(Survived ~ Pclass + Sex + Age + SibSp + Parch +
                                Fare + Embarked + title +
                                fsizeD + Child + Mother,
                              data = train)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb150"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> titanic-model</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  (randomForest '(tilde Survived</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>                        (<span class="kw">+</span> Pclass Sex Age SibSp Parch</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>                           Fare Embarked title</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>                           fsizeD Child Mother))</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">:data</span> train))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show model error:</p>
<pre><code># Original code:
plot(titanic_model, ylim=c(0,0.36))
legend('topright', colnames(titanic_model$err.rate), col=1:3, fill=1:3)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb152"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>(plot-&gt;svg</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a> (<span class="kw">fn</span> []</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>   (plot titanic-model <span class="at">:ylim</span> [<span class="dv">0</span> <span class="fl">0.36</span>]</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">:main</span> <span class="st">"Model Error"</span>)</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>   (legend <span class="st">"topright"</span></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>           (colnames ($ titanic-model <span class="at">'err.rate</span>))</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">:col</span> (colon <span class="dv">1</span> <span class="dv">3</span>)</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">:fill</span> (colon <span class="dv">1</span> <span class="dv">3</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
</g>
<defs>
  <clippath id="cpNTkuMDR8Njg5Ljc2fDU5LjA0fDUwMi41Ng==">
    <rect x="59.04" y="59.04" width="630.72" height="443.52"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNTkuMDR8Njg5Ljc2fDU5LjA0fDUwMi41Ng==)">
<polyline points="82.40,215.78 83.57,237.51 84.74,251.48 85.91,259.81 87.08,263.69 88.25,267.34 89.42,274.53 90.59,288.95 91.76,274.93 92.93,288.25 94.10,285.51 95.27,280.59 96.44,274.41 97.61,283.39 98.78,279.54 99.96,283.39 101.13,283.62 102.30,296.65 103.47,282.57 104.64,295.37 105.81,286.41 106.98,297.93 108.15,290.25 109.32,290.25 110.49,295.37 111.66,292.81 112.83,294.09 114.00,290.25 115.17,297.93 116.34,297.93 117.51,303.05 118.68,301.77 119.85,297.93 121.02,297.93 122.19,301.77 123.36,297.93 124.53,300.49 125.70,295.37 126.87,296.65 128.04,299.21 129.21,296.65 130.38,294.09 131.55,295.37 132.72,297.93 133.89,294.09 135.07,296.65 136.24,292.81 137.41,295.37 138.58,294.09 139.75,292.81 140.92,296.65 142.09,287.69 143.26,295.37 144.43,291.53 145.60,290.25 146.77,292.81 147.94,290.25 149.11,287.69 150.28,287.69 151.45,290.25 152.62,287.69 153.79,290.25 154.96,288.97 156.13,291.53 157.30,291.53 158.47,288.97 159.64,290.25 160.81,290.25 161.98,290.25 163.15,291.53 164.32,292.81 165.49,292.81 166.66,288.97 167.83,288.97 169.01,286.41 170.18,287.69 171.35,286.41 172.52,288.97 173.69,287.69 174.86,287.69 176.03,287.69 177.20,287.69 178.37,290.25 179.54,287.69 180.71,288.97 181.88,291.53 183.05,291.53 184.22,294.09 185.39,294.09 186.56,292.81 187.73,291.53 188.90,294.09 190.07,292.81 191.24,294.09 192.41,290.25 193.58,294.09 194.75,291.53 195.92,294.09 197.09,294.09 198.26,291.53 199.43,292.81 200.60,292.81 201.77,292.81 202.95,294.09 204.12,294.09 205.29,292.81 206.46,291.53 207.63,291.53 208.80,292.81 209.97,291.53 211.14,291.53 212.31,290.25 213.48,290.25 214.65,291.53 215.82,291.53 216.99,290.25 218.16,292.81 219.33,290.25 220.50,291.53 221.67,290.25 222.84,288.97 224.01,288.97 225.18,285.13 226.35,287.69 227.52,286.41 228.69,287.69 229.86,288.97 231.03,287.69 232.20,287.69 233.37,286.41 234.54,286.41 235.71,287.69 236.88,287.69 238.06,286.41 239.23,285.13 240.40,287.69 241.57,286.41 242.74,288.97 243.91,288.97 245.08,290.25 246.25,288.97 247.42,288.97 248.59,288.97 249.76,286.41 250.93,288.97 252.10,286.41 253.27,288.97 254.44,288.97 255.61,290.25 256.78,291.53 257.95,292.81 259.12,291.53 260.29,290.25 261.46,290.25 262.63,290.25 263.80,292.81 264.97,290.25 266.14,291.53 267.31,292.81 268.48,292.81 269.65,292.81 270.82,292.81 272.00,292.81 273.17,291.53 274.34,291.53 275.51,294.09 276.68,291.53 277.85,292.81 279.02,295.37 280.19,295.37 281.36,296.65 282.53,296.65 283.70,295.37 284.87,296.65 286.04,295.37 287.21,292.81 288.38,292.81 289.55,292.81 290.72,292.81 291.89,292.81 293.06,292.81 294.23,291.53 295.40,294.09 296.57,292.81 297.74,294.09 298.91,294.09 300.08,294.09 301.25,294.09 302.42,295.37 303.59,295.37 304.76,294.09 305.94,294.09 307.11,294.09 308.28,291.53 309.45,294.09 310.62,291.53 311.79,292.81 312.96,292.81 314.13,292.81 315.30,294.09 316.47,294.09 317.64,292.81 318.81,292.81 319.98,294.09 321.15,294.09 322.32,292.81 323.49,291.53 324.66,290.25 325.83,290.25 327.00,291.53 328.17,290.25 329.34,290.25 330.51,291.53 331.68,291.53 332.85,291.53 334.02,290.25 335.19,290.25 336.36,290.25 337.53,290.25 338.70,290.25 339.87,288.97 341.05,288.97 342.22,288.97 343.39,288.97 344.56,287.69 345.73,287.69 346.90,287.69 348.07,288.97 349.24,288.97 350.41,288.97 351.58,288.97 352.75,288.97 353.92,288.97 355.09,288.97 356.26,287.69 357.43,287.69 358.60,288.97 359.77,287.69 360.94,287.69 362.11,287.69 363.28,287.69 364.45,287.69 365.62,287.69 366.79,287.69 367.96,288.97 369.13,288.97 370.30,288.97 371.47,288.97 372.64,288.97 373.81,287.69 374.99,288.97 376.16,287.69 377.33,287.69 378.50,286.41 379.67,287.69 380.84,287.69 382.01,287.69 383.18,287.69 384.35,286.41 385.52,287.69 386.69,287.69 387.86,287.69 389.03,287.69 390.20,287.69 391.37,288.97 392.54,287.69 393.71,287.69 394.88,287.69 396.05,287.69 397.22,287.69 398.39,287.69 399.56,288.97 400.73,287.69 401.90,287.69 403.07,287.69 404.24,288.97 405.41,288.97 406.58,288.97 407.75,288.97 408.93,288.97 410.10,288.97 411.27,290.25 412.44,290.25 413.61,290.25 414.78,290.25 415.95,290.25 417.12,290.25 418.29,290.25 419.46,290.25 420.63,290.25 421.80,290.25 422.97,290.25 424.14,290.25 425.31,290.25 426.48,290.25 427.65,291.53 428.82,291.53 429.99,291.53 431.16,290.25 432.33,291.53 433.50,291.53 434.67,291.53 435.84,291.53 437.01,292.81 438.18,291.53 439.35,291.53 440.52,290.25 441.69,288.97 442.86,288.97 444.04,290.25 445.21,291.53 446.38,292.81 447.55,291.53 448.72,291.53 449.89,290.25 451.06,290.25 452.23,291.53 453.40,291.53 454.57,291.53 455.74,292.81 456.91,292.81 458.08,292.81 459.25,291.53 460.42,292.81 461.59,292.81 462.76,292.81 463.93,291.53 465.10,291.53 466.27,291.53 467.44,291.53 468.61,291.53 469.78,291.53 470.95,291.53 472.12,291.53 473.29,291.53 474.46,291.53 475.63,291.53 476.80,291.53 477.98,291.53 479.15,291.53 480.32,291.53 481.49,290.25 482.66,291.53 483.83,291.53 485.00,291.53 486.17,291.53 487.34,291.53 488.51,291.53 489.68,291.53 490.85,291.53 492.02,291.53 493.19,292.81 494.36,292.81 495.53,292.81 496.70,291.53 497.87,291.53 499.04,292.81 500.21,291.53 501.38,291.53 502.55,291.53 503.72,292.81 504.89,291.53 506.06,294.09 507.23,295.37 508.40,292.81 509.57,292.81 510.74,294.09 511.92,292.81 513.09,294.09 514.26,291.53 515.43,291.53 516.60,292.81 517.77,294.09 518.94,292.81 520.11,292.81 521.28,292.81 522.45,292.81 523.62,292.81 524.79,292.81 525.96,292.81 527.13,292.81 528.30,292.81 529.47,292.81 530.64,292.81 531.81,292.81 532.98,292.81 534.15,292.81 535.32,292.81 536.49,292.81 537.66,294.09 538.83,294.09 540.00,294.09 541.17,294.09 542.34,294.09 543.51,294.09 544.68,295.37 545.85,294.09 547.03,295.37 548.20,295.37 549.37,295.37 550.54,295.37 551.71,295.37 552.88,295.37 554.05,295.37 555.22,296.65 556.39,294.09 557.56,294.09 558.73,292.81 559.90,292.81 561.07,294.09 562.24,294.09 563.41,295.37 564.58,294.09 565.75,295.37 566.92,294.09 568.09,294.09 569.26,295.37 570.43,295.37 571.60,295.37 572.77,295.37 573.94,295.37 575.11,295.37 576.28,295.37 577.45,295.37 578.62,295.37 579.79,295.37 580.97,295.37 582.14,295.37 583.31,295.37 584.48,295.37 585.65,295.37 586.82,295.37 587.99,295.37 589.16,295.37 590.33,295.37 591.50,295.37 592.67,295.37 593.84,295.37 595.01,294.09 596.18,294.09 597.35,295.37 598.52,295.37 599.69,295.37 600.86,295.37 602.03,294.09 603.20,294.09 604.37,294.09 605.54,294.09 606.71,294.09 607.88,294.09 609.05,294.09 610.22,295.37 611.39,295.37 612.56,295.37 613.73,295.37 614.91,295.37 616.08,294.09 617.25,295.37 618.42,292.81 619.59,295.37 620.76,294.09 621.93,294.09 623.10,294.09 624.27,294.09 625.44,294.09 626.61,294.09 627.78,294.09 628.95,295.37 630.12,295.37 631.29,292.81 632.46,292.81 633.63,292.81 634.80,292.81 635.97,292.81 637.14,294.09 638.31,294.09 639.48,294.09 640.65,292.81 641.82,295.37 642.99,294.09 644.16,292.81 645.33,292.81 646.50,292.81 647.67,292.81 648.84,294.09 650.02,294.09 651.19,290.25 652.36,290.25 653.53,292.81 654.70,294.09 655.87,292.81 657.04,291.53 658.21,291.53 659.38,291.53 660.55,291.53 661.72,291.53 662.89,291.53 664.06,291.53 665.23,291.53 666.40,291.53 " style="stroke-width: 0.75;"></polyline>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<line x1="81.23" y1="502.56" x2="666.40" y2="502.56" style="stroke-width: 0.75;"></line>
<line x1="81.23" y1="502.56" x2="81.23" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="198.26" y1="502.56" x2="198.26" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="315.30" y1="502.56" x2="315.30" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="432.33" y1="502.56" x2="432.33" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="549.37" y1="502.56" x2="549.37" y2="509.76" style="stroke-width: 0.75;"></line>
<line x1="666.40" y1="502.56" x2="666.40" y2="509.76" style="stroke-width: 0.75;"></line>
<text x="81.23" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="7.64px" lengthadjust="spacingAndGlyphs">0</text>
<text x="198.26" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="22.92px" lengthadjust="spacingAndGlyphs">100</text>
<text x="315.30" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="22.92px" lengthadjust="spacingAndGlyphs">200</text>
<text x="432.33" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="22.92px" lengthadjust="spacingAndGlyphs">300</text>
<text x="549.37" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="22.92px" lengthadjust="spacingAndGlyphs">400</text>
<text x="666.40" y="528.48" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="22.92px" lengthadjust="spacingAndGlyphs">500</text>
<line x1="59.04" y1="486.13" x2="59.04" y2="86.87" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="486.13" x2="51.84" y2="486.13" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="429.10" x2="51.84" y2="429.10" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="372.06" x2="51.84" y2="372.06" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="315.02" x2="51.84" y2="315.02" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="257.99" x2="51.84" y2="257.99" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="200.95" x2="51.84" y2="200.95" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="143.91" x2="51.84" y2="143.91" style="stroke-width: 0.75;"></line>
<line x1="59.04" y1="86.87" x2="51.84" y2="86.87" style="stroke-width: 0.75;"></line>
<text transform="translate(41.76,486.13) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.00</text>
<text transform="translate(41.76,429.10) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.05</text>
<text transform="translate(41.76,372.06) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.10</text>
<text transform="translate(41.76,315.02) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.15</text>
<text transform="translate(41.76,257.99) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.20</text>
<text transform="translate(41.76,200.95) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.25</text>
<text transform="translate(41.76,143.91) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.30</text>
<text transform="translate(41.76,86.87) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="26.73px" lengthadjust="spacingAndGlyphs">0.35</text>
<polygon points="59.04,502.56 689.76,502.56 689.76,59.04 59.04,59.04 " style="stroke-width: 0.75;"></polygon>
<text x="374.40" y="34.77" text-anchor="middle" style="font-size: 14.40px; font-weight: bold; font-family: &quot;Liberation Sans&quot;;" textlength="95.23px" lengthadjust="spacingAndGlyphs">Model Error</text>
<text x="374.40" y="557.28" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="30.41px" lengthadjust="spacingAndGlyphs">trees</text>
<text transform="translate(12.96,280.80) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="29.25px" lengthadjust="spacingAndGlyphs">Error</text>
</g>
<g clip-path="url(#cpNTkuMDR8Njg5Ljc2fDU5LjA0fDUwMi41Ng==)">
<polyline points="82.40,305.15 83.57,321.67 84.74,331.60 85.91,351.34 87.08,360.68 88.25,360.63 89.42,369.19 90.59,383.21 91.76,365.50 92.93,389.67 94.10,381.86 95.27,371.43 96.44,373.52 97.61,381.86 98.78,375.60 99.96,381.86 101.13,379.97 102.30,388.47 103.47,378.09 104.64,380.16 105.81,373.93 106.98,386.40 108.15,382.24 109.32,371.85 110.49,380.16 111.66,378.09 112.83,378.09 114.00,371.85 115.17,380.16 116.34,380.16 117.51,386.40 118.68,384.32 119.85,380.16 121.02,380.16 122.19,384.32 123.36,388.47 124.53,382.24 125.70,380.16 126.87,384.32 128.04,382.24 129.21,378.09 130.38,373.93 131.55,382.24 132.72,376.01 133.89,376.01 135.07,376.01 136.24,371.85 137.41,376.01 138.58,373.93 139.75,373.93 140.92,380.16 142.09,369.77 143.26,380.16 144.43,373.93 145.60,371.85 146.77,376.01 147.94,371.85 149.11,367.70 150.28,367.70 151.45,371.85 152.62,367.70 153.79,371.85 154.96,369.77 156.13,373.93 157.30,373.93 158.47,369.77 159.64,373.93 160.81,373.93 161.98,371.85 163.15,376.01 164.32,376.01 165.49,376.01 166.66,373.93 167.83,373.93 169.01,369.77 170.18,371.85 171.35,369.77 172.52,373.93 173.69,369.77 174.86,371.85 176.03,371.85 177.20,371.85 178.37,373.93 179.54,371.85 180.71,376.01 181.88,376.01 183.05,373.93 184.22,378.09 185.39,376.01 186.56,376.01 187.73,376.01 188.90,378.09 190.07,378.09 191.24,376.01 192.41,371.85 193.58,376.01 194.75,373.93 195.92,373.93 197.09,373.93 198.26,371.85 199.43,371.85 200.60,373.93 201.77,373.93 202.95,376.01 204.12,376.01 205.29,376.01 206.46,373.93 207.63,376.01 208.80,376.01 209.97,373.93 211.14,376.01 212.31,373.93 213.48,373.93 214.65,373.93 215.82,373.93 216.99,373.93 218.16,373.93 219.33,371.85 220.50,371.85 221.67,371.85 222.84,369.77 224.01,371.85 225.18,365.62 226.35,369.77 227.52,367.70 228.69,369.77 229.86,369.77 231.03,369.77 232.20,367.70 233.37,367.70 234.54,367.70 235.71,367.70 236.88,369.77 238.06,367.70 239.23,365.62 240.40,369.77 241.57,369.77 242.74,371.85 243.91,371.85 245.08,371.85 246.25,371.85 247.42,371.85 248.59,371.85 249.76,367.70 250.93,371.85 252.10,367.70 253.27,369.77 254.44,369.77 255.61,369.77 256.78,369.77 257.95,371.85 259.12,371.85 260.29,369.77 261.46,369.77 262.63,369.77 263.80,373.93 264.97,371.85 266.14,373.93 267.31,373.93 268.48,371.85 269.65,373.93 270.82,371.85 272.00,376.01 273.17,376.01 274.34,373.93 275.51,378.09 276.68,376.01 277.85,376.01 279.02,378.09 280.19,378.09 281.36,378.09 282.53,378.09 283.70,376.01 284.87,378.09 286.04,376.01 287.21,373.93 288.38,373.93 289.55,373.93 290.72,376.01 291.89,376.01 293.06,376.01 294.23,376.01 295.40,378.09 296.57,378.09 297.74,380.16 298.91,380.16 300.08,380.16 301.25,380.16 302.42,380.16 303.59,380.16 304.76,378.09 305.94,378.09 307.11,380.16 308.28,376.01 309.45,380.16 310.62,378.09 311.79,380.16 312.96,380.16 314.13,380.16 315.30,380.16 316.47,382.24 317.64,378.09 318.81,380.16 319.98,380.16 321.15,380.16 322.32,380.16 323.49,378.09 324.66,376.01 325.83,376.01 327.00,378.09 328.17,376.01 329.34,376.01 330.51,378.09 331.68,378.09 332.85,378.09 334.02,376.01 335.19,376.01 336.36,376.01 337.53,376.01 338.70,376.01 339.87,373.93 341.05,373.93 342.22,373.93 343.39,373.93 344.56,373.93 345.73,373.93 346.90,373.93 348.07,373.93 349.24,373.93 350.41,373.93 351.58,373.93 352.75,373.93 353.92,373.93 355.09,373.93 356.26,371.85 357.43,371.85 358.60,373.93 359.77,371.85 360.94,371.85 362.11,371.85 363.28,371.85 364.45,373.93 365.62,373.93 366.79,373.93 367.96,376.01 369.13,376.01 370.30,376.01 371.47,376.01 372.64,376.01 373.81,373.93 374.99,376.01 376.16,373.93 377.33,373.93 378.50,371.85 379.67,373.93 380.84,373.93 382.01,373.93 383.18,373.93 384.35,371.85 385.52,373.93 386.69,373.93 387.86,373.93 389.03,373.93 390.20,373.93 391.37,376.01 392.54,373.93 393.71,373.93 394.88,373.93 396.05,373.93 397.22,373.93 398.39,373.93 399.56,376.01 400.73,373.93 401.90,373.93 403.07,373.93 404.24,376.01 405.41,376.01 406.58,376.01 407.75,376.01 408.93,376.01 410.10,376.01 411.27,378.09 412.44,378.09 413.61,378.09 414.78,378.09 415.95,378.09 417.12,378.09 418.29,378.09 419.46,378.09 420.63,378.09 421.80,378.09 422.97,378.09 424.14,378.09 425.31,378.09 426.48,378.09 427.65,378.09 428.82,378.09 429.99,378.09 431.16,378.09 432.33,378.09 433.50,378.09 434.67,378.09 435.84,378.09 437.01,378.09 438.18,378.09 439.35,378.09 440.52,378.09 441.69,378.09 442.86,378.09 444.04,378.09 445.21,378.09 446.38,378.09 447.55,378.09 448.72,378.09 449.89,378.09 451.06,378.09 452.23,378.09 453.40,378.09 454.57,378.09 455.74,378.09 456.91,378.09 458.08,378.09 459.25,378.09 460.42,378.09 461.59,378.09 462.76,378.09 463.93,378.09 465.10,378.09 466.27,378.09 467.44,378.09 468.61,378.09 469.78,378.09 470.95,378.09 472.12,378.09 473.29,378.09 474.46,378.09 475.63,378.09 476.80,378.09 477.98,378.09 479.15,378.09 480.32,378.09 481.49,378.09 482.66,378.09 483.83,378.09 485.00,380.16 486.17,380.16 487.34,380.16 488.51,380.16 489.68,380.16 490.85,380.16 492.02,380.16 493.19,380.16 494.36,380.16 495.53,380.16 496.70,380.16 497.87,380.16 499.04,382.24 500.21,380.16 501.38,380.16 502.55,380.16 503.72,382.24 504.89,380.16 506.06,384.32 507.23,384.32 508.40,382.24 509.57,382.24 510.74,384.32 511.92,384.32 513.09,384.32 514.26,384.32 515.43,384.32 516.60,384.32 517.77,384.32 518.94,382.24 520.11,382.24 521.28,382.24 522.45,382.24 523.62,382.24 524.79,382.24 525.96,382.24 527.13,382.24 528.30,382.24 529.47,382.24 530.64,382.24 531.81,382.24 532.98,382.24 534.15,382.24 535.32,382.24 536.49,382.24 537.66,382.24 538.83,382.24 540.00,382.24 541.17,382.24 542.34,382.24 543.51,382.24 544.68,382.24 545.85,382.24 547.03,382.24 548.20,382.24 549.37,382.24 550.54,382.24 551.71,382.24 552.88,382.24 554.05,382.24 555.22,382.24 556.39,382.24 557.56,382.24 558.73,380.16 559.90,380.16 561.07,382.24 562.24,382.24 563.41,382.24 564.58,382.24 565.75,382.24 566.92,382.24 568.09,382.24 569.26,382.24 570.43,382.24 571.60,382.24 572.77,382.24 573.94,382.24 575.11,382.24 576.28,382.24 577.45,382.24 578.62,382.24 579.79,382.24 580.97,382.24 582.14,382.24 583.31,382.24 584.48,382.24 585.65,382.24 586.82,382.24 587.99,382.24 589.16,382.24 590.33,382.24 591.50,382.24 592.67,382.24 593.84,382.24 595.01,382.24 596.18,382.24 597.35,382.24 598.52,382.24 599.69,382.24 600.86,382.24 602.03,382.24 603.20,382.24 604.37,382.24 605.54,382.24 606.71,382.24 607.88,382.24 609.05,382.24 610.22,382.24 611.39,382.24 612.56,382.24 613.73,382.24 614.91,382.24 616.08,380.16 617.25,382.24 618.42,380.16 619.59,382.24 620.76,382.24 621.93,380.16 623.10,380.16 624.27,380.16 625.44,380.16 626.61,380.16 627.78,380.16 628.95,382.24 630.12,382.24 631.29,380.16 632.46,380.16 633.63,380.16 634.80,382.24 635.97,380.16 637.14,382.24 638.31,382.24 639.48,382.24 640.65,382.24 641.82,382.24 642.99,382.24 644.16,382.24 645.33,380.16 646.50,382.24 647.67,380.16 648.84,382.24 650.02,382.24 651.19,380.16 652.36,380.16 653.53,382.24 654.70,382.24 655.87,382.24 657.04,380.16 658.21,380.16 659.38,380.16 660.55,380.16 661.72,380.16 662.89,380.16 664.06,380.16 665.23,380.16 666.40,380.16 " style="stroke-width: 0.75; stroke: #DF536B; stroke-dasharray: 4.00,4.00;"></polyline>
<polyline points="82.40,81.09 83.57,112.80 84.74,126.36 85.91,117.53 87.08,109.58 88.25,118.96 89.42,123.49 90.59,137.00 91.76,129.65 92.93,125.01 94.10,130.49 95.27,134.88 96.44,115.89 97.61,125.90 98.78,125.90 99.96,125.90 101.13,129.23 102.30,149.25 103.47,129.23 104.64,159.25 105.81,145.91 106.98,155.92 108.15,142.58 109.32,159.25 110.49,159.25 111.66,155.92 112.83,159.25 114.00,159.25 115.17,165.93 116.34,165.93 117.51,169.26 118.68,169.26 119.85,165.93 121.02,165.93 122.19,169.26 123.36,152.58 124.53,169.26 125.70,159.25 126.87,155.92 128.04,165.93 129.21,165.93 130.38,165.93 131.55,155.92 132.72,172.60 133.89,162.59 135.07,169.26 136.24,165.93 137.41,165.93 138.58,165.93 139.75,162.59 140.92,162.59 142.09,155.92 143.26,159.25 144.43,159.25 145.60,159.25 146.77,159.25 147.94,159.25 149.11,159.25 150.28,159.25 151.45,159.25 152.62,159.25 153.79,159.25 154.96,159.25 156.13,159.25 157.30,159.25 158.47,159.25 159.64,155.92 160.81,155.92 161.98,159.25 163.15,155.92 164.32,159.25 165.49,159.25 166.66,152.58 167.83,152.58 169.01,152.58 170.18,152.58 171.35,152.58 172.52,152.58 173.69,155.92 174.86,152.58 176.03,152.58 177.20,152.58 178.37,155.92 179.54,152.58 180.71,149.25 181.88,155.92 183.05,159.25 184.22,159.25 185.39,162.59 186.56,159.25 187.73,155.92 188.90,159.25 190.07,155.92 191.24,162.59 192.41,159.25 193.58,162.59 194.75,159.25 195.92,165.93 197.09,165.93 198.26,162.59 199.43,165.93 200.60,162.59 201.77,162.59 202.95,162.59 204.12,162.59 205.29,159.25 206.46,159.25 207.63,155.92 208.80,159.25 209.97,159.25 211.14,155.92 212.31,155.92 213.48,155.92 214.65,159.25 215.82,159.25 216.99,155.92 218.16,162.59 219.33,159.25 220.50,162.59 221.67,159.25 222.84,159.25 224.01,155.92 225.18,155.92 226.35,155.92 227.52,155.92 228.69,155.92 229.86,159.25 231.03,155.92 232.20,159.25 233.37,155.92 234.54,155.92 235.71,159.25 236.88,155.92 238.06,155.92 239.23,155.92 240.40,155.92 241.57,152.58 242.74,155.92 243.91,155.92 245.08,159.25 246.25,155.92 247.42,155.92 248.59,155.92 249.76,155.92 250.93,155.92 252.10,155.92 253.27,159.25 254.44,159.25 255.61,162.59 256.78,165.93 257.95,165.93 259.12,162.59 260.29,162.59 261.46,162.59 262.63,162.59 263.80,162.59 264.97,159.25 266.14,159.25 267.31,162.59 268.48,165.93 269.65,162.59 270.82,165.93 272.00,159.25 273.17,155.92 274.34,159.25 275.51,159.25 276.68,155.92 277.85,159.25 279.02,162.59 280.19,162.59 281.36,165.93 282.53,165.93 283.70,165.93 284.87,165.93 286.04,165.93 287.21,162.59 288.38,162.59 289.55,162.59 290.72,159.25 291.89,159.25 293.06,159.25 294.23,155.92 295.40,159.25 296.57,155.92 297.74,155.92 298.91,155.92 300.08,155.92 301.25,155.92 302.42,159.25 303.59,159.25 304.76,159.25 305.94,159.25 307.11,155.92 308.28,155.92 309.45,155.92 310.62,152.58 311.79,152.58 312.96,152.58 314.13,152.58 315.30,155.92 316.47,152.58 317.64,155.92 318.81,152.58 319.98,155.92 321.15,155.92 322.32,152.58 323.49,152.58 324.66,152.58 325.83,152.58 327.00,152.58 328.17,152.58 329.34,152.58 330.51,152.58 331.68,152.58 332.85,152.58 334.02,152.58 335.19,152.58 336.36,152.58 337.53,152.58 338.70,152.58 339.87,152.58 341.05,152.58 342.22,152.58 343.39,152.58 344.56,149.25 345.73,149.25 346.90,149.25 348.07,152.58 349.24,152.58 350.41,152.58 351.58,152.58 352.75,152.58 353.92,152.58 355.09,152.58 356.26,152.58 357.43,152.58 358.60,152.58 359.77,152.58 360.94,152.58 362.11,152.58 363.28,152.58 364.45,149.25 365.62,149.25 366.79,149.25 367.96,149.25 369.13,149.25 370.30,149.25 371.47,149.25 372.64,149.25 373.81,149.25 374.99,149.25 376.16,149.25 377.33,149.25 378.50,149.25 379.67,149.25 380.84,149.25 382.01,149.25 383.18,149.25 384.35,149.25 385.52,149.25 386.69,149.25 387.86,149.25 389.03,149.25 390.20,149.25 391.37,149.25 392.54,149.25 393.71,149.25 394.88,149.25 396.05,149.25 397.22,149.25 398.39,149.25 399.56,149.25 400.73,149.25 401.90,149.25 403.07,149.25 404.24,149.25 405.41,149.25 406.58,149.25 407.75,149.25 408.93,149.25 410.10,149.25 411.27,149.25 412.44,149.25 413.61,149.25 414.78,149.25 415.95,149.25 417.12,149.25 418.29,149.25 419.46,149.25 420.63,149.25 421.80,149.25 422.97,149.25 424.14,149.25 425.31,149.25 426.48,149.25 427.65,152.58 428.82,152.58 429.99,152.58 431.16,149.25 432.33,152.58 433.50,152.58 434.67,152.58 435.84,152.58 437.01,155.92 438.18,152.58 439.35,152.58 440.52,149.25 441.69,145.91 442.86,145.91 444.04,149.25 445.21,152.58 446.38,155.92 447.55,152.58 448.72,152.58 449.89,149.25 451.06,149.25 452.23,152.58 453.40,152.58 454.57,152.58 455.74,155.92 456.91,155.92 458.08,155.92 459.25,152.58 460.42,155.92 461.59,155.92 462.76,155.92 463.93,152.58 465.10,152.58 466.27,152.58 467.44,152.58 468.61,152.58 469.78,152.58 470.95,152.58 472.12,152.58 473.29,152.58 474.46,152.58 475.63,152.58 476.80,152.58 477.98,152.58 479.15,152.58 480.32,152.58 481.49,149.25 482.66,152.58 483.83,152.58 485.00,149.25 486.17,149.25 487.34,149.25 488.51,149.25 489.68,149.25 490.85,149.25 492.02,149.25 493.19,152.58 494.36,152.58 495.53,152.58 496.70,149.25 497.87,149.25 499.04,149.25 500.21,149.25 501.38,149.25 502.55,149.25 503.72,149.25 504.89,149.25 506.06,149.25 507.23,152.58 508.40,149.25 509.57,149.25 510.74,149.25 511.92,145.91 513.09,149.25 514.26,142.58 515.43,142.58 516.60,145.91 517.77,149.25 518.94,149.25 520.11,149.25 521.28,149.25 522.45,149.25 523.62,149.25 524.79,149.25 525.96,149.25 527.13,149.25 528.30,149.25 529.47,149.25 530.64,149.25 531.81,149.25 532.98,149.25 534.15,149.25 535.32,149.25 536.49,149.25 537.66,152.58 538.83,152.58 540.00,152.58 541.17,152.58 542.34,152.58 543.51,152.58 544.68,155.92 545.85,152.58 547.03,155.92 548.20,155.92 549.37,155.92 550.54,155.92 551.71,155.92 552.88,155.92 554.05,155.92 555.22,159.25 556.39,152.58 557.56,152.58 558.73,152.58 559.90,152.58 561.07,152.58 562.24,152.58 563.41,155.92 564.58,152.58 565.75,155.92 566.92,152.58 568.09,152.58 569.26,155.92 570.43,155.92 571.60,155.92 572.77,155.92 573.94,155.92 575.11,155.92 576.28,155.92 577.45,155.92 578.62,155.92 579.79,155.92 580.97,155.92 582.14,155.92 583.31,155.92 584.48,155.92 585.65,155.92 586.82,155.92 587.99,155.92 589.16,155.92 590.33,155.92 591.50,155.92 592.67,155.92 593.84,155.92 595.01,152.58 596.18,152.58 597.35,155.92 598.52,155.92 599.69,155.92 600.86,155.92 602.03,152.58 603.20,152.58 604.37,152.58 605.54,152.58 606.71,152.58 607.88,152.58 609.05,152.58 610.22,155.92 611.39,155.92 612.56,155.92 613.73,155.92 614.91,155.92 616.08,155.92 617.25,155.92 618.42,152.58 619.59,155.92 620.76,152.58 621.93,155.92 623.10,155.92 624.27,155.92 625.44,155.92 626.61,155.92 627.78,155.92 628.95,155.92 630.12,155.92 631.29,152.58 632.46,152.58 633.63,152.58 634.80,149.25 635.97,152.58 637.14,152.58 638.31,152.58 639.48,152.58 640.65,149.25 641.82,155.92 642.99,152.58 644.16,149.25 645.33,152.58 646.50,149.25 647.67,152.58 648.84,152.58 650.02,152.58 651.19,145.91 652.36,145.91 653.53,149.25 654.70,152.58 655.87,149.25 657.04,149.25 658.21,149.25 659.38,149.25 660.55,149.25 661.72,149.25 662.89,149.25 664.06,149.25 665.23,149.25 666.40,149.25 " style="stroke-width: 0.75; stroke: #61D04F; stroke-dasharray: 1.00,3.00;"></polyline>
<rect x="626.99" y="59.04" width="62.77" height="57.60" style="stroke-width: 0.75; fill: #FFFFFF;"></rect>
<rect x="637.79" y="69.84" width="8.64" height="7.20" style="stroke-width: 0.75; fill: #000000;"></rect>
<rect x="637.79" y="84.24" width="8.64" height="7.20" style="stroke-width: 0.75; fill: #DF536B;"></rect>
<rect x="637.79" y="98.64" width="8.64" height="7.20" style="stroke-width: 0.75; fill: #61D04F;"></rect>
<text x="657.23" y="77.81" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="27.13px" lengthadjust="spacingAndGlyphs">OOB</text>
<text x="657.23" y="92.21" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="7.64px" lengthadjust="spacingAndGlyphs">0</text>
<text x="657.23" y="106.61" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="7.64px" lengthadjust="spacingAndGlyphs">1</text>
</g>
</svg>

<p>Tripathi: The black line shows the overall error rate which falls below 20%. The red and green lines show the error rate for ‘died’ and ‘survived’, respectively. We can see that right now we’re much more successful predicting death than we are survival.</p>
<section id="variable-importance" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="variable-importance"><span class="header-section-number">7.1</span> Variable Importance</h2>
<p>Get importance:</p>
<pre><code># Original code:
importance    &lt;- importance(titanic_model)
varImportance &lt;- data.frame(Variables = row.names(importance),
                            Importance = round(importance[ ,'MeanDecreaseGini'],2))</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb154"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>(importance titanic-model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb155"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>         MeanDecreaseGini</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>Pclass          <span class="fl">29.479780</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>Sex             <span class="fl">61.243379</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>Age             <span class="fl">46.395186</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>SibSp           <span class="fl">11.921763</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>Parch            <span class="fl">7.785026</span></span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>Fare            <span class="fl">59.766976</span></span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>Embarked         <span class="fl">9.710976</span></span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>title           <span class="fl">65.424749</span></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a>fsizeD          <span class="fl">17.363445</span></span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>Child            <span class="fl">4.306876</span></span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a>Mother           <span class="fl">2.240933</span></span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb156"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> importance-info</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  (importance titanic-model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb157"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> var-importance</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  (data-frame <span class="at">:Variables</span> (row-names importance-info)</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">:Importance</span> (<span class="kw">-&gt;</span> importance-info</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>                              (bra <span class="va">nil</span> <span class="st">"MeanDecreaseGini"</span>)</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>                              round)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb158"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>importance-info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb159"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>         MeanDecreaseGini</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>Pclass          <span class="fl">29.479780</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>Sex             <span class="fl">61.243379</span></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>Age             <span class="fl">46.395186</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>SibSp           <span class="fl">11.921763</span></span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>Parch            <span class="fl">7.785026</span></span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>Fare            <span class="fl">59.766976</span></span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>Embarked         <span class="fl">9.710976</span></span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a>title           <span class="fl">65.424749</span></span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>fsizeD          <span class="fl">17.363445</span></span>
<span id="cb159-11"><a href="#cb159-11" aria-hidden="true" tabindex="-1"></a>Child            <span class="fl">4.306876</span></span>
<span id="cb159-12"><a href="#cb159-12" aria-hidden="true" tabindex="-1"></a>Mother           <span class="fl">2.240933</span></span>
<span id="cb159-13"><a href="#cb159-13" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb160"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>var-importance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb161"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>         Variables Importance</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>Pclass      Pclass         <span class="dv">29</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>Sex            Sex         <span class="dv">61</span></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>Age            Age         <span class="dv">46</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>SibSp        SibSp         <span class="dv">12</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>Parch        Parch          <span class="dv">8</span></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>Fare          Fare         <span class="dv">60</span></span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a>Embarked  Embarked         <span class="dv">10</span></span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a>title        title         <span class="dv">65</span></span>
<span id="cb161-10"><a href="#cb161-10" aria-hidden="true" tabindex="-1"></a>fsizeD      fsizeD         <span class="dv">17</span></span>
<span id="cb161-11"><a href="#cb161-11" aria-hidden="true" tabindex="-1"></a>Child        Child          <span class="dv">4</span></span>
<span id="cb161-12"><a href="#cb161-12" aria-hidden="true" tabindex="-1"></a>Mother      Mother          <span class="dv">2</span></span>
<span id="cb161-13"><a href="#cb161-13" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variable-importance-1" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="variable-importance-1"><span class="header-section-number">7.2</span> Variable importance</h2>
<p>Create a rank variable based on importance:</p>
<pre><code># Original code:
rankImportance &lt;- varImportance %&gt;%
   mutate(Rank = paste0('#',dense_rank(desc(Importance))))</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb163"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> rank-importance</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">-&gt;</span> var-importance</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>      (mutate <span class="at">:Rank</span> '(paste0 <span class="st">"#"</span> (dense_rank (desc Importance))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb164"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>rank-importance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb165"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>         Variables Importance Rank</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>Pclass      Pclass         <span class="dv">29</span>   #<span class="dv">5</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>Sex            Sex         <span class="dv">61</span>   #<span class="dv">2</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>Age            Age         <span class="dv">46</span>   #<span class="dv">4</span></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>SibSp        SibSp         <span class="dv">12</span>   #<span class="dv">7</span></span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a>Parch        Parch          <span class="dv">8</span>   #<span class="dv">9</span></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a>Fare          Fare         <span class="dv">60</span>   #<span class="dv">3</span></span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a>Embarked  Embarked         <span class="dv">10</span>   #<span class="dv">8</span></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a>title        title         <span class="dv">65</span>   #<span class="dv">1</span></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a>fsizeD      fsizeD         <span class="dv">17</span>   #<span class="dv">6</span></span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a>Child        Child          <span class="dv">4</span>  #<span class="dv">10</span></span>
<span id="cb165-12"><a href="#cb165-12" aria-hidden="true" tabindex="-1"></a>Mother      Mother          <span class="dv">2</span>  #<span class="dv">11</span></span>
<span id="cb165-13"><a href="#cb165-13" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Use ggplot2 to visualize the relative importance of variables</p>
<pre><code># Original code:
ggplot(rankImportance, aes(x = reorder(Variables, Importance),
                           y = Importance, fill = Importance)) +
  geom_bar(stat='identity') +
  geom_text(aes(x = Variables, y = 0.5, label = Rank),
            hjust=0, vjust=0.55, size = 4, colour = 'red') +
  labs(x = 'Variables') +
  coord_flip() +
  theme_few()</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb167"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> rank-importance</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>    (ggplot (aes <span class="at">:x</span> '(reorder Variables Importance)</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">:y</span> <span class="at">'Importance</span></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">:fill</span> <span class="at">'Importance</span>))</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>    (r+ (geom_bar <span class="at">:stat</span> <span class="st">"Identity"</span>)</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>        (geom_text (aes <span class="at">:x</span> <span class="at">'Variables</span></span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:y</span> <span class="fl">0.5</span></span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:label</span> <span class="at">'Rank</span>)</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:hjust</span> <span class="dv">0</span></span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:vjust</span> <span class="fl">0.55</span></span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:size</span> <span class="dv">4</span></span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">:colour</span> <span class="st">"red"</span>)</span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>        (labs <span class="at">:x</span> <span class="st">"Variables"</span>)</span>
<span id="cb167-14"><a href="#cb167-14" aria-hidden="true" tabindex="-1"></a>        (coord_flip)</span>
<span id="cb167-15"><a href="#cb167-15" aria-hidden="true" tabindex="-1"></a>        (theme_few))</span>
<span id="cb167-16"><a href="#cb167-16" aria-hidden="true" tabindex="-1"></a>    plot-&gt;svg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--?xml version='1.0' encoding='UTF-8' ?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" class="svglite" width="720.00pt" height="576.00pt" viewbox="0 0 720.00 576.00">
<defs>
  <style type="text/css">
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
    }
  </style>
</defs>
<rect width="100%" height="100%" style="stroke: none; fill: #FFFFFF;"></rect>
<defs>
  <clippath id="cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=">
    <rect x="0.00" y="0.00" width="720.00" height="576.00"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<rect x="-0.000000000000064" y="0.00" width="720.00" height="576.00" style="stroke-width: 1.16; stroke: #FFFFFF; fill: #FFFFFF;"></rect>
</g>
<defs>
  <clippath id="cpNzQuMTJ8NjIxLjMyfDUuOTh8NTQxLjQy">
    <rect x="74.12" y="5.98" width="547.20" height="535.44"></rect>
  </clippath>
</defs>
<g clip-path="url(#cpNzQuMTJ8NjIxLjMyfDUuOTh8NTQxLjQy)">
<rect x="74.12" y="5.98" width="547.20" height="535.44" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<rect x="98.99" y="204.38" width="221.94" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #2E618B;"></rect>
<rect x="98.99" y="60.96" width="466.84" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #51A8EA;"></rect>
<rect x="98.99" y="156.57" width="352.04" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #4085BD;"></rect>
<rect x="98.99" y="299.99" width="91.84" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #1D3E5D;"></rect>
<rect x="98.99" y="395.61" width="61.22" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #193652;"></rect>
<rect x="98.99" y="108.76" width="459.19" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #50A5E7;"></rect>
<rect x="98.99" y="347.80" width="76.53" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #1B3A57;"></rect>
<rect x="98.99" y="13.15" width="497.45" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #56B1F7;"></rect>
<rect x="98.99" y="252.19" width="130.10" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #22486A;"></rect>
<rect x="98.99" y="443.42" width="30.61" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #152F48;"></rect>
<rect x="98.99" y="491.22" width="15.31" height="43.03" style="stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #132B43;"></rect>
<text x="102.82" y="230.45" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#5</text>
<text x="102.82" y="87.03" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#2</text>
<text x="102.82" y="182.65" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#4</text>
<text x="102.82" y="326.07" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#7</text>
<text x="102.82" y="421.68" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#9</text>
<text x="102.82" y="134.84" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#3</text>
<text x="102.82" y="373.88" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#8</text>
<text x="102.82" y="39.22" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#1</text>
<text x="102.82" y="278.26" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="16.77px" lengthadjust="spacingAndGlyphs">#6</text>
<text x="102.82" y="469.49" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="24.00px" lengthadjust="spacingAndGlyphs">#10</text>
<text x="102.82" y="517.30" style="font-size: 11.38px;fill: #FF0000; font-family: &quot;Liberation Sans&quot;;" textlength="24.00px" lengthadjust="spacingAndGlyphs">#11</text>
<rect x="74.12" y="5.98" width="547.20" height="535.44" style="stroke-width: 1.16; stroke: #4D4D4D;"></rect>
</g>
<g clip-path="url(#cpMC4wMHw3MjAuMDB8MC4wMHw1NzYuMDA=)">
<text x="68.74" y="516.23" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="33.83px" lengthadjust="spacingAndGlyphs">Mother</text>
<text x="68.74" y="468.43" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="24.19px" lengthadjust="spacingAndGlyphs">Child</text>
<text x="68.74" y="420.62" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="26.31px" lengthadjust="spacingAndGlyphs">Parch</text>
<text x="68.74" y="372.81" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="48.53px" lengthadjust="spacingAndGlyphs">Embarked</text>
<text x="68.74" y="325.00" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="27.03px" lengthadjust="spacingAndGlyphs">SibSp</text>
<text x="68.74" y="277.20" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="29.36px" lengthadjust="spacingAndGlyphs">fsizeD</text>
<text x="68.74" y="229.39" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="29.58px" lengthadjust="spacingAndGlyphs">Pclass</text>
<text x="68.74" y="181.58" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="18.55px" lengthadjust="spacingAndGlyphs">Age</text>
<text x="68.74" y="133.77" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="20.15px" lengthadjust="spacingAndGlyphs">Fare</text>
<text x="68.74" y="85.97" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="17.50px" lengthadjust="spacingAndGlyphs">Sex</text>
<text x="68.74" y="38.16" text-anchor="end" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="18.75px" lengthadjust="spacingAndGlyphs">title</text>
<polyline points="71.13,512.74 74.12,512.74 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,464.93 74.12,464.93 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,417.12 74.12,417.12 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,369.31 74.12,369.31 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,321.51 74.12,321.51 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,273.70 74.12,273.70 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,225.89 74.12,225.89 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,178.08 74.12,178.08 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,130.28 74.12,130.28 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,82.47 74.12,82.47 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="71.13,34.66 74.12,34.66 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="98.99,544.41 98.99,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="252.05,544.41 252.05,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="405.12,544.41 405.12,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<polyline points="558.18,544.41 558.18,541.42 " style="stroke-width: 1.16; stroke: #4D4D4D; stroke-linecap: butt;"></polyline>
<text x="98.99" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="6.10px" lengthadjust="spacingAndGlyphs">0</text>
<text x="252.05" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">20</text>
<text x="405.12" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">40</text>
<text x="558.18" y="553.79" text-anchor="middle" style="font-size: 9.60px;fill: #4D4D4D; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">60</text>
<text x="347.72" y="567.52" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="68.80px" lengthadjust="spacingAndGlyphs">Importance</text>
<text transform="translate(14.73,273.70) rotate(-90)" text-anchor="middle" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="54.86px" lengthadjust="spacingAndGlyphs">Variables</text>
<rect x="633.27" y="215.91" width="80.75" height="115.58" style="stroke-width: 1.16; stroke: none; fill: #FFFFFF;"></rect>
<image width="17.28" height="86.40" x="639.25" y="239.11" preserveaspectratio="none" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEsCAYAAAACUNnVAAAAmElEQVQ4ja2UQRLDMAgDd3hk/tnX5agcknFaCoa0vnkMCEnGsL12GQhDYDpPwoDrpBFlRDWi/9Wu6AHC9FkLYLrzlhD3oJ3mDvRHRYy7IC8A7bCK8gpWKYDzeQVArDcDyD2YAnSofZvzaOA6Q7Oahp/dmRuVTQ0xU5TGP2o8Waool1obVuv1q8qP9xPvg633XlGLDtfIhNUBcBeA5ss0BXMAAAAASUVORK5CYII="></image>
<text x="662.51" y="304.26" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">20</text>
<text x="662.51" y="276.92" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">40</text>
<text x="662.51" y="249.59" style="font-size: 9.60px; font-family: &quot;Liberation Sans&quot;;" textlength="12.20px" lengthadjust="spacingAndGlyphs">60</text>
<text x="639.25" y="231.88" style="font-size: 12.00px; font-family: &quot;Liberation Sans&quot;;" textlength="68.80px" lengthadjust="spacingAndGlyphs">Importance</text>
<line x1="639.25" y1="300.76" x2="642.70" y2="300.76" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
<line x1="639.25" y1="273.43" x2="642.70" y2="273.43" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
<line x1="639.25" y1="246.09" x2="642.70" y2="246.09" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
<line x1="653.07" y1="300.76" x2="656.53" y2="300.76" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
<line x1="653.07" y1="273.43" x2="656.53" y2="273.43" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
<line x1="653.07" y1="246.09" x2="656.53" y2="246.09" style="stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;"></line>
</g>
</svg>

<p>Tripathi: From the plot we can see that the ‘title’ variable has the highest relative importance out of all of our predictor variables.</p>
</section>
<section id="final-prediction" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="final-prediction"><span class="header-section-number">7.3</span> Final Prediction</h2>
<p>Predict using the test set:</p>
<pre><code># Original code:
prediction &lt;- predict(titanic_model, test)
prediction</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb169"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> prediction</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>  (predict titanic-model <span class="kw">test</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tripathi: Save the solution to a dataframe with two columns: PassengerId and Survived (prediction).</p>
<pre><code># Original code:
Output&lt;- data.frame(PassengerID = test$PassengerId, Survived = prediction)
Output</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb171"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> output </span>(data-frame <span class="at">:PassengerId</span> ($ <span class="kw">test</span> <span class="at">'PassengerId</span>)</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">:Survived</span> prediction))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb172"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>(r-&gt;clj output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="clay-dataset">
<p>_unnamed [418 3]:</p>
<table class="table">
<thead>
<tr class="header">
<th>:$row.names</th>
<th style="text-align: right;">:PassengerId</th>
<th>:Survived</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>892</td>
<td style="text-align: right;">892</td>
<td>:0</td>
</tr>
<tr class="even">
<td>893</td>
<td style="text-align: right;">893</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>894</td>
<td style="text-align: right;">894</td>
<td>:0</td>
</tr>
<tr class="even">
<td>895</td>
<td style="text-align: right;">895</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>896</td>
<td style="text-align: right;">896</td>
<td>:0</td>
</tr>
<tr class="even">
<td>897</td>
<td style="text-align: right;">897</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>898</td>
<td style="text-align: right;">898</td>
<td>:1</td>
</tr>
<tr class="even">
<td>899</td>
<td style="text-align: right;">899</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>900</td>
<td style="text-align: right;">900</td>
<td>:1</td>
</tr>
<tr class="even">
<td>901</td>
<td style="text-align: right;">901</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>…</td>
<td style="text-align: right;">…</td>
<td>…</td>
</tr>
<tr class="even">
<td>1299</td>
<td style="text-align: right;">1299</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>1300</td>
<td style="text-align: right;">1300</td>
<td>:1</td>
</tr>
<tr class="even">
<td>1301</td>
<td style="text-align: right;">1301</td>
<td>:1</td>
</tr>
<tr class="odd">
<td>1302</td>
<td style="text-align: right;">1302</td>
<td>:1</td>
</tr>
<tr class="even">
<td>1303</td>
<td style="text-align: right;">1303</td>
<td>:1</td>
</tr>
<tr class="odd">
<td>1304</td>
<td style="text-align: right;">1304</td>
<td>:0</td>
</tr>
<tr class="even">
<td>1305</td>
<td style="text-align: right;">1305</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>1306</td>
<td style="text-align: right;">1306</td>
<td>:1</td>
</tr>
<tr class="even">
<td>1307</td>
<td style="text-align: right;">1307</td>
<td>:0</td>
</tr>
<tr class="odd">
<td>1308</td>
<td style="text-align: right;">1308</td>
<td>:0</td>
</tr>
<tr class="even">
<td>1309</td>
<td style="text-align: right;">1309</td>
<td>:1</td>
</tr>
</tbody>
</table>
</div>
<p>Write the Output to file:</p>
<pre><code># Original code:
write.csv(Output, file = 'pradeep_titanic_output.csv', row.names = F)</code></pre>
<div class="sourceClojure">
<div class="sourceCode" id="cb174"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>(write-csv output</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">:file</span> <span class="st">"/tmp/pradeep_titanic_output.csv"</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">:row.names</span> <span class="at">'F</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb175"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>NULL</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conclusion" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">7.4</span> Conclusion</h2>
<p>Tripathi: Thank you for taking the time to read through my first exploration of a Titanic Kaggle dataset. Again, this newbie welcomes comments and suggestions!</p>
<div style="background-color:grey;height:2px;width:100%;"></div>
<div><pre><small><small>source: <a href="https://github.com/scicloj/clojisr/blob/master/notebooks/clojisr/v1/tutorials/titanic0.clj">notebooks/clojisr/v1/tutorials/titanic0.clj</a></small></small></pre></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./clojisr.v1.tutorials.dataset.html" class="pagination-link" aria-label="Dataset transfer from R to Clojure">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dataset transfer from R to Clojure</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>