<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css"></head><body><div><h1>clojisr.v1.tutorial-test</h1><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Fri Sep 04 15:40:57 IDT 2020.</small></i><hr></div><div>Checks: <b class="PASSED">60 PASSED </b><hr></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#ROBjects">ROBjects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li><li><a href="#R-function-arglists">R-function-arglists</a></li></ul><hr></div><div class="nspbox"><div><h1>Clojisr tutorial</h1></div></div><div class="nspbox"><a id="basic-examples"> </a><div><h2>Basic examples</h2></div></div><div class="nspbox"><div><p>Let us start by some basic usage examples of Clojisr.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r&nbsp;java->clj&nbsp;java->native-clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+&nbsp;colon&nbsp;require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset])</code></div></div><div class="nspbox"><div><p>First, let us make sure that we use the Rserve backend (in case we were using another engine instead earlier), and that there are no R sessions currently running. This is typically not needed if you just started working. Here, we do it just in case.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r/set-default-session-type!&nbsp;:rserve)&nbsp;(r/discard-all-sessions)</code></div></div><div class="nspbox"><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div><p>The thing we created is something called an ROBject.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(class&nbsp;x)</code></div><div class="nspout"><code class="prettyprint lang-clj">clojisr.v1.robject.RObject</code></div></div><div class="nspbox"><div><p>If we wish, we can convert an ROBject to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><div><p>Let us see more examples of creating ROBjects and converting them to Clojure: </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</code></div></div><div class="nspbox"><div><p>In the other direction, we can convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</code></div></div><div class="nspbox"><div><p>We can run code on a separate R session (specify session-args which are different than the default ones).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:session-name&nbsp;"mysession"})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="functions"> </a><div><h2>Functions</h2></div></div><div class="nspbox"><div><p>An R function is also a Clojure function.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</code></div></div><div class="nspbox"><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</code></div></div><div class="nspbox"><div><p>We can also apply it to R data.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</code></div></div><div class="nspbox"><div><p>Another example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[f&nbsp;(r&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[[33.0]&nbsp;[123.0]&nbsp;[113.0]])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</code></div></div><div class="nspbox"><div><p>Some functions are already created in Clojisr and given special names for convenience. Here are some examples:</p></div></div><div class="nspbox"><div><p>R addition:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[6]]</code></div></div><div class="nspbox"><div><p>R colon (<code>:</code>), for creating a range of integers, like <code>0:9</code>:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><a id="R-dataframes-and-tech.ml.dataset"> </a><div><h2>R dataframes and tech.ml.dataset datasets</h2></div></div><div class="nspbox"><div><p>At Clojure, we have a structure that is equivalent to R dataframes: a <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> dataset.</p><p>Let us create such a dataset, pass it to an R function to compute the row means, and then convert the return value back to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div><p>Let us see some more dataset proccessing through R.</p></div></div><div class="nspbox"><div><p>Loading the R package <a href='https://dplyr.tidyverse.org/'>dplyr</a> (assuming it is installed).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</code></div></div><div class="nspbox"><div><p>Using dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2,&nbsp;:y&nbsp;5,&nbsp;:z&nbsp;7}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6,&nbsp;:z&nbsp;9}]))))))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;:x&nbsp;|&nbsp;:y&nbsp;|&nbsp;:z&nbsp;|</br>|----|----|----|</br>|&nbsp;&nbsp;2&nbsp;|&nbsp;&nbsp;5&nbsp;|&nbsp;&nbsp;7&nbsp;|</br>|&nbsp;&nbsp;3&nbsp;|&nbsp;&nbsp;6&nbsp;|&nbsp;&nbsp;9&nbsp;|</br>]</code></div></div><div class="nspbox"><div><p><a href='https://tibble.tidyverse.org'>Tibbles</a>, which are a more recent R dataframe notion, are also supported, as a special case of data frames.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</code></div><div class="nspout"><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;x&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<int>&nbsp;<int></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[{:x&nbsp;1,&nbsp;:y&nbsp;4}&nbsp;{:x&nbsp;2,&nbsp;:y&nbsp;5}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6}])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[{:x&nbsp;1,&nbsp;:y&nbsp;4}&nbsp;{:x&nbsp;2,&nbsp;:y&nbsp;5}&nbsp;{:x&nbsp;3,&nbsp;:y&nbsp;6}]]</code></div></div><div class="nspbox"><a id="ROBjects"> </a><div><h2>R objects</h2></div></div><div class="nspbox"><div><p>Clojisr holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;clojisr.v1.robject.RObject))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;clojisr.v1.robject.RObject]</code></div></div><div class="nspbox"><div><p>The name of an object is the place where it is held at R (inside an R <a href='http://adv-r.had.co.nz/Environments.html'>evnironment</a> called <code>.MEM</code>).</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$x1ba6532275b346e8"</code></div></div><div class="nspbox"><a id="generating-code"> </a><div><h2>Generating code</h2></div></div><div class="nspbox"><div><p>Let us see the mechanism by which clojisr generates R code, and the rules defining it.</p></div></div><div class="nspbox"><div><p>Since we are playing a bit with the internals here, we will need a reference to the R session:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;session&nbsp;(session/fetch-or-make&nbsp;nil))</code></div></div><div class="nspbox"><div><p>For the following examples, we will use some <strong>dummy</strong> handles to R objects with given names:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(robject/->RObject&nbsp;"robject_x"&nbsp;session&nbsp;nil&nbsp;nil))</br>&nbsp;(def&nbsp;y&nbsp;(robject/->RObject&nbsp;"robject_y"&nbsp;session&nbsp;nil&nbsp;nil))</code></div></div><div class="nspbox"><div><p>.. and some <strong>real</strong> handles to R objects:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))&nbsp;(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</code></div></div><div class="nspbox"><div><p>The function <code>-&gt;code</code> generates R code according to a certain set of rules. Here we describe some of these rules briefly. We also wrote a dedicated tutorial about the rule set more thoroughly.</p></div></div><div class="nspbox"><div><p>For an ROBject, the generated code is just the ROBject name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"robject_x"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"robject_x"]</code></div></div><div class="nspbox"><div><p>For a clojure value, we use some form analysis and generate proper R string or values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\"hello\"$"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"\"hello\""]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(1L,2L,3L)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(1L,2L,3L)"]</code></div></div><div class="nspbox"><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'x)</code></div><div class="nspout"><code class="prettyprint lang-clj">"x"</code></div></div><div class="nspbox"><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,y)&nbsp;{x}"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,y)&nbsp;{x}"]</code></div></div><div class="nspbox"><div><p>For a vector instead of list, we create R vector.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"c(function,c(x,y),x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"c(function,c(x,y),x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with the symbol <code>'formula</code>, we generate an R <code>&#126;</code>-formula.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(formula&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x~y)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x~y)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with a symbol known to be a binary operator, we generate nested calls.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"((x+y)+z)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"((x+y)+z)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</code></div></div><div class="nspbox"><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function. If you create the list using the quote sign (<code>'</code>), don't forget to unquote symbols refering to things you defined on the Clojure side.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(x\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$xb2b60a87131c4a26(x)"]</code></div></div><div class="nspbox"><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly R data representation.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;`(~abs&nbsp;(1&nbsp;2&nbsp;3))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(c\(1L,2L,3L\)\)"))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$xb2b60a87131c4a26(c(1L,2L,3L))"]</code></div></div><div class="nspbox"><div><p>Some more examples, showing how these rules compose:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;~y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{f(robject_y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;(list&nbsp;'function&nbsp;'[x&nbsp;y]&nbsp;(list&nbsp;'+&nbsp;'x&nbsp;'y)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{(x+y)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{print(x);f(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(~abs&nbsp;x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">"function(x,y)&nbsp;{.MEM$xb2b60a87131c4a26(x)}"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;~minus-eleven))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$xb2b60a87131c4a26(.MEM$x2e69645fa3f24ed8)"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->code&nbsp;'(~abs&nbsp;-11))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$xb2b60a87131c4a26(-11L)"</code></div></div><div class="nspbox"><div><p>Use syntax quote ` in case you want to use local bindings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[minus-ten&nbsp;-10]&nbsp;(->code&nbsp;`(~abs&nbsp;~minus-ten)))</code></div><div class="nspout"><code class="prettyprint lang-clj">".MEM$xb2b60a87131c4a26(-10L)"</code></div></div><div class="nspbox"><a id="running-generated-code"> </a><div><h2>Running generated code</h2></div></div><div class="nspbox"><div><p>Clojure forms can be run as R code. Behind the scences, they are turned to R code using the <code>-&gt;code</code> function described above. For example:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</code></div></div><div class="nspbox"><div><p>Or, equivalently:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'(~abs&nbsp;~(range&nbsp;-3&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</code></div></div><div class="nspbox"><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[50]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(rowMeans&nbsp;data)))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(filter&nbsp;data&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(mutate&nbsp;data&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</code></div><div class="nspout"><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;:x&nbsp;|&nbsp;:y&nbsp;|&nbsp;:z&nbsp;|</br>|----|----|----|</br>|&nbsp;&nbsp;2&nbsp;|&nbsp;&nbsp;5&nbsp;|&nbsp;&nbsp;7&nbsp;|</br>|&nbsp;&nbsp;3&nbsp;|&nbsp;&nbsp;6&nbsp;|&nbsp;&nbsp;9&nbsp;|</code></div></div><div class="nspbox"><a id="requiring-R-packages"> </a><div><h2>Requiring R packages</h2></div></div><div class="nspbox"><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer&nbsp;[median]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz&nbsp;:refer&nbsp;[euro]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1])))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><a id="data-visualization"> </a><div><h2>Data visualization</h2></div></div><div class="nspbox"><div><p>Functions creating R plots or any plotting objects generated by various R libraries can be wrapped in a way that returns an SVG, BufferedImage or can be saved to a file. All of them accept additional parameters specified in <code>grDevices</code> R package.</p></div></div><div class="nspbox"><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer&nbsp;[plot&nbsp;hist]])</br>&nbsp;(require-r&nbsp;'[ggplot2&nbsp;:refer&nbsp;[ggplot&nbsp;aes&nbsp;geom_point&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br>&nbsp;(require&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plot->svg&nbsp;plot->file&nbsp;plot->buffered-image]])</code></div></div><div class="nspbox"><div><p>First example, simple plotting function as SVG string.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"&nbsp;:ylab&nbsp;"y"&nbsp;:type&nbsp;"l"))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 6.078125 -4.09375 C 6.078125 -7.046875 5.140625 -8.515625 3.296875 -8.515625 C 1.46875 -8.515625 0.515625 -7.015625 0.515625 -4.15625 C 0.515625 -1.296875 1.46875 0.1875 3.296875 0.1875 C 5.09375 0.1875 6.078125 -1.296875 6.078125 -4.09375 Z M 5 -4.1875 C 5 -1.78125 4.453125 -0.703125 3.28125 -0.703125 C 2.15625 -0.703125 1.59375 -1.828125 1.59375 -4.15625 C 1.59375 -6.484375 2.15625 -7.578125 3.296875 -7.578125 C 4.4375 -7.578125 5 -6.46875 5 -4.1875 Z M 5 -4.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 6.15625 -2.8125 C 6.15625 -4.5 5.046875 -5.609375 3.40625 -5.609375 C 2.8125 -5.609375 2.328125 -5.453125 1.84375 -5.09375 L 2.171875 -7.28125 L 5.71875 -7.28125 L 5.71875 -8.328125 L 1.3125 -8.328125 L 0.6875 -3.875 L 1.65625 -3.875 C 2.140625 -4.46875 2.5625 -4.671875 3.21875 -4.671875 C 4.359375 -4.671875 5.078125 -3.9375 5.078125 -2.671875 C 5.078125 -1.453125 4.375 -0.75 3.21875 -0.75 C 2.296875 -0.75 1.734375 -1.21875 1.46875 -2.1875 L 0.421875 -2.1875 C 0.765625 -0.484375 1.734375 0.1875 3.234375 0.1875 C 4.953125 0.1875 6.15625 -1.015625 6.15625 -2.8125 Z M 6.15625 -2.8125 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.15625 0 L 4.15625 -8.515625 L 3.46875 -8.515625 C 3.09375 -7.203125 2.859375 -7.015625 1.21875 -6.8125 L 1.21875 -6.0625 L 3.109375 -6.0625 L 3.109375 0 Z M 4.15625 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.125 -6.015625 C 6.125 -7.453125 5.015625 -8.515625 3.40625 -8.515625 C 1.671875 -8.515625 0.65625 -7.625 0.59375 -5.5625 L 1.65625 -5.5625 C 1.734375 -6.984375 2.328125 -7.578125 3.375 -7.578125 C 4.328125 -7.578125 5.046875 -6.90625 5.046875 -5.984375 C 5.046875 -5.3125 4.65625 -4.734375 3.90625 -4.3125 L 2.796875 -3.6875 C 1.015625 -2.671875 0.5 -1.875 0.40625 0 L 6.078125 0 L 6.078125 -1.046875 L 1.59375 -1.046875 C 1.703125 -1.734375 2.09375 -2.1875 3.125 -2.796875 L 4.328125 -3.4375 C 5.515625 -4.078125 6.125 -4.96875 6.125 -6.015625 Z M 6.125 -6.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 6.078125 -2.46875 C 6.078125 -3.5 5.65625 -4.109375 4.625 -4.453125 C 5.421875 -4.765625 5.8125 -5.3125 5.8125 -6.171875 C 5.8125 -7.625 4.84375 -8.515625 3.234375 -8.515625 C 1.515625 -8.515625 0.59375 -7.578125 0.5625 -5.765625 L 1.625 -5.765625 C 1.640625 -7.015625 2.15625 -7.578125 3.234375 -7.578125 C 4.171875 -7.578125 4.734375 -7.03125 4.734375 -6.125 C 4.734375 -5.21875 4.34375 -4.84375 2.65625 -4.84375 L 2.65625 -3.953125 L 3.234375 -3.953125 C 4.390625 -3.953125 4.984375 -3.40625 4.984375 -2.453125 C 4.984375 -1.390625 4.328125 -0.75 3.234375 -0.75 C 2.078125 -0.75 1.515625 -1.328125 1.4375 -2.5625 L 0.390625 -2.5625 C 0.515625 -0.671875 1.453125 0.1875 3.1875 0.1875 C 4.9375 0.1875 6.078125 -0.859375 6.078125 -2.46875 Z M 6.078125 -2.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.046875 0 L 3.046875 -0.84375 C 2.921875 -0.796875 2.765625 -0.796875 2.5625 -0.796875 C 2.140625 -0.796875 2.015625 -0.90625 2.015625 -1.359375 L 2.015625 -5.46875 L 3.046875 -5.46875 L 3.046875 -6.28125 L 2.015625 -6.28125 L 2.015625 -8.015625 L 1.015625 -8.015625 L 1.015625 -6.28125 L 0.171875 -6.28125 L 0.171875 -5.46875 L 1.015625 -5.46875 L 1.015625 -0.90625 C 1.015625 -0.28125 1.453125 0.078125 2.234375 0.078125 C 2.46875 0.078125 2.71875 0.0625 3.046875 0 Z M 3.046875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -6.015625 -6.125 C -7.453125 -6.125 -8.515625 -5.015625 -8.515625 -3.40625 C -8.515625 -1.671875 -7.625 -0.65625 -5.5625 -0.59375 L -5.5625 -1.65625 C -6.984375 -1.734375 -7.578125 -2.328125 -7.578125 -3.375 C -7.578125 -4.328125 -6.90625 -5.046875 -5.984375 -5.046875 C -5.3125 -5.046875 -4.734375 -4.65625 -4.3125 -3.90625 L -3.6875 -2.796875 C -2.671875 -1.015625 -1.875 -0.5 0 -0.40625 L 0 -6.078125 L -1.046875 -6.078125 L -1.046875 -1.59375 C -1.734375 -1.703125 -2.1875 -2.09375 -2.796875 -3.125 L -3.4375 -4.328125 C -4.078125 -5.515625 -4.96875 -6.125 -6.015625 -6.125 Z M -6.015625 -6.125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -2.046875 -6.234375 L -2.984375 -6.234375 L -2.984375 -4.984375 L -8.515625 -4.984375 L -8.515625 -4.203125 L -3.15625 -0.34375 L -2.046875 -0.34375 L -2.046875 -3.921875 L 0 -3.921875 L 0 -4.984375 L -2.046875 -4.984375 Z M -2.984375 -3.921875 L -2.984375 -1.265625 L -6.703125 -3.921875 Z M -2.984375 -3.921875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M -2.640625 -6.15625 C -4.21875 -6.15625 -5.296875 -5.078125 -5.296875 -3.546875 C -5.296875 -2.71875 -4.96875 -2.046875 -4.34375 -1.59375 C -6.421875 -1.609375 -7.578125 -2.28125 -7.578125 -3.484375 C -7.578125 -4.234375 -7.109375 -4.75 -6.28125 -4.921875 L -6.28125 -5.96875 C -7.6875 -5.765625 -8.515625 -4.859375 -8.515625 -3.5625 C -8.515625 -1.578125 -6.84375 -0.515625 -3.875 -0.515625 C -1.21875 -0.515625 0.1875 -1.421875 0.1875 -3.375 C 0.1875 -4.984375 -0.96875 -6.15625 -2.640625 -6.15625 Z M -2.5625 -5.078125 C -1.484375 -5.078125 -0.75 -4.359375 -0.75 -3.390625 C -0.75 -2.40625 -1.53125 -1.65625 -2.609375 -1.65625 C -3.671875 -1.65625 -4.359375 -2.375 -4.359375 -3.421875 C -4.359375 -4.4375 -3.703125 -5.078125 -2.5625 -5.078125 Z M -2.5625 -5.078125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M -2.40625 -6.15625 C -3.34375 -6.15625 -4.015625 -5.671875 -4.46875 -4.6875 C -5 -5.5625 -5.4375 -5.859375 -6.234375 -5.859375 C -7.578125 -5.859375 -8.515625 -4.8125 -8.515625 -3.296875 C -8.515625 -1.796875 -7.578125 -0.75 -6.234375 -0.75 C -5.453125 -0.75 -5.015625 -1.03125 -4.46875 -1.890625 C -4.015625 -0.921875 -3.34375 -0.4375 -2.40625 -0.4375 C -0.859375 -0.4375 0.1875 -1.625 0.1875 -3.296875 C 0.1875 -4.984375 -0.859375 -6.15625 -2.40625 -6.15625 Z M -6.21875 -4.78125 C -5.421875 -4.78125 -4.890625 -4.1875 -4.890625 -3.296875 C -4.890625 -2.40625 -5.421875 -1.828125 -6.234375 -1.828125 C -7.046875 -1.828125 -7.578125 -2.40625 -7.578125 -3.296875 C -7.578125 -4.203125 -7.046875 -4.78125 -6.21875 -4.78125 Z M -2.390625 -5.078125 C -1.375 -5.078125 -0.75 -4.359375 -0.75 -3.28125 C -0.75 -2.25 -1.390625 -1.53125 -2.390625 -1.53125 C -3.390625 -1.53125 -4.015625 -2.25 -4.015625 -3.296875 C -4.015625 -4.359375 -3.390625 -5.078125 -2.390625 -5.078125 Z M -2.390625 -5.078125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 0 -4.15625 L -8.515625 -4.15625 L -8.515625 -3.46875 C -7.203125 -3.09375 -7.015625 -2.859375 -6.8125 -1.21875 L -6.0625 -1.21875 L -6.0625 -3.109375 L 0 -3.109375 Z M 0 -4.15625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M -4.09375 -6.078125 C -7.046875 -6.078125 -8.515625 -5.140625 -8.515625 -3.296875 C -8.515625 -1.46875 -7.015625 -0.515625 -4.15625 -0.515625 C -1.296875 -0.515625 0.1875 -1.46875 0.1875 -3.296875 C 0.1875 -5.09375 -1.296875 -6.078125 -4.09375 -6.078125 Z M -4.1875 -5 C -1.78125 -5 -0.703125 -4.453125 -0.703125 -3.28125 C -0.703125 -2.15625 -1.828125 -1.59375 -4.15625 -1.59375 C -6.484375 -1.59375 -7.578125 -2.15625 -7.578125 -3.296875 C -7.578125 -4.4375 -6.46875 -5 -4.1875 -5 Z M -4.1875 -5 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M -6.28125 -5.734375 L -6.28125 -4.65625 L -1.390625 -2.921875 L -6.28125 -1.3125 L -6.28125 -0.234375 L 0.03125 -2.359375 L 1.015625 -1.984375 C 1.46875 -1.8125 1.625 -1.609375 1.625 -1.171875 C 1.625 -1.03125 1.609375 -0.859375 1.5625 -0.640625 L 2.453125 -0.640625 C 2.5625 -0.859375 2.609375 -1.0625 2.609375 -1.3125 C 2.609375 -2.03125 2.21875 -2.609375 1.3125 -2.9375 Z M -6.28125 -5.734375 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 390.902344 L 100.882812 365.933594 L 114.125 352.46875 L 127.367188 342.859375 L 140.605469 332.4375 L 153.847656 316.40625 L 167.089844 309.828125 L 180.332031 303.921875 L 193.574219 284.007812 L 206.8125 269.929688 L 220.054688 254.769531 L 233.296875 250.210938 L 246.539062 244.839844 L 259.78125 219.195312 L 273.019531 214.652344 L 286.261719 208.707031 L 299.503906 200.847656 L 312.746094 184.351562 L 325.984375 167.660156 L 339.226562 152.695312 L 352.46875 147.480469 L 365.710938 147.191406 L 378.953125 123.953125 L 392.191406 113.761719 L 405.433594 111.148438 L 418.675781 106.699219 L 431.917969 101.789062 L 445.160156 76.773438 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="193.246094" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.256836"/>
  <use xlink:href="#glyph0-2" x="259.453125" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="325.65625" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.256836"/>
  <use xlink:href="#glyph0-2" x="391.863281" y="456.256836"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.256836"/>
  <use xlink:href="#glyph0-1" x="458.070312" y="456.256836"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 384.070312 L 59.039062 73.019531 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 384.070312 L 51.839844 384.070312 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 332.226562 L 51.839844 332.226562 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 280.386719 L 51.839844 280.386719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 228.542969 L 51.839844 228.542969 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 176.703125 L 51.839844 176.703125 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 124.859375 L 51.839844 124.859375 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 73.019531 L 51.839844 73.019531 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.538086" y="387.570312"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.538086" y="335.726562"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.538086" y="283.886719"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="41.538086" y="232.042969"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.538086" y="183.703125"/>
  <use xlink:href="#glyph1-6" x="41.538086" y="177.03125"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.538086" y="131.859375"/>
  <use xlink:href="#glyph1-1" x="41.538086" y="125.1875"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.538086" y="80.019531"/>
  <use xlink:href="#glyph1-2" x="41.538086" y="73.347656"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 L 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.398438" y="485.057617"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-7" x="12.737305" y="247.800781"/>
</g>
</g>
</svg>
</div><div class="nspbox"><div><p>ggplot2 plots (or any other plot objects like lattice) can be also turned into SVG.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->svg</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+&nbsp;x&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x&nbsp;:y&nbsp;y&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)&nbsp;(xlab&nbsp;"x")&nbsp;(ylab&nbsp;"y")))))</code></div><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 4.453125 -3 C 4.453125 -5.15625 3.78125 -6.234375 2.421875 -6.234375 C 1.078125 -6.234375 0.375 -5.140625 0.375 -3.046875 C 0.375 -0.953125 1.078125 0.125 2.421875 0.125 C 3.734375 0.125 4.453125 -0.953125 4.453125 -3 Z M 3.671875 -3.0625 C 3.671875 -1.296875 3.265625 -0.515625 2.40625 -0.515625 C 1.578125 -0.515625 1.171875 -1.34375 1.171875 -3.046875 C 1.171875 -4.75 1.578125 -5.546875 2.421875 -5.546875 C 3.25 -5.546875 3.671875 -4.734375 3.671875 -3.0625 Z M 3.671875 -3.0625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 1.6875 0 L 1.6875 -0.921875 L 0.765625 -0.921875 L 0.765625 0 Z M 1.6875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.515625 -2.0625 C 4.515625 -3.296875 3.6875 -4.109375 2.5 -4.109375 C 2.0625 -4.109375 1.703125 -4 1.34375 -3.734375 L 1.59375 -5.34375 L 4.1875 -5.34375 L 4.1875 -6.109375 L 0.96875 -6.109375 L 0.5 -2.84375 L 1.21875 -2.84375 C 1.578125 -3.265625 1.875 -3.421875 2.359375 -3.421875 C 3.1875 -3.421875 3.71875 -2.890625 3.71875 -1.96875 C 3.71875 -1.0625 3.203125 -0.546875 2.359375 -0.546875 C 1.6875 -0.546875 1.265625 -0.890625 1.078125 -1.59375 L 0.3125 -1.59375 C 0.5625 -0.359375 1.265625 0.125 2.375 0.125 C 3.640625 0.125 4.515625 -0.75 4.515625 -2.0625 Z M 4.515625 -2.0625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 3.046875 0 L 3.046875 -6.234375 L 2.546875 -6.234375 C 2.265625 -5.28125 2.09375 -5.140625 0.890625 -5 L 0.890625 -4.4375 L 2.28125 -4.4375 L 2.28125 0 Z M 3.046875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 4.5 -4.40625 C 4.5 -5.46875 3.671875 -6.234375 2.5 -6.234375 C 1.21875 -6.234375 0.484375 -5.59375 0.4375 -4.078125 L 1.21875 -4.078125 C 1.28125 -5.125 1.703125 -5.5625 2.46875 -5.5625 C 3.171875 -5.5625 3.703125 -5.0625 3.703125 -4.390625 C 3.703125 -3.890625 3.40625 -3.46875 2.859375 -3.15625 L 2.046875 -2.703125 C 0.75 -1.96875 0.375 -1.375 0.296875 0 L 4.453125 0 L 4.453125 -0.765625 L 1.171875 -0.765625 C 1.25 -1.28125 1.53125 -1.59375 2.296875 -2.046875 L 3.171875 -2.53125 C 4.046875 -2.984375 4.5 -3.640625 4.5 -4.40625 Z M 4.5 -4.40625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 4.578125 -5.453125 L 4.578125 -6.109375 L 0.40625 -6.109375 L 0.40625 -5.34375 L 3.78125 -5.34375 C 2.53125 -3.78125 1.65625 -1.953125 1.21875 0 L 2.046875 0 C 2.390625 -2.015625 3.265625 -3.890625 4.578125 -5.453125 Z M 4.578125 -5.453125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 5.203125 0 L 3.21875 -2.984375 L 5.140625 -5.765625 L 4.109375 -5.765625 L 2.734375 -3.671875 L 1.34375 -5.765625 L 0.296875 -5.765625 L 2.21875 -2.9375 L 0.1875 0 L 1.234375 0 L 2.6875 -2.21875 L 4.140625 0 Z M 5.203125 0 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M 3.203125 2.328125 C 2.234375 0.765625 1.6875 -1.09375 1.6875 -2.84375 C 1.6875 -4.59375 2.234375 -6.453125 3.203125 -8.015625 L 2.59375 -8.015625 C 1.5 -6.578125 0.796875 -4.578125 0.796875 -2.84375 C 0.796875 -1.109375 1.5 0.890625 2.59375 2.328125 Z M 3.203125 2.328125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 3.125 -8.015625 L 2.515625 -8.015625 L -0.09375 0.21875 L 0.515625 0.21875 Z M 3.125 -8.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M 5.265625 -5.765625 L 4.265625 -5.765625 L 2.671875 -1.28125 L 1.203125 -5.765625 L 0.21875 -5.765625 L 2.171875 0.015625 L 1.8125 0.9375 C 1.65625 1.34375 1.46875 1.5 1.078125 1.5 C 0.953125 1.5 0.796875 1.46875 0.59375 1.4375 L 0.59375 2.25 C 0.78125 2.359375 0.96875 2.390625 1.203125 2.390625 C 1.859375 2.390625 2.390625 2.03125 2.6875 1.203125 Z M 5.265625 -5.765625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M 2.8125 -2.84375 C 2.8125 -4.578125 2.125 -6.578125 1.015625 -8.015625 L 0.421875 -8.015625 C 1.390625 -6.453125 1.921875 -4.59375 1.921875 -2.84375 C 1.921875 -1.09375 1.390625 0.765625 0.421875 2.328125 L 1.015625 2.328125 C 2.125 0.890625 2.8125 -1.109375 2.8125 -2.84375 Z M 2.8125 -2.84375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 5.671875 -2.375 L 5.671875 -3.125 L 3.59375 -3.125 L 3.59375 -5.21875 L 2.84375 -5.21875 L 2.84375 -3.125 L 0.75 -3.125 L 0.75 -2.375 L 2.84375 -2.375 L 2.84375 -0.28125 L 3.59375 -0.28125 L 3.59375 -2.375 Z M 5.671875 -2.375 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M -5.765625 -5.265625 L -5.765625 -4.265625 L -1.28125 -2.671875 L -5.765625 -1.203125 L -5.765625 -0.21875 L 0.015625 -2.171875 L 0.9375 -1.8125 C 1.34375 -1.65625 1.5 -1.46875 1.5 -1.078125 C 1.5 -0.953125 1.46875 -0.796875 1.4375 -0.59375 L 2.25 -0.59375 C 2.359375 -0.78125 2.390625 -0.96875 2.390625 -1.203125 C 2.390625 -1.859375 2.03125 -2.390625 1.203125 -2.6875 Z M -5.765625 -5.265625 "/>
</symbol>
</g>
<clipPath id="clip1">
  <path d="M 38.152344 5.480469 L 435.84375 5.480469 L 435.84375 469.851562 L 38.152344 469.851562 Z M 38.152344 5.480469 "/>
</clipPath>
<clipPath id="clip2">
  <path d="M 38.152344 423 L 435.84375 423 L 435.84375 424 L 38.152344 424 Z M 38.152344 423 "/>
</clipPath>
<clipPath id="clip3">
  <path d="M 38.152344 301 L 435.84375 301 L 435.84375 303 L 38.152344 303 Z M 38.152344 301 "/>
</clipPath>
<clipPath id="clip4">
  <path d="M 38.152344 180 L 435.84375 180 L 435.84375 182 L 38.152344 182 Z M 38.152344 180 "/>
</clipPath>
<clipPath id="clip5">
  <path d="M 38.152344 59 L 435.84375 59 L 435.84375 60 L 38.152344 60 Z M 38.152344 59 "/>
</clipPath>
<clipPath id="clip6">
  <path d="M 97 5.480469 L 99 5.480469 L 99 469.851562 L 97 469.851562 Z M 97 5.480469 "/>
</clipPath>
<clipPath id="clip7">
  <path d="M 189 5.480469 L 190 5.480469 L 190 469.851562 L 189 469.851562 Z M 189 5.480469 "/>
</clipPath>
<clipPath id="clip8">
  <path d="M 280 5.480469 L 282 5.480469 L 282 469.851562 L 280 469.851562 Z M 280 5.480469 "/>
</clipPath>
<clipPath id="clip9">
  <path d="M 372 5.480469 L 373 5.480469 L 373 469.851562 L 372 469.851562 Z M 372 5.480469 "/>
</clipPath>
<clipPath id="clip10">
  <path d="M 38.152344 362 L 435.84375 362 L 435.84375 364 L 38.152344 364 Z M 38.152344 362 "/>
</clipPath>
<clipPath id="clip11">
  <path d="M 38.152344 240 L 435.84375 240 L 435.84375 242 L 38.152344 242 Z M 38.152344 240 "/>
</clipPath>
<clipPath id="clip12">
  <path d="M 38.152344 119 L 435.84375 119 L 435.84375 121 L 38.152344 121 Z M 38.152344 119 "/>
</clipPath>
<clipPath id="clip13">
  <path d="M 51 5.480469 L 53 5.480469 L 53 469.851562 L 51 469.851562 Z M 51 5.480469 "/>
</clipPath>
<clipPath id="clip14">
  <path d="M 143 5.480469 L 145 5.480469 L 145 469.851562 L 143 469.851562 Z M 143 5.480469 "/>
</clipPath>
<clipPath id="clip15">
  <path d="M 234 5.480469 L 236 5.480469 L 236 469.851562 L 234 469.851562 Z M 234 5.480469 "/>
</clipPath>
<clipPath id="clip16">
  <path d="M 326 5.480469 L 328 5.480469 L 328 469.851562 L 326 469.851562 Z M 326 5.480469 "/>
</clipPath>
<clipPath id="clip17">
  <path d="M 417 5.480469 L 419 5.480469 L 419 469.851562 L 417 469.851562 Z M 417 5.480469 "/>
</clipPath>
<clipPath id="clip18">
  <path d="M 452.28125 248.824219 L 469.5625 248.824219 L 469.5625 335.222656 L 452.28125 335.222656 Z M 452.28125 248.824219 "/>
</clipPath>
<image id="image10" width="1" height="300" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEsCAIAAACNMk6CAAAABmJLR0QA/wD/AP+gvaeTAAAAjklEQVQ4jaWTQRKAMAgDd3ik//R1HuOlji3SjNYjhZAEKNt+BCgQIRRIAQRSi2l5hdr79/q1fqBQVw+ErvyipqGH5eh7fNFJi1M+9bC8OT/lrTD9fNYwT/0FpvQzwVju0eObndsd/uUa7qX2NffqNE5w7j7dbCudpXbj2ehX0n3f0ot5pX9/1xkPj79W8p41NH/nSHk1sQAAAABJRU5ErkJggg=="/>
<pattern id="pattern0" patternUnits="userSpaceOnUse" width="1" height="300"  patternTransform="matrix(17.28,0,0,0.288,452.281644,248.82274)">
  <use xlink:href="#image10"/>
</pattern>
</defs>
<g id="surface6">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 0 504 L 504 504 L 504 0 L 0 0 Z M 0 504 "/>
<g clip-path="url(#clip1)" clip-rule="nonzero">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(92.156863%,92.156863%,92.156863%);fill-opacity:1;" d="M 38.152344 469.847656 L 435.84375 469.847656 L 435.84375 5.476562 L 38.152344 5.476562 Z M 38.152344 469.847656 "/>
</g>
<g clip-path="url(#clip2)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 423.289062 L 435.84375 423.289062 "/>
</g>
<g clip-path="url(#clip3)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 302.0625 L 435.84375 302.0625 "/>
</g>
<g clip-path="url(#clip4)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 180.835938 L 435.84375 180.835938 "/>
</g>
<g clip-path="url(#clip5)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 59.605469 L 435.84375 59.605469 "/>
</g>
<g clip-path="url(#clip6)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 97.804688 469.847656 L 97.804688 5.480469 "/>
</g>
<g clip-path="url(#clip7)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 189.320312 469.847656 L 189.320312 5.480469 "/>
</g>
<g clip-path="url(#clip8)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 280.832031 469.847656 L 280.832031 5.480469 "/>
</g>
<g clip-path="url(#clip9)" clip-rule="nonzero">
<path style="fill:none;stroke-width:0.533489;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 372.34375 469.847656 L 372.34375 5.480469 "/>
</g>
<g clip-path="url(#clip10)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 362.675781 L 435.84375 362.675781 "/>
</g>
<g clip-path="url(#clip11)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 241.449219 L 435.84375 241.449219 "/>
</g>
<g clip-path="url(#clip12)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 38.152344 120.21875 L 435.84375 120.21875 "/>
</g>
<g clip-path="url(#clip13)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 52.050781 469.847656 L 52.050781 5.480469 "/>
</g>
<g clip-path="url(#clip14)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 143.5625 469.847656 L 143.5625 5.480469 "/>
</g>
<g clip-path="url(#clip15)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 235.074219 469.847656 L 235.074219 5.480469 "/>
</g>
<g clip-path="url(#clip16)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 326.585938 469.847656 L 326.585938 5.480469 "/>
</g>
<g clip-path="url(#clip17)" clip-rule="nonzero">
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 418.097656 469.847656 L 418.097656 5.480469 "/>
</g>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 313.410156 131.570312 C 313.410156 138.382812 303.195312 138.382812 303.195312 131.570312 C 303.195312 124.761719 313.410156 124.761719 313.410156 131.570312 "/>
<path style="fill-rule:nonzero;fill:rgb(9.803922%,21.960784%,32.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.803922%,21.960784%,32.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 144.414062 423.824219 C 144.414062 427.480469 141.449219 430.445312 137.792969 430.445312 C 134.136719 430.445312 131.171875 427.480469 131.171875 423.824219 C 131.171875 420.167969 134.136719 417.207031 137.792969 417.207031 C 141.449219 417.207031 144.414062 420.167969 144.414062 423.824219 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 170.160156 196.070312 C 170.160156 201.550781 161.9375 201.550781 161.9375 196.070312 C 161.9375 190.589844 170.160156 190.589844 170.160156 196.070312 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.529412%,35.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.529412%,35.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 76.898438 358.953125 C 76.898438 363.140625 70.617188 363.140625 70.617188 358.953125 C 70.617188 354.761719 76.898438 354.761719 76.898438 358.953125 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.784314%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.784314%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 351.660156 83.886719 C 351.660156 90.726562 341.402344 90.726562 341.402344 83.886719 C 341.402344 77.046875 351.660156 77.046875 351.660156 83.886719 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,37.254902%,53.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,37.254902%,53.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 196.152344 261.597656 C 196.152344 268.042969 186.484375 268.042969 186.484375 261.597656 C 186.484375 255.152344 196.152344 255.152344 196.152344 261.597656 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,38.039216%,54.901961%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,38.039216%,54.901961%);stroke-opacity:1;stroke-miterlimit:10;" d="M 298.808594 315.457031 C 298.808594 319.113281 295.847656 322.074219 292.191406 322.074219 C 288.535156 322.074219 285.574219 319.113281 285.574219 315.457031 C 285.574219 311.804688 288.535156 308.839844 292.191406 308.839844 C 295.847656 308.839844 298.808594 311.804688 298.808594 315.457031 "/>
<path style="fill-rule:nonzero;fill:rgb(32.54902%,67.058824%,93.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.54902%,67.058824%,93.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 423.210938 60.042969 C 423.210938 63.046875 420.773438 65.488281 417.765625 65.488281 C 414.757812 65.488281 412.320312 63.046875 412.320312 60.042969 C 412.320312 57.035156 414.757812 54.597656 417.765625 54.597656 C 420.773438 54.597656 423.210938 57.035156 423.210938 60.042969 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.509804%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.509804%);stroke-opacity:1;stroke-miterlimit:10;" d="M 163.097656 231.703125 C 163.097656 237.3125 154.683594 237.3125 154.683594 231.703125 C 154.683594 226.09375 163.097656 226.09375 163.097656 231.703125 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.470588%,79.215686%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.470588%,79.215686%);stroke-opacity:1;stroke-miterlimit:10;" d="M 374.277344 149.425781 C 374.277344 152.539062 371.75 155.066406 368.636719 155.066406 C 365.523438 155.066406 362.996094 152.539062 362.996094 149.425781 C 362.996094 146.308594 365.523438 143.785156 368.636719 143.785156 C 371.75 143.785156 374.277344 146.308594 374.277344 149.425781 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 408.140625 240.722656 C 408.140625 244.386719 405.167969 247.359375 401.5 247.359375 C 397.835938 247.359375 394.863281 244.386719 394.863281 240.722656 C 394.863281 237.054688 397.835938 234.085938 401.5 234.085938 C 405.167969 234.085938 408.140625 237.054688 408.140625 240.722656 "/>
<path style="fill-rule:nonzero;fill:rgb(18.039216%,37.647059%,54.117647%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.039216%,37.647059%,54.117647%);stroke-opacity:1;stroke-miterlimit:10;" d="M 280.492188 308.941406 C 280.492188 312.429688 277.664062 315.261719 274.171875 315.261719 C 270.679688 315.261719 267.851562 312.429688 267.851562 308.941406 C 267.851562 305.449219 270.679688 302.621094 274.171875 302.621094 C 277.664062 302.621094 280.492188 305.449219 280.492188 308.941406 "/>
<path style="fill-rule:nonzero;fill:rgb(9.019608%,20%,30.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.019608%,20%,30.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 106.191406 424.292969 C 106.191406 431.410156 95.515625 431.410156 95.515625 424.292969 C 95.515625 417.175781 106.191406 417.175781 106.191406 424.292969 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.588235%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.588235%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 254.539062 137.976562 C 254.539062 144.214844 245.183594 144.214844 245.183594 137.976562 C 245.183594 131.742188 254.539062 131.742188 254.539062 137.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.823529%,82.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.823529%,82.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 320.078125 86.785156 C 320.078125 93.367188 310.210938 93.367188 310.210938 86.785156 C 310.210938 80.207031 320.078125 80.207031 320.078125 86.785156 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.509804%,49.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.509804%,49.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 255.035156 333.46875 C 255.035156 337 252.171875 339.859375 248.640625 339.859375 C 245.109375 339.859375 242.25 337 242.25 333.46875 C 242.25 329.9375 245.109375 327.074219 248.640625 327.074219 C 252.171875 327.074219 255.035156 329.9375 255.035156 333.46875 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.764706%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.764706%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 206.6875 335.882812 C 206.6875 339.070312 204.101562 341.65625 200.914062 341.65625 C 197.726562 341.65625 195.140625 339.070312 195.140625 335.882812 C 195.140625 332.695312 197.726562 330.109375 200.914062 330.109375 C 204.101562 330.109375 206.6875 332.695312 206.6875 335.882812 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.078431%,78.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.078431%,78.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 406.25 175.085938 C 406.25 178.417969 403.550781 181.121094 400.21875 181.121094 C 396.886719 181.121094 394.183594 178.417969 394.183594 175.085938 C 394.183594 171.753906 396.886719 169.054688 400.21875 169.054688 C 403.550781 169.054688 406.25 171.753906 406.25 175.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(20.784314%,43.529412%,61.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.784314%,43.529412%,61.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 196.253906 184.023438 C 196.253906 189.824219 187.554688 189.824219 187.554688 184.023438 C 187.554688 178.222656 196.253906 178.222656 196.253906 184.023438 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,58.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,58.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 153.25 192.402344 C 153.25 197.574219 145.496094 197.574219 145.496094 192.402344 C 145.496094 187.234375 153.25 187.234375 153.25 192.402344 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.098039%,90.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.098039%,90.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 418.925781 78.765625 C 418.925781 81.808594 416.457031 84.277344 413.410156 84.277344 C 410.367188 84.277344 407.898438 81.808594 407.898438 78.765625 C 407.898438 75.71875 410.367188 73.25 413.410156 73.25 C 416.457031 73.25 418.925781 75.71875 418.925781 78.765625 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.431373%,55.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.431373%,55.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 144.296875 212.332031 C 144.296875 217.460938 136.609375 217.460938 136.609375 212.332031 C 136.609375 207.207031 144.296875 207.207031 144.296875 212.332031 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.784314%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.784314%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 387.695312 107.125 C 387.695312 110.152344 385.242188 112.605469 382.21875 112.605469 C 379.191406 112.605469 376.738281 110.152344 376.738281 107.125 C 376.738281 104.101562 379.191406 101.648438 382.21875 101.648438 C 385.242188 101.648438 387.695312 104.101562 387.695312 107.125 "/>
<path style="fill-rule:nonzero;fill:rgb(8.235294%,18.431373%,28.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(8.235294%,18.431373%,28.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 104.730469 441.671875 C 104.730469 444.980469 102.046875 447.660156 98.742188 447.660156 C 95.433594 447.660156 92.753906 444.980469 92.753906 441.671875 C 92.753906 438.367188 95.433594 435.683594 98.742188 435.683594 C 102.046875 435.683594 104.730469 438.367188 104.730469 441.671875 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.019608%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.019608%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 184.273438 356.128906 C 184.273438 359.296875 181.707031 361.867188 178.539062 361.867188 C 175.367188 361.867188 172.800781 359.296875 172.800781 356.128906 C 172.800781 352.960938 175.367188 350.390625 178.539062 350.390625 C 181.707031 350.390625 184.273438 352.960938 184.273438 356.128906 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.019608%,69.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.019608%,69.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 401.046875 252.433594 C 401.046875 256.140625 398.042969 259.148438 394.332031 259.148438 C 390.625 259.148438 387.621094 256.140625 387.621094 252.433594 C 387.621094 248.726562 390.625 245.71875 394.332031 245.71875 C 398.042969 245.71875 401.046875 248.726562 401.046875 252.433594 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,51.764706%,73.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,51.764706%,73.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 404.914062 220.355469 C 404.914062 223.894531 402.042969 226.761719 398.503906 226.761719 C 394.964844 226.761719 392.097656 223.894531 392.097656 220.355469 C 392.097656 216.816406 394.964844 213.945312 398.503906 213.945312 C 402.042969 213.945312 404.914062 216.816406 404.914062 220.355469 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.196078%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.196078%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 371.636719 217.445312 C 371.636719 220.832031 368.890625 223.578125 365.503906 223.578125 C 362.117188 223.578125 359.371094 220.832031 359.371094 217.445312 C 359.371094 214.058594 362.117188 211.3125 365.503906 211.3125 C 368.890625 211.3125 371.636719 214.058594 371.636719 217.445312 "/>
<path style="fill-rule:nonzero;fill:rgb(13.72549%,29.411765%,43.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.72549%,29.411765%,43.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 137.953125 319.070312 C 137.953125 324.988281 129.074219 324.988281 129.074219 319.070312 C 129.074219 313.148438 137.953125 313.148438 137.953125 319.070312 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.588235%,71.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.588235%,71.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 300.949219 168.820312 C 300.949219 175.785156 290.5 175.785156 290.5 168.820312 C 290.5 161.851562 300.949219 161.851562 300.949219 168.820312 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 79.425781 448.742188 C 79.425781 455.238281 69.679688 455.238281 69.679688 448.742188 C 69.679688 442.246094 79.425781 442.246094 79.425781 448.742188 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,33.72549%,48.627451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,33.72549%,48.627451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 181.296875 295.699219 C 181.296875 302.269531 171.4375 302.269531 171.4375 295.699219 C 171.4375 289.125 181.296875 289.125 181.296875 295.699219 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.921569%,36.078431%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.921569%,36.078431%);stroke-opacity:1;stroke-miterlimit:10;" d="M 130.453125 384.472656 C 130.453125 391.316406 120.1875 391.316406 120.1875 384.472656 C 120.1875 377.628906 130.453125 377.628906 130.453125 384.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,36.862745%,52.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,36.862745%,52.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 126.050781 219.867188 C 126.050781 224.664062 118.851562 224.664062 118.851562 219.867188 C 118.851562 215.066406 126.050781 215.066406 126.050781 219.867188 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,34.117647%,49.411765%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,34.117647%,49.411765%);stroke-opacity:1;stroke-miterlimit:10;" d="M 227.355469 319.304688 C 227.355469 322.519531 224.746094 325.128906 221.527344 325.128906 C 218.3125 325.128906 215.703125 322.519531 215.703125 319.304688 C 215.703125 316.085938 218.3125 313.476562 221.527344 313.476562 C 224.746094 313.476562 227.355469 316.085938 227.355469 319.304688 "/>
<path style="fill-rule:nonzero;fill:rgb(15.686275%,32.941176%,47.843137%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.686275%,32.941176%,47.843137%);stroke-opacity:1;stroke-miterlimit:10;" d="M 256.558594 352.226562 C 256.558594 355.957031 253.535156 358.980469 249.800781 358.980469 C 246.070312 358.980469 243.046875 355.957031 243.046875 352.226562 C 243.046875 348.496094 246.070312 345.46875 249.800781 345.46875 C 253.535156 345.46875 256.558594 348.496094 256.558594 352.226562 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,45.098039%,64.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,45.098039%,64.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 217.070312 177.210938 C 217.070312 183.253906 208.007812 183.253906 208.007812 177.210938 C 208.007812 171.171875 217.070312 171.171875 217.070312 177.210938 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.098039%,37.254902%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.098039%,37.254902%);stroke-opacity:1;stroke-miterlimit:10;" d="M 160.601562 392.023438 C 160.601562 395.34375 157.910156 398.035156 154.59375 398.035156 C 151.273438 398.035156 148.582031 395.34375 148.582031 392.023438 C 148.582031 388.703125 151.273438 386.015625 154.59375 386.015625 C 157.910156 386.015625 160.601562 388.703125 160.601562 392.023438 "/>
<path style="fill-rule:nonzero;fill:rgb(15.294118%,32.156863%,46.666667%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(15.294118%,32.156863%,46.666667%);stroke-opacity:1;stroke-miterlimit:10;" d="M 184.839844 315.84375 C 184.839844 322.765625 174.460938 322.765625 174.460938 315.84375 C 174.460938 308.925781 184.839844 308.925781 184.839844 315.84375 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.078431%,78.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.078431%,78.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 348.117188 134.59375 C 348.117188 141.753906 337.375 141.753906 337.375 134.59375 C 337.375 127.433594 348.117188 127.433594 348.117188 134.59375 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.843137%,41.176471%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.843137%,41.176471%);stroke-opacity:1;stroke-miterlimit:10;" d="M 91.082031 308.0625 C 91.082031 312.460938 84.484375 312.460938 84.484375 308.0625 C 84.484375 303.664062 91.082031 303.664062 91.082031 308.0625 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.431373%,55.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.431373%,55.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 158.429688 221.675781 C 158.429688 227.125 150.253906 227.125 150.253906 221.675781 C 150.253906 216.222656 158.429688 216.222656 158.429688 221.675781 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60.392157%,84.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60.392157%,84.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 376.914062 105.492188 C 376.914062 108.476562 374.496094 110.894531 371.511719 110.894531 C 368.53125 110.894531 366.113281 108.476562 366.113281 105.492188 C 366.113281 102.511719 368.53125 100.09375 371.511719 100.09375 C 374.496094 100.09375 376.914062 102.511719 376.914062 105.492188 "/>
<path style="fill-rule:nonzero;fill:rgb(31.372549%,64.705882%,90.196078%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.372549%,64.705882%,90.196078%);stroke-opacity:1;stroke-miterlimit:10;" d="M 401.992188 73.847656 C 401.992188 81.035156 391.210938 81.035156 391.210938 73.847656 C 391.210938 66.660156 401.992188 66.660156 401.992188 73.847656 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.235294%,41.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.235294%,41.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 135.425781 332.882812 C 135.425781 338.917969 126.371094 338.917969 126.371094 332.882812 C 126.371094 326.84375 135.425781 326.84375 135.425781 332.882812 "/>
<path style="fill-rule:nonzero;fill:rgb(23.529412%,49.411765%,69.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.529412%,49.411765%,69.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 234.074219 139.40625 C 234.074219 145.414062 225.058594 145.414062 225.058594 139.40625 C 225.058594 133.398438 234.074219 133.398438 234.074219 139.40625 "/>
<path style="fill-rule:nonzero;fill:rgb(17.254902%,36.078431%,52.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.254902%,36.078431%,52.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 121.722656 226.808594 C 121.722656 231.550781 114.605469 231.550781 114.605469 226.808594 C 114.605469 222.066406 121.722656 222.066406 121.722656 226.808594 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60%,84.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60%,84.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 422.511719 136.976562 C 422.511719 140.21875 419.882812 142.847656 416.640625 142.847656 C 413.398438 142.847656 410.769531 140.21875 410.769531 136.976562 C 410.769531 133.734375 413.398438 131.105469 416.640625 131.105469 C 419.882812 131.105469 422.511719 133.734375 422.511719 136.976562 "/>
<path style="fill-rule:nonzero;fill:rgb(9.411765%,20.784314%,31.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(9.411765%,20.784314%,31.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 76.882812 392.199219 C 76.882812 396.796875 69.988281 396.796875 69.988281 392.199219 C 69.988281 387.605469 76.882812 387.605469 76.882812 392.199219 "/>
<path style="fill-rule:nonzero;fill:rgb(23.921569%,49.411765%,69.803922%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(23.921569%,49.411765%,69.803922%);stroke-opacity:1;stroke-miterlimit:10;" d="M 279.25 167.605469 C 279.25 174.328125 269.164062 174.328125 269.164062 167.605469 C 269.164062 160.882812 279.25 160.882812 279.25 167.605469 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.921569%,35.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.921569%,35.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 109.445312 373.085938 C 109.445312 378.9375 100.667969 378.9375 100.667969 373.085938 C 100.667969 367.234375 109.445312 367.234375 109.445312 373.085938 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,57.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,57.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 171.433594 206.53125 C 171.433594 212.101562 163.078125 212.101562 163.078125 206.53125 C 163.078125 200.960938 171.433594 200.960938 171.433594 206.53125 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 136.285156 331.472656 C 136.285156 337.511719 127.222656 337.511719 127.222656 331.472656 C 127.222656 325.433594 136.285156 325.433594 136.285156 331.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(27.058824%,56.470588%,79.215686%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.058824%,56.470588%,79.215686%);stroke-opacity:1;stroke-miterlimit:10;" d="M 400.816406 166.992188 C 400.816406 170.273438 398.160156 172.929688 394.878906 172.929688 C 391.601562 172.929688 388.941406 170.273438 388.941406 166.992188 C 388.941406 163.714844 391.601562 161.054688 394.878906 161.054688 C 398.160156 161.054688 400.816406 163.714844 400.816406 166.992188 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.117647%,76.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.117647%,76.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 313.214844 133.332031 C 313.214844 140.152344 302.984375 140.152344 302.984375 133.332031 C 302.984375 126.511719 313.214844 126.511719 313.214844 133.332031 "/>
<path style="fill-rule:nonzero;fill:rgb(16.862745%,35.294118%,51.372549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.862745%,35.294118%,51.372549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 228.664062 303.460938 C 228.664062 306.578125 226.140625 309.101562 223.023438 309.101562 C 219.90625 309.101562 217.382812 306.578125 217.382812 303.460938 C 217.382812 300.34375 219.90625 297.816406 223.023438 297.816406 C 226.140625 297.816406 228.664062 300.34375 228.664062 303.460938 "/>
<path style="fill-rule:nonzero;fill:rgb(27.843137%,57.254902%,80.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(27.843137%,57.254902%,80.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 412.339844 164.3125 C 412.339844 167.621094 409.65625 170.304688 406.347656 170.304688 C 403.039062 170.304688 400.351562 167.621094 400.351562 164.3125 C 400.351562 161 403.039062 158.316406 406.347656 158.316406 C 409.65625 158.316406 412.339844 161 412.339844 164.3125 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,21.960784%,33.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,21.960784%,33.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 68.726562 372.472656 C 68.726562 376.257812 63.050781 376.257812 63.050781 372.472656 C 63.050781 368.6875 68.726562 368.6875 68.726562 372.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(26.666667%,55.294118%,78.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.666667%,55.294118%,78.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 393.519531 173.582031 C 393.519531 176.859375 390.863281 179.519531 387.582031 179.519531 C 384.304688 179.519531 381.648438 176.859375 381.648438 173.582031 C 381.648438 170.304688 384.304688 167.644531 387.582031 167.644531 C 390.863281 167.644531 393.519531 170.304688 393.519531 173.582031 "/>
<path style="fill-rule:nonzero;fill:rgb(14.901961%,31.764706%,46.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.901961%,31.764706%,46.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 154.878906 302.769531 C 154.878906 308.886719 145.699219 308.886719 145.699219 302.769531 C 145.699219 296.648438 154.878906 296.648438 154.878906 302.769531 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.784314%,58.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.784314%,58.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 299.453125 285.636719 C 299.453125 289.070312 296.671875 291.851562 293.238281 291.851562 C 289.804688 291.851562 287.023438 289.070312 287.023438 285.636719 C 287.023438 282.203125 289.804688 279.421875 293.238281 279.421875 C 296.671875 279.421875 299.453125 282.203125 299.453125 285.636719 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.529412%,35.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.529412%,35.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 72.089844 352.5 C 72.089844 356.34375 66.328125 356.34375 66.328125 352.5 C 66.328125 348.660156 72.089844 348.660156 72.089844 352.5 "/>
<path style="fill-rule:nonzero;fill:rgb(16.078431%,33.72549%,49.019608%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.078431%,33.72549%,49.019608%);stroke-opacity:1;stroke-miterlimit:10;" d="M 136.109375 265.363281 C 136.109375 270.699219 128.105469 270.699219 128.105469 265.363281 C 128.105469 260.027344 136.109375 260.027344 136.109375 265.363281 "/>
<path style="fill-rule:nonzero;fill:rgb(26.27451%,54.509804%,76.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(26.27451%,54.509804%,76.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 305.941406 125.035156 C 305.941406 131.726562 295.90625 131.726562 295.90625 125.035156 C 295.90625 118.34375 305.941406 118.34375 305.941406 125.035156 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,37.254902%,53.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,37.254902%,53.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 114.246094 205.453125 C 114.246094 209.90625 107.566406 209.90625 107.566406 205.453125 C 107.566406 201 114.246094 201 114.246094 205.453125 "/>
<path style="fill-rule:nonzero;fill:rgb(24.705882%,50.980392%,72.156863%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.705882%,50.980392%,72.156863%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.425781 223.945312 C 392.425781 227.453125 389.582031 230.296875 386.074219 230.296875 C 382.566406 230.296875 379.722656 227.453125 379.722656 223.945312 C 379.722656 220.4375 382.566406 217.597656 386.074219 217.597656 C 389.582031 217.597656 392.425781 220.4375 392.425781 223.945312 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,40%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,40%);stroke-opacity:1;stroke-miterlimit:10;" d="M 194.996094 387.394531 C 194.996094 391.039062 192.042969 393.988281 188.402344 393.988281 C 184.761719 393.988281 181.808594 391.039062 181.808594 387.394531 C 181.808594 383.753906 184.761719 380.800781 188.402344 380.800781 C 192.042969 380.800781 194.996094 383.753906 194.996094 387.394531 "/>
<path style="fill-rule:nonzero;fill:rgb(17.647059%,37.254902%,53.72549%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(17.647059%,37.254902%,53.72549%);stroke-opacity:1;stroke-miterlimit:10;" d="M 253.417969 295.867188 C 253.417969 299.097656 250.800781 301.714844 247.570312 301.714844 C 244.34375 301.714844 241.726562 299.097656 241.726562 295.867188 C 241.726562 292.636719 244.34375 290.019531 247.570312 290.019531 C 250.800781 290.019531 253.417969 292.636719 253.417969 295.867188 "/>
<path style="fill-rule:nonzero;fill:rgb(19.607843%,41.176471%,58.823529%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.607843%,41.176471%,58.823529%);stroke-opacity:1;stroke-miterlimit:10;" d="M 288.722656 271.613281 C 288.722656 274.898438 286.058594 277.5625 282.773438 277.5625 C 279.488281 277.5625 276.828125 274.898438 276.828125 271.613281 C 276.828125 268.328125 279.488281 265.664062 282.773438 265.664062 C 286.058594 265.664062 288.722656 268.328125 288.722656 271.613281 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,41.960784%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,41.960784%);stroke-opacity:1;stroke-miterlimit:10;" d="M 113.898438 316.980469 C 113.898438 322.21875 106.042969 322.21875 106.042969 316.980469 C 106.042969 311.742188 113.898438 311.742188 113.898438 316.980469 "/>
<path style="fill-rule:nonzero;fill:rgb(12.54902%,27.058824%,39.607843%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.54902%,27.058824%,39.607843%);stroke-opacity:1;stroke-miterlimit:10;" d="M 114.179688 337.53125 C 114.179688 343.011719 105.957031 343.011719 105.957031 337.53125 C 105.957031 332.050781 114.179688 332.050781 114.179688 337.53125 "/>
<path style="fill-rule:nonzero;fill:rgb(18.431373%,38.823529%,55.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.431373%,38.823529%,55.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 163.175781 219.511719 C 163.175781 225.03125 154.894531 225.03125 154.894531 219.511719 C 154.894531 213.988281 163.175781 213.988281 163.175781 219.511719 "/>
<path style="fill-rule:nonzero;fill:rgb(13.333333%,28.627451%,42.352941%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(13.333333%,28.627451%,42.352941%);stroke-opacity:1;stroke-miterlimit:10;" d="M 99.15625 303.132812 C 99.15625 307.777344 92.1875 307.777344 92.1875 303.132812 C 92.1875 298.484375 99.15625 298.484375 99.15625 303.132812 "/>
<path style="fill-rule:nonzero;fill:rgb(25.882353%,53.72549%,75.686275%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.882353%,53.72549%,75.686275%);stroke-opacity:1;stroke-miterlimit:10;" d="M 424.195312 212.515625 C 424.195312 216.085938 421.300781 218.984375 417.726562 218.984375 C 414.152344 218.984375 411.253906 216.085938 411.253906 212.515625 C 411.253906 208.941406 414.152344 206.042969 417.726562 206.042969 C 421.300781 206.042969 424.195312 208.941406 424.195312 212.515625 "/>
<path style="fill-rule:nonzero;fill:rgb(25.098039%,51.764706%,72.941176%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(25.098039%,51.764706%,72.941176%);stroke-opacity:1;stroke-miterlimit:10;" d="M 373.011719 201.738281 C 373.011719 205.054688 370.324219 207.746094 367.003906 207.746094 C 363.683594 207.746094 360.992188 205.054688 360.992188 201.738281 C 360.992188 198.417969 363.683594 195.726562 367.003906 195.726562 C 370.324219 195.726562 373.011719 198.417969 373.011719 201.738281 "/>
<path style="fill-rule:nonzero;fill:rgb(12.941176%,27.45098%,40.392157%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(12.941176%,27.45098%,40.392157%);stroke-opacity:1;stroke-miterlimit:10;" d="M 163.855469 362.492188 C 163.855469 365.515625 161.402344 367.96875 158.378906 367.96875 C 155.355469 367.96875 152.902344 365.515625 152.902344 362.492188 C 152.902344 359.46875 155.355469 357.015625 158.378906 357.015625 C 161.402344 357.015625 163.855469 359.46875 163.855469 362.492188 "/>
<path style="fill-rule:nonzero;fill:rgb(29.019608%,60.392157%,84.705882%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.019608%,60.392157%,84.705882%);stroke-opacity:1;stroke-miterlimit:10;" d="M 347.601562 87.355469 C 347.601562 94.183594 337.359375 94.183594 337.359375 87.355469 C 337.359375 80.527344 347.601562 80.527344 347.601562 87.355469 "/>
<path style="fill-rule:nonzero;fill:rgb(28.235294%,58.039216%,81.568627%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(28.235294%,58.039216%,81.568627%);stroke-opacity:1;stroke-miterlimit:10;" d="M 384.976562 135.472656 C 384.976562 138.578125 382.457031 141.097656 379.351562 141.097656 C 376.246094 141.097656 373.726562 138.578125 373.726562 135.472656 C 373.726562 132.367188 376.246094 129.847656 379.351562 129.847656 C 382.457031 129.847656 384.976562 132.367188 384.976562 135.472656 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 412.117188 26.585938 C 412.117188 33.5625 401.652344 33.5625 401.652344 26.585938 C 401.652344 19.609375 412.117188 19.609375 412.117188 26.585938 "/>
<path style="fill-rule:nonzero;fill:rgb(11.764706%,25.490196%,38.039216%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(11.764706%,25.490196%,38.039216%);stroke-opacity:1;stroke-miterlimit:10;" d="M 123.449219 359.542969 C 123.449219 365.644531 114.300781 365.644531 114.300781 359.542969 C 114.300781 353.445312 123.449219 353.445312 123.449219 359.542969 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 345.335938 269.207031 C 345.335938 272.769531 342.449219 275.65625 338.886719 275.65625 C 335.324219 275.65625 332.4375 272.769531 332.4375 269.207031 C 332.4375 265.644531 335.324219 262.757812 338.886719 262.757812 C 342.449219 262.757812 345.335938 265.644531 345.335938 269.207031 "/>
<path style="fill-rule:nonzero;fill:rgb(31.764706%,65.098039%,90.980392%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(31.764706%,65.098039%,90.980392%);stroke-opacity:1;stroke-miterlimit:10;" d="M 375.226562 49.945312 C 375.226562 56.773438 364.980469 56.773438 364.980469 49.945312 C 364.980469 43.113281 375.226562 43.113281 375.226562 49.945312 "/>
<path style="fill-rule:nonzero;fill:rgb(29.411765%,60.392157%,85.098039%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(29.411765%,60.392157%,85.098039%);stroke-opacity:1;stroke-miterlimit:10;" d="M 330.515625 72.261719 C 330.515625 78.847656 320.636719 78.847656 320.636719 72.261719 C 320.636719 65.675781 330.515625 65.675781 330.515625 72.261719 "/>
<path style="fill-rule:nonzero;fill:rgb(21.568627%,44.705882%,63.529412%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.568627%,44.705882%,63.529412%);stroke-opacity:1;stroke-miterlimit:10;" d="M 253.160156 207.476562 C 253.160156 214.222656 243.039062 214.222656 243.039062 207.476562 C 243.039062 200.726562 253.160156 200.726562 253.160156 207.476562 "/>
<path style="fill-rule:nonzero;fill:rgb(30.196078%,61.960784%,87.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(30.196078%,61.960784%,87.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 399.816406 99.808594 C 399.816406 102.855469 397.351562 105.320312 394.304688 105.320312 C 391.261719 105.320312 388.792969 102.855469 388.792969 99.808594 C 388.792969 96.765625 391.261719 94.296875 394.304688 94.296875 C 397.351562 94.296875 399.816406 96.765625 399.816406 99.808594 "/>
<path style="fill-rule:nonzero;fill:rgb(10.196078%,21.960784%,33.333333%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.196078%,21.960784%,33.333333%);stroke-opacity:1;stroke-miterlimit:10;" d="M 125.644531 409.324219 C 125.644531 412.398438 123.15625 414.886719 120.085938 414.886719 C 117.011719 414.886719 114.523438 412.398438 114.523438 409.324219 C 114.523438 406.253906 117.011719 403.765625 120.085938 403.765625 C 123.15625 403.765625 125.644531 406.253906 125.644531 409.324219 "/>
<path style="fill-rule:nonzero;fill:rgb(20.392157%,42.352941%,60.784314%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(20.392157%,42.352941%,60.784314%);stroke-opacity:1;stroke-miterlimit:10;" d="M 256.40625 234.929688 C 256.40625 241.988281 245.824219 241.988281 245.824219 234.929688 C 245.824219 227.875 256.40625 227.875 256.40625 234.929688 "/>
<path style="fill-rule:nonzero;fill:rgb(24.313725%,50.588235%,71.764706%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(24.313725%,50.588235%,71.764706%);stroke-opacity:1;stroke-miterlimit:10;" d="M 345.433594 196.078125 C 345.433594 199.257812 342.855469 201.835938 339.675781 201.835938 C 336.492188 201.835938 333.914062 199.257812 333.914062 196.078125 C 333.914062 192.898438 336.492188 190.320312 339.675781 190.320312 C 342.855469 190.320312 345.433594 192.898438 345.433594 196.078125 "/>
<path style="fill-rule:nonzero;fill:rgb(33.72549%,69.411765%,96.862745%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(33.72549%,69.411765%,96.862745%);stroke-opacity:1;stroke-miterlimit:10;" d="M 415.183594 28.558594 C 415.183594 35.570312 404.667969 35.570312 404.667969 28.558594 C 404.667969 21.550781 415.183594 21.550781 415.183594 28.558594 "/>
<path style="fill-rule:nonzero;fill:rgb(10.980392%,23.529412%,35.294118%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(10.980392%,23.529412%,35.294118%);stroke-opacity:1;stroke-miterlimit:10;" d="M 130.367188 392.390625 C 130.367188 399.441406 119.789062 399.441406 119.789062 392.390625 C 119.789062 385.339844 130.367188 385.339844 130.367188 392.390625 "/>
<path style="fill-rule:nonzero;fill:rgb(14.117647%,30.196078%,44.313725%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.117647%,30.196078%,44.313725%);stroke-opacity:1;stroke-miterlimit:10;" d="M 57.90625 258.03125 C 57.90625 259.929688 55.0625 259.929688 55.0625 258.03125 C 55.0625 256.136719 57.90625 256.136719 57.90625 258.03125 "/>
<path style="fill-rule:nonzero;fill:rgb(7.45098%,16.862745%,26.27451%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(7.45098%,16.862745%,26.27451%);stroke-opacity:1;stroke-miterlimit:10;" d="M 58.816406 437.90625 C 58.816406 441.363281 53.636719 441.363281 53.636719 437.90625 C 53.636719 434.453125 58.816406 434.453125 58.816406 437.90625 "/>
<path style="fill-rule:nonzero;fill:rgb(32.54902%,67.45098%,94.117647%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(32.54902%,67.45098%,94.117647%);stroke-opacity:1;stroke-miterlimit:10;" d="M 381.363281 29.417969 C 381.363281 36.179688 371.21875 36.179688 371.21875 29.417969 C 371.21875 22.65625 381.363281 22.65625 381.363281 29.417969 "/>
<path style="fill-rule:nonzero;fill:rgb(19.215686%,40.392157%,57.647059%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(19.215686%,40.392157%,57.647059%);stroke-opacity:1;stroke-miterlimit:10;" d="M 230.886719 245.445312 C 230.886719 252.257812 220.664062 252.257812 220.664062 245.445312 C 220.664062 238.628906 230.886719 238.628906 230.886719 245.445312 "/>
<path style="fill-rule:nonzero;fill:rgb(18.823529%,39.215686%,56.470588%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(18.823529%,39.215686%,56.470588%);stroke-opacity:1;stroke-miterlimit:10;" d="M 283.835938 291.105469 C 283.835938 294.488281 281.09375 297.226562 277.714844 297.226562 C 274.332031 297.226562 271.589844 294.488281 271.589844 291.105469 C 271.589844 287.722656 274.332031 284.984375 277.714844 284.984375 C 281.09375 284.984375 283.835938 287.722656 283.835938 291.105469 "/>
<path style="fill-rule:nonzero;fill:rgb(16.470588%,34.901961%,50.588235%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(16.470588%,34.901961%,50.588235%);stroke-opacity:1;stroke-miterlimit:10;" d="M 140.367188 252.652344 C 140.367188 257.980469 132.378906 257.980469 132.378906 252.652344 C 132.378906 247.324219 140.367188 247.324219 140.367188 252.652344 "/>
<path style="fill-rule:nonzero;fill:rgb(21.176471%,44.313725%,63.137255%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(21.176471%,44.313725%,63.137255%);stroke-opacity:1;stroke-miterlimit:10;" d="M 219.820312 190.757812 C 219.820312 196.933594 210.558594 196.933594 210.558594 190.757812 C 210.558594 184.582031 219.820312 184.582031 219.820312 190.757812 "/>
<path style="fill-rule:nonzero;fill:rgb(22.745098%,47.45098%,67.058824%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(22.745098%,47.45098%,67.058824%);stroke-opacity:1;stroke-miterlimit:10;" d="M 240.3125 167.089844 C 240.3125 173.355469 230.910156 173.355469 230.910156 167.089844 C 230.910156 160.824219 240.3125 160.824219 240.3125 167.089844 "/>
<path style="fill-rule:nonzero;fill:rgb(14.509804%,30.980392%,45.490196%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(14.509804%,30.980392%,45.490196%);stroke-opacity:1;stroke-miterlimit:10;" d="M 83.527344 263.777344 C 83.527344 267.613281 77.773438 267.613281 77.773438 263.777344 C 77.773438 259.941406 83.527344 259.941406 83.527344 263.777344 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="20.21875" y="365.27832"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="365.27832"/>
  <use xlink:href="#glyph0-3" x="27.557617" y="365.27832"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="244.051758"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="244.051758"/>
  <use xlink:href="#glyph0-1" x="27.557617" y="244.051758"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="20.21875" y="122.821289"/>
  <use xlink:href="#glyph0-2" x="25.111328" y="122.821289"/>
  <use xlink:href="#glyph0-3" x="27.557617" y="122.821289"/>
</g>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 362.675781 L 38.152344 362.675781 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 241.449219 L 38.152344 241.449219 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 35.410156 120.21875 L 38.152344 120.21875 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 52.050781 472.589844 L 52.050781 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 143.5625 472.589844 L 143.5625 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 235.074219 472.589844 L 235.074219 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 326.585938 472.589844 L 326.585938 469.847656 "/>
<path style="fill:none;stroke-width:1.066978;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(20%,20%,20%);stroke-opacity:1;stroke-miterlimit:10;" d="M 418.097656 472.589844 L 418.097656 469.847656 "/>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="43.050781" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="47.943359" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="50.389648" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="55.282227" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="134.5625" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="139.455078" y="480.883789"/>
  <use xlink:href="#glyph0-5" x="141.901367" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="146.793945" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="226.074219" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="230.966797" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="233.413086" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="238.305664" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="317.585938" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="322.478516" y="480.883789"/>
  <use xlink:href="#glyph0-6" x="324.924805" y="480.883789"/>
  <use xlink:href="#glyph0-3" x="329.817383" y="480.883789"/>
</g>
<g style="fill:rgb(30.196078%,30.196078%,30.196078%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="409.097656" y="480.883789"/>
  <use xlink:href="#glyph0-2" x="413.990234" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="416.436523" y="480.883789"/>
  <use xlink:href="#glyph0-1" x="421.329102" y="480.883789"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="233.996094" y="495.147461"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="14.108398" y="240.664062"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 214.90625 L 498.519531 214.90625 L 498.519531 134.628906 L 446.800781 134.628906 Z M 446.800781 214.90625 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="150.233398"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="150.233398"/>
  <use xlink:href="#glyph1-3" x="461.444336" y="150.233398"/>
  <use xlink:href="#glyph1-4" x="464.501953" y="150.233398"/>
  <use xlink:href="#glyph1-5" x="470.001953" y="150.233398"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 174.867188 L 469.5625 174.867188 L 469.5625 157.585938 L 452.28125 157.585938 Z M 452.28125 174.867188 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 464.964844 166.226562 C 464.964844 171.617188 456.878906 171.617188 456.878906 166.226562 C 456.878906 160.835938 464.964844 160.835938 464.964844 166.226562 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 192.144531 L 469.5625 192.144531 L 469.5625 174.863281 L 452.28125 174.863281 Z M 452.28125 192.144531 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.101562 183.503906 C 466.101562 190.410156 455.742188 190.410156 455.742188 183.503906 C 455.742188 176.601562 466.101562 176.601562 466.101562 183.503906 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.901961%,94.901961%,94.901961%);fill-opacity:1;" d="M 452.28125 209.425781 L 469.5625 209.425781 L 469.5625 192.144531 L 452.28125 192.144531 Z M 452.28125 209.425781 "/>
<path style="fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;stroke-width:0.708661;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.964844 200.785156 C 466.964844 204.125 464.257812 206.828125 460.921875 206.828125 C 457.582031 206.828125 454.878906 204.125 454.878906 200.785156 C 454.878906 197.449219 457.582031 194.742188 460.921875 194.742188 C 464.257812 194.742188 466.964844 197.449219 466.964844 200.785156 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="168.829102"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="168.829102"/>
  <use xlink:href="#glyph0-5" x="482.381836" y="168.829102"/>
  <use xlink:href="#glyph0-3" x="487.274414" y="168.829102"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="186.106445"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="186.106445"/>
  <use xlink:href="#glyph0-3" x="482.381836" y="186.106445"/>
  <use xlink:href="#glyph0-1" x="487.274414" y="186.106445"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="475.042969" y="203.387695"/>
  <use xlink:href="#glyph0-2" x="479.935547" y="203.387695"/>
  <use xlink:href="#glyph0-6" x="482.381836" y="203.387695"/>
  <use xlink:href="#glyph0-3" x="487.274414" y="203.387695"/>
</g>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 446.800781 340.703125 L 488.757812 340.703125 L 488.757812 225.863281 L 446.800781 225.863281 Z M 446.800781 340.703125 "/>
<g clip-path="url(#clip18)" clip-rule="nonzero">
<rect x="0" y="0" width="504" height="504" style="fill:url(#pattern0);stroke:none;"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="475.042969" y="311.766602"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="475.042969" y="279.329102"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="452.28125" y="241.47168"/>
  <use xlink:href="#glyph1-1" x="455.944336" y="241.47168"/>
  <use xlink:href="#glyph1-6" x="461.444336" y="241.47168"/>
  <use xlink:href="#glyph1-7" x="464.501953" y="241.47168"/>
  <use xlink:href="#glyph1-6" x="470.925781" y="241.47168"/>
  <use xlink:href="#glyph1-4" x="473.983398" y="241.47168"/>
  <use xlink:href="#glyph1-5" x="479.483398" y="241.47168"/>
</g>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 309.164062 L 455.738281 309.164062 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 452.28125 276.726562 L 455.738281 276.726562 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 309.164062 L 469.5625 309.164062 "/>
<path style="fill:none;stroke-width:0.375;stroke-linecap:butt;stroke-linejoin:round;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:10;" d="M 466.105469 276.726562 L 469.5625 276.726562 "/>
</g>
</svg>
</div><div class="nspbox"><div><p>Any plot (function or object) can be saved to file or converted to BufferedImage object.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(plot->file&nbsp;(str&nbsp;target-path&nbsp;"histogram.jpg")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Histogram"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"data:&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;800</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;400</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:quality&nbsp;50))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:breaks&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5],</br>&nbsp;:counts&nbsp;[5&nbsp;1&nbsp;1&nbsp;1],</br>&nbsp;:density&nbsp;[0.625&nbsp;0.125&nbsp;0.125&nbsp;0.125],</br>&nbsp;:mids&nbsp;[1.5&nbsp;2.5&nbsp;3.5&nbsp;4.5],</br>&nbsp;:xname&nbsp;["c(1L,&nbsp;1L,&nbsp;1L,&nbsp;1L,&nbsp;2L,&nbsp;3L,&nbsp;4L,&nbsp;5L)"],</br>&nbsp;:equidist&nbsp;[true]}</code></div></div><div class="nspbox"><image src="histogram.jpg"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->buffered-image&nbsp;(fn&nbsp;[]&nbsp;(hist&nbsp;[1&nbsp;1&nbsp;1&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:width&nbsp;222</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:height&nbsp;149)</code></div><div class="nspout"><code class="prettyprint lang-clj">#object[java.awt.image.BufferedImage&nbsp;0x27c12f44&nbsp;"BufferedImage@27c12f44:&nbsp;type&nbsp;=&nbsp;2&nbsp;DirectColorModel:&nbsp;rmask=ff0000&nbsp;gmask=ff00&nbsp;bmask=ff&nbsp;amask=ff000000&nbsp;IntegerInterleavedRaster:&nbsp;width&nbsp;=&nbsp;222&nbsp;height&nbsp;=&nbsp;149&nbsp;#Bands&nbsp;=&nbsp;4&nbsp;xOff&nbsp;=&nbsp;0&nbsp;yOff&nbsp;=&nbsp;0&nbsp;dataOffset[0]&nbsp;0"]</code></div></div><div class="nspbox"><a id="intermediary-representation-as-Java-objects"> </a><div><h2>Intermediary representation as Java objects.</h2></div></div><div class="nspbox"><div><p>Clojisr relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(import&nbsp;(org.rosuda.REngine&nbsp;REXP&nbsp;REXPInteger&nbsp;REXPDouble))</code></div></div><div class="nspbox"><div><p>We can convert data between R and Java.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</code></div></div><div class="nspbox"><div><p>We can further convert data from the java representation to Clojure.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</code></div></div><div class="nspbox"><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->native-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->native-clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;[1,&nbsp;1,&nbsp;1]}</code></div></div><div class="nspbox"><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</code></div></div><div class="nspbox"><a id="more-data-conversion-examples"> </a><div><h2>More data conversion examples</h2></div></div><div class="nspbox"><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Partially named lists are also supported</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,'hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;1&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;1&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{1&nbsp;"1",&nbsp;:$value&nbsp;2,&nbsp;0&nbsp;"a"}&nbsp;{1&nbsp;"1",&nbsp;:$value&nbsp;2,&nbsp;0&nbsp;"b"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{1&nbsp;"2",&nbsp;:$value&nbsp;1,&nbsp;0&nbsp;"a"}&nbsp;{1&nbsp;"2",&nbsp;:$value&nbsp;1,&nbsp;0&nbsp;"b"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{1&nbsp;"3",&nbsp;:$value&nbsp;1,&nbsp;0&nbsp;"a"}&nbsp;{1&nbsp;"3",&nbsp;:$value&nbsp;1,&nbsp;0&nbsp;"b"}]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[{0&nbsp;"a",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;2}&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"1",&nbsp;:$value&nbsp;2}&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;1}&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"2",&nbsp;:$value&nbsp;1}&nbsp;{0&nbsp;"a",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}&nbsp;{0&nbsp;"b",&nbsp;1&nbsp;"3",&nbsp;:$value&nbsp;1}]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</code></div><div class="nspout"><code class="prettyprint lang-clj">["list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\")"]</code></div></div><div class="nspbox"><div><h3>Basic types convertion clj->r->clj</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr.v1.tutorial-test/clj->r->clj</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;nil)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10&nbsp;11]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;11]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;11.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}]</code></div></div><div class="nspbox"><div><h3>Various R objects</h3></div></div><div class="nspbox"><div><p>Named list</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1L,b=c(10,20),c='hi!')")&nbsp;;;&nbsp;named&nbsp;list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</code></div></div><div class="nspbox"><div><p>Array of doubles</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")&nbsp;;;&nbsp;array&nbsp;of&nbsp;doubles</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</code></div></div><div class="nspbox"><div><p>Array of longs</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10L,20L,30L)")&nbsp;;;&nbsp;array&nbsp;of&nbsp;longs</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10&nbsp;20&nbsp;30]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;20&nbsp;30]]</code></div></div><div class="nspbox"><div><p>Timeseries</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;'euro)&nbsp;;;&nbsp;timeseries</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</code></div></div><div class="nspbox"><div><p>Pairlist</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)&nbsp;;;&nbsp;pairlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</code></div></div><div class="nspbox"><div><p>NULL</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")&nbsp;;;&nbsp;null</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</code></div></div><div class="nspbox"><div><p>TRUE/FALSE</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")&nbsp;;;&nbsp;true/false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</code></div></div><div class="nspbox"><a id="inspecting-R-functions"> </a><div><h2>Inspecting R functions</h2></div></div><div class="nspbox"><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r&nbsp;'mean)</code></div><div class="nspout"><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x55dffc6cd700></br><environment:&nbsp;namespace:base></code></div></div><div class="nspbox"><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;(symbol&nbsp;"")}))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</code></div></div><div class="nspbox"><a id="R-function-arglists"> </a><div><h2>R-function-arglists</h2></div></div><div class="nspbox"><div><p>As we saw earlier, R functions are Clojure functions. The arglists of functions brought up by <code>require-r</code> match the expected arguments. Here are some examples:</p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base]&nbsp;'[stats]&nbsp;'[grDevices])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->></br>&nbsp;&nbsp;&nbsp;[#'r.base/mean&nbsp;#'r.base/mean-default&nbsp;#'r.stats/arima0</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.grDevices/dev-off&nbsp;#'r.base/Sys-info&nbsp;#'r.base/summary-default</br>&nbsp;&nbsp;&nbsp;&nbsp;;;&nbsp;Primitive&nbsp;functions:</br>&nbsp;&nbsp;&nbsp;&nbsp;#'r.base/sin&nbsp;#'r.base/sum]</br>&nbsp;&nbsp;&nbsp;(map&nbsp;(fn&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(update&nbsp;:ns&nbsp;(comp&nbsp;symbol&nbsp;str)))))</br>&nbsp;&nbsp;&nbsp;(check</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys&nbsp;[order&nbsp;seasonal&nbsp;xreg&nbsp;include.mean&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars&nbsp;fixed&nbsp;init&nbsp;method&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})))</code></div><div class="nspout"><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;({:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[...]}]),&nbsp;:name&nbsp;mean,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x&nbsp;&&nbsp;{:keys&nbsp;[trim&nbsp;na.rm&nbsp;...]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;mean-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists</br>&nbsp;&nbsp;&nbsp;([x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[order</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seasonal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xreg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include.mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delta</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform.pars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optim.control]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;arima0,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.stats}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[which]}]),&nbsp;:name&nbsp;dev-off,&nbsp;:ns&nbsp;r.grDevices}</br>&nbsp;&nbsp;{:arglists&nbsp;([]),&nbsp;:name&nbsp;Sys-info,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([object&nbsp;&&nbsp;{:keys&nbsp;[...&nbsp;digits&nbsp;quantile.type]}]),</br>&nbsp;&nbsp;&nbsp;:name&nbsp;summary-default,</br>&nbsp;&nbsp;&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([x]),&nbsp;:name&nbsp;sin,&nbsp;:ns&nbsp;r.base}</br>&nbsp;&nbsp;{:arglists&nbsp;([&&nbsp;{:keys&nbsp;[...&nbsp;na.rm]}]),&nbsp;:name&nbsp;sum,&nbsp;:ns&nbsp;r.base})]</code></div></div><hr><div>Checks: <b class="PASSED">60 PASSED </b><hr></div><div><i><small><a href="https://github.com/scicloj/clojisr/tree/master/test/clojisr/v1/tutorial_test.clj">clojisr.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Fri Sep 04 15:40:57 IDT 2020.</small></i><hr></div></div></body></html></html>